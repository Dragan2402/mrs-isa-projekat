{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, createVNode as _createVNode } from \"vue\";\n\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"h2\", null, \"OVO JE ADMIN PAGE\", -1\n/* HOISTED */\n);\n\nconst _hoisted_2 = [\"index\"];\nconst _hoisted_3 = [\"onClick\"];\n\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_5 = [\"index\"];\nconst _hoisted_6 = [\"onClick\"];\n\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_8 = [\"index\"];\nconst _hoisted_9 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_view = _resolveComponent(\"router-view\");\n\n  return _openBlock(), _createElementBlock(_Fragment, null, [_hoisted_1, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(this.complaints, (complaint, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      style: {\n        \"border\": \"1px solid black\",\n        \"margin\": \"10px\",\n        \"padding\": \"10px\"\n      },\n      index: index,\n      key: complaint.id\n    }, [_createElementVNode(\"div\", null, \"Text: \" + _toDisplayString(complaint.text), 1\n    /* TEXT */\n    ), _createElementVNode(\"div\", null, \"Approved: \" + _toDisplayString(complaint.approved), 1\n    /* TEXT */\n    ), _createElementVNode(\"div\", null, [_createElementVNode(\"button\", {\n      class: \"custom-btn button-primary\",\n      onClick: $event => $options.approveReport(complaint, index)\n    }, \"Approve Complaint\", 8\n    /* PROPS */\n    , _hoisted_3)])], 8\n    /* PROPS */\n    , _hoisted_2);\n  }), 128\n  /* KEYED_FRAGMENT */\n  )), _hoisted_4, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(this.reviews, (review, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      style: {\n        \"border\": \"1px solid black\",\n        \"margin\": \"10px\",\n        \"padding\": \"10px\"\n      },\n      index: index,\n      key: review.id\n    }, [_createElementVNode(\"div\", null, \"Text: \" + _toDisplayString(review.comment), 1\n    /* TEXT */\n    ), _createElementVNode(\"div\", null, \"Approved: \" + _toDisplayString(review.approved), 1\n    /* TEXT */\n    ), _createElementVNode(\"div\", null, [_createElementVNode(\"button\", {\n      class: \"custom-btn button-primary\",\n      onClick: $event => $options.approveReview(review, index)\n    }, \"Approve Review\", 8\n    /* PROPS */\n    , _hoisted_6)])], 8\n    /* PROPS */\n    , _hoisted_5);\n  }), 128\n  /* KEYED_FRAGMENT */\n  )), _hoisted_7, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(this.requests, (request, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      style: {\n        \"border\": \"1px solid black\",\n        \"margin\": \"10px\",\n        \"padding\": \"10px\"\n      },\n      index: index,\n      key: request.id\n    }, [_createElementVNode(\"div\", null, \"Text: \" + _toDisplayString(request.text), 1\n    /* TEXT */\n    ), _createElementVNode(\"div\", null, \"Type: \" + _toDisplayString(request.type), 1\n    /* TEXT */\n    ), _createElementVNode(\"div\", null, [_createElementVNode(\"button\", {\n      class: \"custom-btn button-primary\",\n      onClick: $event => $options.approveRequest(request, index)\n    }, \"Approve Request\", 8\n    /* PROPS */\n    , _hoisted_9)])], 8\n    /* PROPS */\n    , _hoisted_8);\n  }), 128\n  /* KEYED_FRAGMENT */\n  )), _createVNode(_component_router_view)], 64\n  /* STABLE_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":"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","names":["_createElementVNode","_hoisted_1","_createElementBlock","_Fragment","_renderList","complaints","complaint","index","style","key","id","_toDisplayString","text","approved","class","onClick","$options","_hoisted_3","_hoisted_4","reviews","review","comment","_hoisted_6","_hoisted_7","requests","request","type","_hoisted_9","_createVNode","_component_router_view"],"sourceRoot":"","sources":["C:\\Users\\draga\\OneDrive\\Dokumenti\\MRS-ISA-PROJEKAT\\mrs-isa-projekat\\projekat\\src\\frontend\\src\\components\\user_profiles\\admin_profile\\AdminProfile.vue"],"sourcesContent":["<template>\r\n  <h2>OVO JE ADMIN PAGE</h2>\r\n\r\n  <div style=\"border: 1px solid black; margin: 10px; padding: 10px\" v-for=\"(complaint, index) in this.complaints\" v-bind:index=\"index\" :key=\"complaint.id\">\r\n    <div>Text: {{ complaint.text }}</div>\r\n    <div>Approved: {{ complaint.approved }}</div>\r\n    <div>\r\n      <button class=\"custom-btn button-primary\" @click=\"approveReport(complaint, index)\">Approve Complaint</button>\r\n    </div>\r\n  </div>\r\n  <hr>\r\n  <div style=\"border: 1px solid black; margin: 10px; padding: 10px\" v-for=\"(review, index) in this.reviews\" v-bind:index=\"index\" :key=\"review.id\">\r\n    <div>Text: {{ review.comment }}</div>\r\n    <div>Approved: {{ review.approved }}</div>\r\n    <div>\r\n      <button class=\"custom-btn button-primary\" @click=\"approveReview(review, index)\">Approve Review</button>\r\n    </div>\r\n  </div>\r\n  <hr>\r\n  <div style=\"border: 1px solid black; margin: 10px; padding: 10px\" v-for=\"(request, index) in this.requests\" v-bind:index=\"index\" :key=\"request.id\">\r\n    <div>Text: {{ request.text }}</div>\r\n    <div>Type: {{request.type}}</div>\r\n    <div>\r\n      <button class=\"custom-btn button-primary\" @click=\"approveRequest(request, index)\">Approve Request</button>\r\n    </div>\r\n  </div>\r\n\r\n\r\n  <router-view></router-view>\r\n</template>\r\n\r\n<script>\r\n\r\nimport axios from \"axios\"\r\n\r\nexport default {\r\n  name: \"AdminProfile\",\r\n  data() {\r\n    return {\r\n      complaints: [],\r\n      reviews: [],\r\n      requests: [],\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    axios.get(\"api/admins/complaints/all\", {headers: {\"Authorization\": `Bearer ${localStorage.getItem(\"jwt\")}`}}).then(response => (this.complaints = response.data))\r\n    axios.get(\"api/admins/reviews/all\", {headers: {\"Authorization\": `Bearer ${localStorage.getItem(\"jwt\")}`}}).then(response => (this.reviews = response.data))\r\n    axios.get(\"api/admins/requests/all\", {headers: {\"Authorization\": `Bearer ${localStorage.getItem(\"jwt\")}`}}).then(response => (this.requests = response.data))\r\n\r\n  },\r\n\r\n  methods: {\r\n    approveReport(complaint, index) {\r\n      axios.put(\"api/admins/complaints\", complaint, {headers: {\"Authorization\": `Bearer ${localStorage.getItem(\"jwt\")}`}}).then(response => {\r\n        if (response.data == true) {\r\n          this.$toast.success(\"Approved\");\r\n          this.complaints[index].approved = true;\r\n        } else {\r\n          this.$toast.error(\"Problem has occurred!\");\r\n        }\r\n      });\r\n    },\r\n\r\n    approveReview(review, index) {\r\n      axios.put(\"api/admins/reviews\", review, {headers: {\"Authorization\": `Bearer ${localStorage.getItem(\"jwt\")}`}}).then(response => {\r\n        if (response.data == true) {\r\n          this.$toast.success(\"Approved\");\r\n          this.reviews[index].approved = true;\r\n        } else {\r\n          this.$toast.error(\"Problem has occurred!\");\r\n        }\r\n      });\r\n    },\r\n\r\n    approveRequest(request, index) {\r\n      axios.put(\"api/admins/requests\", request, {headers: {\"Authorization\": `Bearer ${localStorage.getItem(\"jwt\")}`}}).then(response => {\r\n        if (response.data == true) {\r\n          this.$toast.success(\"Deleted\");\r\n          this.requests[index].deleted = true;\r\n        } else {\r\n          this.$toast.error(\"Problem has occurred!\");\r\n        }\r\n      });\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}