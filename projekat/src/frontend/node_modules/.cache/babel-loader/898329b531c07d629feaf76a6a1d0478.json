{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  name: \"AdminProfile\",\n\n  data() {\n    return {\n      complaints: [],\n      reviews: [],\n      requests: []\n    };\n  },\n\n  mounted() {\n    axios.get(\"api/admins/complaints/all\", {\n      headers: {\n        \"Authorization\": `Bearer ${localStorage.getItem(\"jwt\")}`\n      }\n    }).then(response => this.complaints = response.data);\n    axios.get(\"api/admins/reviews/all\", {\n      headers: {\n        \"Authorization\": `Bearer ${localStorage.getItem(\"jwt\")}`\n      }\n    }).then(response => this.reviews = response.data);\n    axios.get(\"api/admins/requests/all\", {\n      headers: {\n        \"Authorization\": `Bearer ${localStorage.getItem(\"jwt\")}`\n      }\n    }).then(response => this.requests = response.data);\n  },\n\n  methods: {\n    approveReport(complaint, index) {\n      axios.put(\"api/admins/complaints\", complaint, {\n        headers: {\n          \"Authorization\": `Bearer ${localStorage.getItem(\"jwt\")}`\n        }\n      }).then(response => {\n        if (response.data == true) {\n          this.$toast.success(\"Approved\");\n          this.complaints[index].approved = true;\n        } else {\n          this.$toast.error(\"Problem has occurred!\");\n        }\n      });\n    },\n\n    approveReview(review, index) {\n      axios.put(\"api/admins/reviews\", review, {\n        headers: {\n          \"Authorization\": `Bearer ${localStorage.getItem(\"jwt\")}`\n        }\n      }).then(response => {\n        if (response.data == true) {\n          this.$toast.success(\"Approved\");\n          this.reviews[index].approved = true;\n        } else {\n          this.$toast.error(\"Problem has occurred!\");\n        }\n      });\n    },\n\n    approveRequest(request, index) {\n      axios.put(\"api/admins/requests\", request, {\n        headers: {\n          \"Authorization\": `Bearer ${localStorage.getItem(\"jwt\")}`\n        }\n      }).then(response => {\n        if (response.data == true) {\n          this.$toast.success(\"Deleted\");\n          this.requests[index].deleted = true;\n        } else {\n          this.$toast.error(\"Problem has occurred!\");\n        }\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["axios","name","data","complaints","reviews","requests","mounted","get","headers","localStorage","getItem","then","response","methods","approveReport","complaint","index","put","$toast","success","approved","error","approveReview","review","approveRequest","request","deleted"],"sourceRoot":"","sources":["C:\\Users\\draga\\OneDrive\\Dokumenti\\MRS-ISA-PROJEKAT\\mrs-isa-projekat\\projekat\\src\\frontend\\src\\components\\user_profiles\\admin_profile\\AdminProfile.vue"],"sourcesContent":["<template>\r\n  <h2>OVO JE ADMIN PAGE</h2>\r\n\r\n  <div style=\"border: 1px solid black; margin: 10px; padding: 10px\" v-for=\"(complaint, index) in this.complaints\" v-bind:index=\"index\" :key=\"complaint.id\">\r\n    <div>Text: {{ complaint.text }}</div>\r\n    <div>Approved: {{ complaint.approved }}</div>\r\n    <div>\r\n      <button class=\"custom-btn button-primary\" @click=\"approveReport(complaint, index)\">Approve Complaint</button>\r\n    </div>\r\n  </div>\r\n  <hr>\r\n  <div style=\"border: 1px solid black; margin: 10px; padding: 10px\" v-for=\"(review, index) in this.reviews\" v-bind:index=\"index\" :key=\"review.id\">\r\n    <div>Text: {{ review.comment }}</div>\r\n    <div>Approved: {{ review.approved }}</div>\r\n    <div>\r\n      <button class=\"custom-btn button-primary\" @click=\"approveReview(review, index)\">Approve Review</button>\r\n    </div>\r\n  </div>\r\n  <hr>\r\n  <div style=\"border: 1px solid black; margin: 10px; padding: 10px\" v-for=\"(request, index) in this.requests\" v-bind:index=\"index\" :key=\"request.id\">\r\n    <div>Text: {{ request.text }}</div>\r\n    <div>Type: {{request.type}}</div>\r\n    <div>\r\n      <button class=\"custom-btn button-primary\" @click=\"approveRequest(request, index)\">Approve Request</button>\r\n    </div>\r\n  </div>\r\n\r\n\r\n  <router-view></router-view>\r\n</template>\r\n\r\n<script>\r\n\r\nimport axios from \"axios\"\r\n\r\nexport default {\r\n  name: \"AdminProfile\",\r\n  data() {\r\n    return {\r\n      complaints: [],\r\n      reviews: [],\r\n      requests: [],\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    axios.get(\"api/admins/complaints/all\", {headers: {\"Authorization\": `Bearer ${localStorage.getItem(\"jwt\")}`}}).then(response => (this.complaints = response.data))\r\n    axios.get(\"api/admins/reviews/all\", {headers: {\"Authorization\": `Bearer ${localStorage.getItem(\"jwt\")}`}}).then(response => (this.reviews = response.data))\r\n    axios.get(\"api/admins/requests/all\", {headers: {\"Authorization\": `Bearer ${localStorage.getItem(\"jwt\")}`}}).then(response => (this.requests = response.data))\r\n\r\n  },\r\n\r\n  methods: {\r\n    approveReport(complaint, index) {\r\n      axios.put(\"api/admins/complaints\", complaint, {headers: {\"Authorization\": `Bearer ${localStorage.getItem(\"jwt\")}`}}).then(response => {\r\n        if (response.data == true) {\r\n          this.$toast.success(\"Approved\");\r\n          this.complaints[index].approved = true;\r\n        } else {\r\n          this.$toast.error(\"Problem has occurred!\");\r\n        }\r\n      });\r\n    },\r\n\r\n    approveReview(review, index) {\r\n      axios.put(\"api/admins/reviews\", review, {headers: {\"Authorization\": `Bearer ${localStorage.getItem(\"jwt\")}`}}).then(response => {\r\n        if (response.data == true) {\r\n          this.$toast.success(\"Approved\");\r\n          this.reviews[index].approved = true;\r\n        } else {\r\n          this.$toast.error(\"Problem has occurred!\");\r\n        }\r\n      });\r\n    },\r\n\r\n    approveRequest(request, index) {\r\n      axios.put(\"api/admins/requests\", request, {headers: {\"Authorization\": `Bearer ${localStorage.getItem(\"jwt\")}`}}).then(response => {\r\n        if (response.data == true) {\r\n          this.$toast.success(\"Deleted\");\r\n          this.requests[index].deleted = true;\r\n        } else {\r\n          this.$toast.error(\"Problem has occurred!\");\r\n        }\r\n      });\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}