{"ast":null,"code":"import \"core-js/modules/es.array.at.js\";\nimport \"core-js/modules/es.string.at-alternative.js\";\nimport { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment, createTextVNode as _createTextVNode, createVNode as _createVNode, vModelCheckbox as _vModelCheckbox, withDirectives as _withDirectives, createStaticVNode as _createStaticVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-10d5710c\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  key: 0,\n  class: \"main-container\"\n};\nconst _hoisted_2 = {\n  class: \"heading-flex\"\n};\nconst _hoisted_3 = {\n  class: \"heading-left\"\n};\nconst _hoisted_4 = {\n  class: \"main-heading\"\n};\nconst _hoisted_5 = {\n  class: \"star-heading\"\n};\nconst _hoisted_6 = {\n  class: \"heading-right\"\n};\nconst _hoisted_7 = {\n  class: \"heading-right-buttons\"\n};\nconst _hoisted_8 = {\n  id: \"carouselExampleControls\",\n  class: \"carousel slide\",\n  \"data-bs-ride\": \"carousel\"\n};\nconst _hoisted_9 = {\n  class: \"carousel-inner\"\n};\nconst _hoisted_10 = {\n  class: \"carousel-item active\"\n};\nconst _hoisted_11 = [\"src\"];\nconst _hoisted_12 = [\"src\"];\n\nconst _hoisted_13 = /*#__PURE__*/_createStaticVNode(\"<button class=\\\"carousel-control-prev\\\" type=\\\"button\\\" data-bs-target=\\\"#carouselExampleControls\\\" data-bs-slide=\\\"prev\\\" data-v-10d5710c><span class=\\\"carousel-control-prev-icon\\\" aria-hidden=\\\"true\\\" data-v-10d5710c></span><span class=\\\"visually-hidden\\\" data-v-10d5710c>Previous</span></button><button class=\\\"carousel-control-next\\\" type=\\\"button\\\" data-bs-target=\\\"#carouselExampleControls\\\" data-bs-slide=\\\"next\\\" data-v-10d5710c><span class=\\\"carousel-control-next-icon\\\" aria-hidden=\\\"true\\\" data-v-10d5710c></span><span class=\\\"visually-hidden\\\" data-v-10d5710c>Next</span></button>\", 2);\n\nconst _hoisted_15 = {\n  class: \"main-description\"\n};\nconst _hoisted_16 = {\n  class: \"inner-description\"\n};\n\nconst _hoisted_17 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"b\", null, \"Address: \", -1\n/* HOISTED */\n));\n\nconst _hoisted_18 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"b\", null, \"Description: \", -1\n/* HOISTED */\n));\n\nconst _hoisted_19 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"b\", null, \"Behaviour rules: \", -1\n/* HOISTED */\n));\n\nconst _hoisted_20 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"b\", null, \"Price: \", -1\n/* HOISTED */\n));\n\nconst _hoisted_21 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"b\", null, \"Additional info: \", -1\n/* HOISTED */\n));\n\nconst _hoisted_22 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"b\", null, \"Cancellation conditions: \", -1\n/* HOISTED */\n));\n\nconst _hoisted_23 = {\n  key: 0\n};\n\nconst _hoisted_24 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"b\", null, \"Capacity: \", -1\n/* HOISTED */\n));\n\nconst _hoisted_25 = {\n  key: 1\n};\n\nconst _hoisted_26 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"b\", null, \"Type: \", -1\n/* HOISTED */\n));\n\nconst _hoisted_27 = {\n  key: 2\n};\n\nconst _hoisted_28 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"b\", null, \"Length: \", -1\n/* HOISTED */\n));\n\nconst _hoisted_29 = {\n  key: 3\n};\n\nconst _hoisted_30 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"b\", null, \"Engine Number: \", -1\n/* HOISTED */\n));\n\nconst _hoisted_31 = {\n  key: 4\n};\n\nconst _hoisted_32 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"b\", null, \"Engine Power: \", -1\n/* HOISTED */\n));\n\nconst _hoisted_33 = {\n  key: 5\n};\n\nconst _hoisted_34 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"b\", null, \"Top Speed: \", -1\n/* HOISTED */\n));\n\nconst _hoisted_35 = {\n  key: 6\n};\n\nconst _hoisted_36 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"b\", null, \"Client Limit: \", -1\n/* HOISTED */\n));\n\nconst _hoisted_37 = {\n  key: 7\n};\n\nconst _hoisted_38 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"b\", null, \"Instructor biography: \", -1\n/* HOISTED */\n));\n\nconst _hoisted_39 = {\n  key: 8\n};\n\nconst _hoisted_40 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"b\", null, \"Client limit: \", -1\n/* HOISTED */\n));\n\nconst _hoisted_41 = {\n  class: \"google-map-container\"\n};\nconst _hoisted_42 = [\"src\"];\n\nconst _hoisted_43 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_44 = {\n  class: \"main-offer-container\"\n};\nconst _hoisted_45 = {\n  key: 0\n};\nconst _hoisted_46 = {\n  class: \"inner-offer-container\"\n};\nconst _hoisted_47 = [\"index\"];\nconst _hoisted_48 = {\n  class: \"offer-description\"\n};\nconst _hoisted_49 = {\n  class: \"offer-left\"\n};\n\nconst _hoisted_50 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"b\", null, \"Address: \", -1\n/* HOISTED */\n));\n\nconst _hoisted_51 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"b\", null, \"Price: \", -1\n/* HOISTED */\n));\n\nconst _hoisted_52 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"b\", null, \"Client limit: \", -1\n/* HOISTED */\n));\n\nconst _hoisted_53 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"b\", null, \"Starting at: \", -1\n/* HOISTED */\n));\n\nconst _hoisted_54 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"b\", null, \"Duration: \", -1\n/* HOISTED */\n));\n\nconst _hoisted_55 = {\n  key: 0\n};\n\nconst _hoisted_56 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"b\", null, \"Additional Services: \", -1\n/* HOISTED */\n));\n\nconst _hoisted_57 = {\n  class: \"offer-right\"\n};\nconst _hoisted_58 = [\"onClick\"];\nconst _hoisted_59 = {\n  class: \"modal fade\",\n  id: \"modalReservation\",\n  tabindex: \"-1\",\n  \"aria-hidden\": \"true\"\n};\nconst _hoisted_60 = {\n  class: \"modal-dialog\"\n};\nconst _hoisted_61 = {\n  class: \"modal-content\"\n};\nconst _hoisted_62 = {\n  class: \"modal-body\"\n};\nconst _hoisted_63 = {\n  key: 0\n};\nconst _hoisted_64 = {\n  style: {\n    \"margin-right\": \"10px\"\n  }\n};\nconst _hoisted_65 = [\"value\"];\nconst _hoisted_66 = {\n  class: \"modal-footer\"\n};\n\nconst _hoisted_67 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"button\",\n  class: \"custom-btn button-primary\",\n  id: \"close-btn\",\n  \"data-bs-dismiss\": \"modal\"\n}, \"Close\", -1\n/* HOISTED */\n));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_vue3_star_ratings = _resolveComponent(\"vue3-star-ratings\");\n\n  const _component_v_date_picker = _resolveComponent(\"v-date-picker\");\n\n  return _openBlock(), _createElementBlock(_Fragment, null, [$data.loaded ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"h3\", _hoisted_4, _toDisplayString($data.rentingEntity.name), 1\n  /* TEXT */\n  ), $data.loaded ? (_openBlock(), _createBlock(_component_vue3_star_ratings, {\n    key: 0,\n    class: \"star-ratings\",\n    modelValue: $data.rentingEntity.rating,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.rentingEntity.rating = $event),\n    starSize: \"22\",\n    showControl: false,\n    disableClick: true,\n    step: 0\n  }, null, 8\n  /* PROPS */\n  , [\"modelValue\"])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"h5\", _hoisted_5, \"(\" + _toDisplayString($data.rentingEntity.reviewsNumber) + \")\", 1\n  /* TEXT */\n  )]), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [!$data.isSubscribed ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 0,\n    style: {\n      \"margin-right\": \"20px\"\n    },\n    class: \"custom-btn button-primary\",\n    onClick: _cache[1] || (_cache[1] = $event => $options.subscribe())\n  }, \"Subscribe\")) : (_openBlock(), _createElementBlock(\"button\", {\n    key: 1,\n    style: {\n      \"margin-right\": \"20px\"\n    },\n    class: \"custom-btn button-primary\",\n    onClick: _cache[2] || (_cache[2] = $event => $options.unSubscribe())\n  }, \"Unsubscribe\")), _createElementVNode(\"button\", {\n    type: \"button\",\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.toggleMakingReservation && $options.toggleMakingReservation(...args)),\n    class: \"custom-btn button-primary\",\n    \"data-bs-toggle\": \"modal\",\n    \"data-bs-target\": \"#modalReservation\"\n  }, \"Custom reservation\")])])]), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"img\", {\n    class: \"carousel-image d-block w-100\",\n    alt: \"Active picture\",\n    src: 'data:image/jpeg;base64,' + $data.pictures.at(0)\n  }, null, 8\n  /* PROPS */\n  , _hoisted_11)]), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.pictures.slice(1), (picture, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"carousel-item\",\n      key: index\n    }, [_createElementVNode(\"img\", {\n      class: \"carousel-image d-block w-100\",\n      alt: \"Item picture\",\n      src: 'data:image/jpeg;base64,' + picture\n    }, null, 8\n    /* PROPS */\n    , _hoisted_12)]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))]), _hoisted_13]), _createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"div\", _hoisted_16, [_createElementVNode(\"div\", null, [_hoisted_17, _createTextVNode(\" \" + _toDisplayString($data.rentingEntity.address), 1\n  /* TEXT */\n  )]), _createElementVNode(\"div\", null, [_hoisted_18, _createTextVNode(\" \" + _toDisplayString($data.rentingEntity.promoDescription), 1\n  /* TEXT */\n  )]), _createElementVNode(\"div\", null, [_hoisted_19, _createTextVNode(\" \" + _toDisplayString($data.rentingEntity.behaviourRules), 1\n  /* TEXT */\n  )]), _createElementVNode(\"div\", null, [_hoisted_20, _createTextVNode(\" \" + _toDisplayString($data.rentingEntity.priceList) + \"€\", 1\n  /* TEXT */\n  )]), _createElementVNode(\"div\", null, [_hoisted_21, _createTextVNode(_toDisplayString($data.rentingEntity.additionalInfo), 1\n  /* TEXT */\n  )]), _createElementVNode(\"div\", null, [_hoisted_22, _createTextVNode(_toDisplayString($data.rentingEntity.cancellationConditions), 1\n  /* TEXT */\n  )]), this.displayType == 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_23, [_hoisted_24, _createTextVNode(_toDisplayString($data.rentingEntity.roomsQuantity) + \" rooms, \" + _toDisplayString($data.rentingEntity.bedsPerRoom) + \" beds per room\", 1\n  /* TEXT */\n  )])) : _createCommentVNode(\"v-if\", true), this.displayType == 1 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_25, [_hoisted_26, _createTextVNode(_toDisplayString($data.rentingEntity.type), 1\n  /* TEXT */\n  )])) : _createCommentVNode(\"v-if\", true), this.displayType == 1 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_27, [_hoisted_28, _createTextVNode(_toDisplayString($data.rentingEntity.length), 1\n  /* TEXT */\n  )])) : _createCommentVNode(\"v-if\", true), this.displayType == 1 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_29, [_hoisted_30, _createTextVNode(_toDisplayString($data.rentingEntity.engineNumber), 1\n  /* TEXT */\n  )])) : _createCommentVNode(\"v-if\", true), this.displayType == 1 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_31, [_hoisted_32, _createTextVNode(_toDisplayString($data.rentingEntity.enginePower), 1\n  /* TEXT */\n  )])) : _createCommentVNode(\"v-if\", true), this.displayType == 1 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_33, [_hoisted_34, _createTextVNode(_toDisplayString($data.rentingEntity.topSpeed), 1\n  /* TEXT */\n  )])) : _createCommentVNode(\"v-if\", true), this.displayType == 1 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_35, [_hoisted_36, _createTextVNode(_toDisplayString($data.rentingEntity.clientLimit), 1\n  /* TEXT */\n  )])) : _createCommentVNode(\"v-if\", true), this.displayType == 2 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_37, [_hoisted_38, _createTextVNode(_toDisplayString($data.rentingEntity.instructorBiography), 1\n  /* TEXT */\n  )])) : _createCommentVNode(\"v-if\", true), this.displayType == 2 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_39, [_hoisted_40, _createTextVNode(_toDisplayString($data.rentingEntity.clientLimit), 1\n  /* TEXT */\n  )])) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_41, [_createElementVNode(\"iframe\", {\n    class: \"google-map\",\n    src: 'https://maps.google.com/maps?q=' + $data.rentingEntity.address + '&t=&z=13&ie=UTF8&iwloc=&output=embed'\n  }, null, 8\n  /* PROPS */\n  , _hoisted_42)])]), _hoisted_43, _createElementVNode(\"div\", _hoisted_44, [this.offers.length !== 0 ? (_openBlock(), _createElementBlock(\"h4\", _hoisted_45, \"Offers:\")) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_46, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(this.offers, (offer, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"offer\",\n      index: index,\n      key: offer.id\n    }, [_createElementVNode(\"div\", _hoisted_48, [_createElementVNode(\"div\", _hoisted_49, [_createElementVNode(\"div\", null, [_hoisted_50, _createTextVNode(\" \" + _toDisplayString(offer.place), 1\n    /* TEXT */\n    )]), _createElementVNode(\"div\", null, [_hoisted_51, _createTextVNode(\" \" + _toDisplayString(offer.price), 1\n    /* TEXT */\n    )]), _createElementVNode(\"div\", null, [_hoisted_52, _createTextVNode(_toDisplayString(offer.clientLimit), 1\n    /* TEXT */\n    )]), _createElementVNode(\"div\", null, [_hoisted_53, _createTextVNode(_toDisplayString(offer.start), 1\n    /* TEXT */\n    )]), _createElementVNode(\"div\", null, [_hoisted_54, _createTextVNode(_toDisplayString($options.msToTime(offer.duration)), 1\n    /* TEXT */\n    )]), offer.additionalServices.length != 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_55, [_hoisted_56, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(offer.additionalServices.slice(0, -1), service => {\n      return _openBlock(), _createElementBlock(\"span\", {\n        key: service\n      }, _toDisplayString(service) + \", \", 1\n      /* TEXT */\n      );\n    }), 128\n    /* KEYED_FRAGMENT */\n    )), _createElementVNode(\"span\", null, _toDisplayString(offer.additionalServices.at(-1)), 1\n    /* TEXT */\n    )])) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_57, [_createElementVNode(\"button\", {\n      class: \"custom-btn button-primary\",\n      onClick: $event => $options.makeReservation(offer, index)\n    }, \"Make a reservation\", 8\n    /* PROPS */\n    , _hoisted_58)])])], 8\n    /* PROPS */\n    , _hoisted_47);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))])])])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_59, [_createElementVNode(\"div\", _hoisted_60, [_createElementVNode(\"div\", _hoisted_61, [_createElementVNode(\"div\", _hoisted_62, [$data.loadedCalendar ? (_openBlock(), _createElementBlock(\"div\", _hoisted_63, [_createVNode(_component_v_date_picker, {\n    style: {\n      \"width\": \"100%\"\n    },\n    modelValue: $data.range,\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.range = $event),\n    mode: \"dateTime\",\n    color: \"blue\",\n    is24hr: \"\",\n    \"minute-increment\": 30,\n    \"is-range\": \"\",\n    \"min-date\": _ctx.minDate,\n    \"max-date\": _ctx.maxDate,\n    attributes: $options.attributes\n  }, null, 8\n  /* PROPS */\n  , [\"modelValue\", \"min-date\", \"max-date\", \"attributes\"])])) : _createCommentVNode(\"v-if\", true), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.additionalServices, service => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      style: {\n        \"margin-top\": \"10px\"\n      },\n      key: service\n    }, [_createElementVNode(\"span\", _hoisted_64, _toDisplayString(service), 1\n    /* TEXT */\n    ), _withDirectives(_createElementVNode(\"input\", {\n      type: \"checkbox\",\n      \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.selectedServices = $event),\n      value: service,\n      checked: \"\"\n    }, null, 8\n    /* PROPS */\n    , _hoisted_65), [[_vModelCheckbox, $data.selectedServices]])]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))]), _createElementVNode(\"div\", _hoisted_66, [_hoisted_67, _createElementVNode(\"button\", {\n    type: \"button\",\n    onClick: _cache[6] || (_cache[6] = (...args) => $options.confirmReservation && $options.confirmReservation(...args)),\n    class: \"custom-btn button-primary\",\n    \"data-bs-dismiss\": \"modal\"\n  }, \"Confirm\")])])])])], 64\n  /* STABLE_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":"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","names":["class","id","_createElementVNode","tabindex","style","type","$data","_createElementBlock","_toDisplayString","name","_createBlock","_component_vue3_star_ratings","rating","$event","starSize","showControl","disableClick","step","reviewsNumber","onClick","$options","alt","src","at","_Fragment","_renderList","slice","picture","index","key","_hoisted_13","_hoisted_17","address","_hoisted_18","promoDescription","_hoisted_19","behaviourRules","_hoisted_20","priceList","_hoisted_21","additionalInfo","_hoisted_22","cancellationConditions","displayType","_hoisted_23","_hoisted_24","roomsQuantity","bedsPerRoom","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","length","_hoisted_29","_hoisted_30","engineNumber","_hoisted_31","_hoisted_32","enginePower","_hoisted_33","_hoisted_34","topSpeed","_hoisted_35","_hoisted_36","clientLimit","_hoisted_37","_hoisted_38","instructorBiography","_hoisted_39","_hoisted_40","_hoisted_43","offers","_hoisted_45","offer","_hoisted_50","place","_hoisted_51","price","_hoisted_52","_hoisted_53","start","_hoisted_54","duration","additionalServices","_hoisted_55","_hoisted_56","service","_hoisted_58","_hoisted_63","_createVNode","_component_v_date_picker","mode","color","is24hr","_ctx","attributes","value","checked","_hoisted_67"],"sourceRoot":"","sources":["C:\\Users\\draga\\OneDrive\\Dokumenti\\MRS-ISA-PROJEKAT\\mrs-isa-projekat\\projekat\\src\\frontend\\src\\components\\RentingEntityPreview.vue"],"sourcesContent":["<template>\r\n  <div class=\"main-container\" v-if=\"loaded\">\r\n    <div class=\"heading-flex\">\r\n      <div class=\"heading-left\">\r\n        <h3 class=\"main-heading\">{{rentingEntity.name}}</h3>\r\n        <vue3-star-ratings v-if=\"loaded\" class=\"star-ratings\"  v-model=\"rentingEntity.rating\" starSize=\"22\"  :showControl=false :disableClick=true :step=0 />\r\n        <h5 class=\"star-heading\">({{rentingEntity.reviewsNumber}})</h5>\r\n      </div>\r\n      <div class=\"heading-right\">\r\n        <div class=\"heading-right-buttons\">\r\n          <button style=\"margin-right: 20px\" class=\"custom-btn button-primary\" v-if=\"!isSubscribed\" @click=\"subscribe()\">Subscribe</button>\r\n          <button style=\"margin-right: 20px\" class=\"custom-btn button-primary\" v-else @click=\"unSubscribe()\">Unsubscribe</button>\r\n          <button type=\"button\" @click=\"toggleMakingReservation\" class=\"custom-btn button-primary\" data-bs-toggle=\"modal\" data-bs-target=\"#modalReservation\">Custom reservation</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div id=\"carouselExampleControls\" class=\"carousel slide\" data-bs-ride=\"carousel\">\r\n      <div class=\"carousel-inner\">\r\n        <div class=\"carousel-item active\">\r\n          <img class=\"carousel-image d-block w-100\" alt=\"Active picture\" v-bind:src=\"'data:image/jpeg;base64,' + pictures.at(0)\">\r\n        </div>\r\n        <div class=\"carousel-item\" v-for=\"(picture, index) in pictures.slice(1)\" :key=\"index\">\r\n          <img class=\"carousel-image d-block w-100\" alt=\"Item picture\" v-bind:src=\"'data:image/jpeg;base64,' + picture\">\r\n        </div>\r\n      </div>\r\n      <button class=\"carousel-control-prev\" type=\"button\" data-bs-target=\"#carouselExampleControls\" data-bs-slide=\"prev\">\r\n        <span class=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\r\n        <span class=\"visually-hidden\">Previous</span>\r\n      </button>\r\n      <button class=\"carousel-control-next\" type=\"button\" data-bs-target=\"#carouselExampleControls\" data-bs-slide=\"next\">\r\n        <span class=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\r\n        <span class=\"visually-hidden\">Next</span>\r\n      </button>\r\n    </div>\r\n    <div class=\"main-description\">\r\n      <div class=\"inner-description\">\r\n        <div><b>Address: </b> {{rentingEntity.address}}</div>\r\n        <div><b>Description: </b> {{rentingEntity.promoDescription}}</div>\r\n        <div><b>Behaviour rules: </b> {{rentingEntity.behaviourRules}}</div>\r\n        <div><b>Price: </b> {{rentingEntity.priceList}}&euro;</div>\r\n        <div><b>Additional info: </b>{{rentingEntity.additionalInfo}}</div>\r\n        <div><b>Cancellation conditions: </b>{{rentingEntity.cancellationConditions}}</div>\r\n        <div v-if=\"this.displayType==0\"><b>Capacity: </b>{{rentingEntity.roomsQuantity}} rooms, {{rentingEntity.bedsPerRoom}} beds per room</div>\r\n        <div v-if=\"this.displayType==1\"><b>Type: </b>{{rentingEntity.type}}</div>\r\n        <div v-if=\"this.displayType==1\"><b>Length: </b>{{rentingEntity.length}}</div>\r\n        <div v-if=\"this.displayType==1\"><b>Engine Number: </b>{{rentingEntity.engineNumber}}</div>\r\n        <div v-if=\"this.displayType==1\"><b>Engine Power: </b>{{rentingEntity.enginePower}}</div>\r\n        <div v-if=\"this.displayType==1\"><b>Top Speed: </b>{{rentingEntity.topSpeed}}</div>\r\n        <div v-if=\"this.displayType==1\"><b>Client Limit: </b>{{rentingEntity.clientLimit}}</div>\r\n        <div v-if=\"this.displayType==2\"><b>Instructor biography: </b>{{rentingEntity.instructorBiography}}</div>\r\n        <div v-if=\"this.displayType==2\"><b>Client limit: </b>{{rentingEntity.clientLimit}}</div>\r\n      </div>\r\n      <div class=\"google-map-container\">\r\n        <iframe class=\"google-map\" v-bind:src=\"'https://maps.google.com/maps?q=' + rentingEntity.address + '&t=&z=13&ie=UTF8&iwloc=&output=embed'\"></iframe>\r\n      </div>\r\n    </div>\r\n    <hr>\r\n    <div class=\"main-offer-container\">\r\n      <h4 v-if=\"this.offers.length !== 0\">Offers:</h4>\r\n      <div class=\"inner-offer-container\">\r\n        <div class=\"offer\" v-for=\"(offer, index) in this.offers\" v-bind:index=\"index\" :key=\"offer.id\">\r\n          <div class=\"offer-description\">\r\n            <div class=\"offer-left\">\r\n              <div><b>Address: </b> {{offer.place}}</div>\r\n              <div><b>Price: </b> {{offer.price}}</div>\r\n              <div><b>Client limit: </b>{{offer.clientLimit}}</div>\r\n              <div><b>Starting at: </b>{{offer.start}}</div>\r\n              <div><b>Duration: </b>{{msToTime(offer.duration)}}</div>\r\n              <div v-if=\"offer.additionalServices.length != 0\"> <b>Additional Services: </b>\r\n                <span v-for=\"service in offer.additionalServices.slice(0,-1)\" :key=\"service\"> {{service}}, </span>\r\n                <span>{{offer.additionalServices.at(-1)}}</span>\r\n              </div>\r\n            </div>\r\n            <div class=\"offer-right\">\r\n              <button class=\"custom-btn button-primary\" @click=\"makeReservation(offer,index)\">Make a reservation</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"modal fade\" id=\"modalReservation\" tabindex=\"-1\" aria-hidden=\"true\">\r\n    <div class=\"modal-dialog\">\r\n      <div class=\"modal-content\">\r\n        <div class=\"modal-body\">\r\n          <div v-if=\"loadedCalendar\">\r\n            <v-date-picker style=\"width: 100%\" v-model=\"range\" mode='dateTime' color=\"blue\" is24hr :minute-increment=\"30\" is-range  :min-date=minDate :max-date=maxDate :attributes='attributes'>\r\n            </v-date-picker>\r\n          </div>\r\n          <div style=\"margin-top: 10px\" v-for=\"service in additionalServices\" :key=\"service\">\r\n            <span style=\"margin-right: 10px\">{{service}} </span>\r\n            <input type=\"checkbox\" v-model=\"selectedServices\" :value=\"service\" checked/>\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button type=\"button\" class=\"custom-btn button-primary\" id=\"close-btn\" data-bs-dismiss=\"modal\">Close</button>\r\n          <button type=\"button\" @click=\"confirmReservation\" class=\"custom-btn button-primary\" data-bs-dismiss=\"modal\">Confirm</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\"\r\n\r\nexport default {\r\n  name: \"RentingEntityPreview\",\r\n  data(){\r\n        let takenDatesPoppers = [];\r\n    return {\r\n      id:0,\r\n      displayType:0,\r\n      rentingEntity: {},\r\n      selectedOffer: {},\r\n      selected:false,\r\n      date:null,\r\n      pictures:[],\r\n      isSubscribed:false,\r\n      index:0,     \r\n      offers: [],\r\n      additionalServices:[],\r\n      selectedServices:[],\r\n      loaded:false,\r\n      loadedCalendar:false,\r\n      takenDates:[],\r\n      range: {\r\n        start: null,\r\n        end: null,\r\n      },\r\n      incId: takenDatesPoppers.length,\r\n      takenDatesPoppers,\r\n      bars:[]\r\n    }\r\n  },\r\n  mounted(){\r\n    this.minDate=null;\r\n    this.maxDate=null;\r\n    this.displayType = this.$route.params.displayType;\r\n    this.id=this.$route.params.id;\r\n    this.loaded=false;\r\n    let path,pathOffers,pathPictures;\r\n    if(this.displayType==0 && this.id != undefined){      \r\n      path=\"/api/vacationHouses/anyUser/\"+this.id;\r\n      pathOffers=\"/api/vacationHouses/anyUser/\"+this.id+\"/offers\";\r\n      pathPictures=\"/api/vacationHouses/anyUser/\"+this.id+\"/pictures/all\";\r\n      }\r\n    else if(this.displayType==1 && this.id != undefined){\r\n      path=\"/api/ships/anyUser/\"+this.id;\r\n      pathOffers=\"/api/ships/anyUser/\"+this.id+\"/offers\";\r\n      pathPictures=\"/api/ships/anyUser/\"+this.id+\"/pictures/all\";\r\n    }\r\n    else if(this.id != undefined){\r\n      path=\"/api/fishingClasses/anyUser/\"+this.id;\r\n      pathOffers=\"/api/fishingClasses/anyUser/\"+this.id+\"/offers\";\r\n      pathPictures=\"/api/fishingClasses/anyUser/\"+this.id+\"/pictures/all\";\r\n    }\r\n\r\n    axios.get(path).then( response => {\r\n      this.rentingEntity=response.data;\r\n      this.loaded=true\r\n    });\r\n\r\n\r\n    axios.get(pathPictures).then(response => {\r\n          for (let i = 0; i < response.data.length; i++) {\r\n            this.pictures.push(response.data[i]);\r\n          }\r\n        });\r\n    axios.get(pathOffers).then(response => this.offers=response.data);\r\n\r\n    \r\n\r\n    if(localStorage.getItem(\"jwt\")!=\"null\"){\r\n      if(this.$root.loggedUser.accountType==\"CLIENT\"){\r\n        const path=\"/api/clients/isSubscribed/\"+this.id;\r\n        axios.get(path,{ headers: {\"Authorization\" : `Bearer ${localStorage.getItem(\"jwt\")}`} } ).then(response =>{\r\n        this.isSubscribed=response.data;\r\n        });\r\n      }\r\n    }\r\n\r\n},\r\ncomputed: {\r\n    attributes() {\r\n      return [\r\n        ...this.bars,       \r\n        // Attributes for todos\r\n        ...this.takenDatesPoppers.map(todo => ({\r\n          dates: todo.dates,\r\n          dot: {\r\n            color: todo.color,\r\n            class: todo.isComplete ? 'opacity-75' : '',\r\n          },\r\n          popover: {\r\n            label: todo.description,\r\n          },\r\n          customData: todo,\r\n        })),\r\n      ];\r\n    },\r\n  },\r\nmethods:{\r\n    msToTime(duration) {\r\n    var \r\n      minutes = Math.floor((duration / (1000 * 60)) % 60),\r\n      hours = Math.floor((duration / (1000 * 60 * 60)) % 24);\r\n    if(minutes>0){\r\n      return hours+\"H\" + \" \" + minutes;\r\n    }else{\r\n       return hours+\"H\";\r\n    }\r\n  },\r\n\r\n  dateFromLocal(dateString){\r\n      if(dateString==null){\r\n        return new Date();\r\n      }\r\n      \r\n      const parts=dateString.split(\" \");\r\n      \r\n      if( parts.length !=2){\r\n        return new Date();\r\n      }\r\n      const dateParts= parts[0].split(\".\");\r\n      \r\n      if( dateParts.length !=3){\r\n        return new Date();\r\n      }\r\n      const hourParts=parts[1].split(\":\");\r\n      \r\n      if( hourParts.length !=2){\r\n        return new Date();\r\n      }\r\n      \r\n      const day = dateParts[0];\r\n      const month = dateParts[1];\r\n      const year = dateParts[2];\r\n      const hours = hourParts[0];\r\n      const minutes = hourParts[1];\r\n      // new Date(year, month, day, hours, minutes, seconds, milliseconds)\r\n      const date= new Date(year,month-1,day,hours,minutes);\r\n      return date;\r\n    },\r\n  subscribe(){\r\n    if(localStorage.getItem(\"jwt\")==\"null\"){\r\n      this.$router.push(\"/loginPage\");\r\n      return;\r\n    }\r\n    if(this.$root.loggedUser.accountType!=\"CLIENT\"){\r\n      this.$toast.error(\"Only available for clients\");\r\n      return;\r\n    }\r\n    axios.put(`/api/clients/subscribe`,this.rentingEntity,{ headers: {\"Authorization\" : `Bearer ${localStorage.getItem(\"jwt\")}`} }).then(response =>{\r\n      if(response.data==true){\r\n        this.$toast.success(\"Subscribed\");\r\n        this.isSubscribed=true;\r\n      }else{\r\n        this.$toast.error(\"Error\");\r\n        this.isSubscribed=false;\r\n      }\r\n    });\r\n  },\r\n  unSubscribe(){\r\n    if(localStorage.getItem(\"jwt\")==\"null\"){\r\n      this.$router.push(\"/loginPage\");\r\n      return;\r\n    }\r\n    if(this.$root.loggedUser.accountType!=\"CLIENT\"){\r\n      this.$toast.error(\"Only available for clients\");\r\n      return;\r\n    }\r\n    axios.put(`/api/clients/unSubscribe`,this.rentingEntity,{ headers: {\"Authorization\" : `Bearer ${localStorage.getItem(\"jwt\")}`} }).then(response =>{\r\n      if(response.data==true){\r\n        this.$toast.success(\"Unsubscribed\");\r\n        this.isSubscribed=false;\r\n      }else{\r\n        this.$toast.error(\"Error\");\r\n        this.isSubscribed=true;\r\n      }\r\n    });\r\n  },\r\n  generateBar(takenDTO){\r\n    let color=\"red\";\r\n    if(takenDTO.type==\"Offer\"){\r\n      color=\"blue\";\r\n    }\r\n    let datesBars=[]\r\n    let takenTo= this.dateFromLocal(takenDTO.takenTo);\r\n    for (var d = this.dateFromLocal(takenDTO.takenFrom); d <= takenTo; d.setDate(d.getDate() + 1)) {\r\n        const date = new Date(d);\r\n        datesBars.push(date);\r\n    }\r\n    const bar={\r\n   \r\n          dates:datesBars,         \r\n          bar:color,\r\n    };\r\n    this.bars.push(bar);\r\n  },\r\n  generatePopover(takenDTO){\r\n    let color=\"red\";\r\n    if(takenDTO.type==\"Offer\"){\r\n      color=\"blue\";\r\n    }\r\n    const takenStart={\r\n        description: takenDTO.startsAt,\r\n        isComplete: false,\r\n        dates: this.dateFromLocal(takenDTO.takenFrom), // Every Friday\r\n        color: color,\r\n      };\r\n    const takenEnd={\r\n        description:  takenDTO.endsAt,\r\n        isComplete: false,\r\n        dates: this.dateFromLocal(takenDTO.takenTo), \r\n        color: color,\r\n      };\r\n    this.takenDatesPoppers.push(takenStart);\r\n    this.takenDatesPoppers.push(takenEnd);\r\n  },\r\n  takeCalendar(takenDates){\r\n    this.bars= [];\r\n    this.takenDatesPoppers=[];\r\n    takenDates.forEach(this.generateBar);\r\n    takenDates.forEach(this.generatePopover);\r\n    this.takenDates=takenDates;\r\n  },\r\n  toggleMakingReservation(){\r\n    if(localStorage.getItem(\"jwt\")==\"null\"){\r\n      this.$router.push(\"/loginPage\");\r\n      return;\r\n    }\r\n    if(this.$root.loggedUser.accountType!=\"CLIENT\"){\r\n      this.$toast.error(\"Only available for clients\");\r\n      return;\r\n    }\r\n\r\n    axios.get(`/api/clients/rentingEntityAvailability/${this.rentingEntity.id}`,{ headers: {\"Authorization\" : `Bearer ${localStorage.getItem(\"jwt\")}`} }).then(response => \r\n    {\r\n      this.takeCalendar(response.data);\r\n          const availableFromDate = this.dateFromLocal(this.rentingEntity.availableFrom);\r\n      const availableToDate = this.dateFromLocal(this.rentingEntity.availableTo);\r\n      const now = new Date();\r\n      console.log(availableFromDate);\r\n      console.log(availableToDate);\r\n\r\n    if(availableFromDate<=now){\r\n      this.minDate=now;     \r\n\r\n    }else{\r\n      this.minDate = availableFromDate;\r\n\r\n    }\r\n\r\n    if(availableToDate <= now){    \r\n      this.maxDate=now;\r\n\r\n    }else{\r\n      this.maxDate = availableToDate;\r\n\r\n    }\r\n    \r\n  \r\n\r\n    let availableFrom=\"Renting entity available from \"+this.minDate.getHours()+\":\"+this.minDate.getMinutes();\r\n    let availableTo=\"Renting entity available till \"+this.maxDate.getHours()+\":\"+this.maxDate.getMinutes();\r\n\r\n    if(availableToDate < now && availableFromDate < now){\r\n      this.$toast.error(\"Entity is not available currently\");  \r\n      availableFrom=\"Not available\";\r\n      availableTo=\"Not available\";\r\n    }\r\n    const takenStart={\r\n        description: availableFrom,\r\n        isComplete: false,\r\n        dates: this.minDate, \r\n        color: \"green\",\r\n      };\r\n    const takenEnd={\r\n         description: availableTo,\r\n        isComplete: false,\r\n        dates: this.maxDate, \r\n        color: \"green\",\r\n      };\r\n    this.takenDatesPoppers.push(takenStart);\r\n    this.takenDatesPoppers.push(takenEnd);\r\n    this.loadedCalendar=true;\r\n    });\r\n    let servicesPath;\r\n    if(this.displayType==0){\r\n      servicesPath=\"/api/vacationHouseOwners/getServices/\"+this.rentingEntity.ownerId;\r\n    }else if(this.displayType==1){\r\n      servicesPath=\"/api/shipOwners/getServices/\"+this.rentingEntity.ownerId;\r\n    }\r\n    else{\r\n      servicesPath=\"/api/fishingInstructors/getServices/\"+this.rentingEntity.ownerId;\r\n    }\r\n    axios.get(servicesPath,{ headers: {\"Authorization\" : `Bearer ${localStorage.getItem(\"jwt\")}`} }).then(response => this.additionalServices=response.data);\r\n\r\n\r\n  },\r\n  freeSlot(start,end){\r\n    for (let i = 0; i < this.takenDates.length; i++) {\r\n        const takenFrom=this.dateFromLocal(this.takenDates[i].takenFrom);\r\n        const takenTo = this.dateFromLocal(this.takenDates[i].takenTo);\r\n        if( (start>=takenFrom && end <=takenTo) || (start<=takenFrom && end >=takenTo) || (start>=takenFrom && start<=takenTo) || (end <= takenTo && end >= takenFrom) || start<this.minDate || end>this.maxDate){\r\n          return false;\r\n        } \r\n    } \r\n    return true;\r\n  },\r\n  confirmReservation(){\r\n    const start=this.range.start;\r\n    const end=this.range.end;\r\n  \r\n    if(this.freeSlot(start,end)){\r\n      \r\n\r\n      let clientLimit=0;\r\n      if(this.displayType==0){\r\n        clientLimit=this.rentingEntity.roomsQuantity*this.rentingEntity.bedsPerRoom;\r\n      }else{\r\n        clientLimit=this.rentingEntity.clientLimit;\r\n      }\r\n      if(this.$root.loggedUser.penalties==3){\r\n       this.$toast.error(\"You can not make a reservation. You have 3 penalties. Wait for next month.\");\r\n       return;\r\n      }\r\n      if(this.minDate == this.maxDate){\r\n        return;\r\n      }\r\n      const reservation={        \r\n        \"place\":this.rentingEntity.address,\r\n        \"clientLimit\": clientLimit,\r\n        \"additionalServices\":this.selectedServices,\r\n        \"price\":this.rentingEntity.priceList,\r\n        \"rentingEntityId\":this.rentingEntity.id,\r\n        \"start\":start,\r\n        \"end\":end\r\n      };\r\n      axios.post(`/api/clients/makeReservationFull`,reservation,{ headers: {\"Authorization\" : `Bearer ${localStorage.getItem(\"jwt\")}`} }).then(\r\n        response => {\r\n          if(response.data==true){\r\n            this.$toast.success(\"Reservation made\");\r\n          }else{\r\n            if(response.status == 423){\r\n                this.$toast.error(\"Try later.\");\r\n            }else{\r\n              this.$toast.error(\"Error\");\r\n            }\r\n          }\r\n        }\r\n      );\r\n    }else{\r\n      this.$toast.error(\"Select free date\");\r\n    }\r\n  },\r\n\r\n  makeReservation(offer,index){\r\n\r\n    if(localStorage.getItem(\"jwt\")==\"null\"){\r\n      this.$router.push(\"/loginPage\");\r\n      return;\r\n    }\r\n    if(this.$root.loggedUser.accountType!=\"CLIENT\"){\r\n      this.$toast.error(\"Only available for clients\");\r\n      return;\r\n    }\r\n     if(this.$root.loggedUser.penalties==3){\r\n       this.$toast.error(\"You can not make a reservation. You have 3 penalties. Wait for next month.\");\r\n       return;\r\n     }\r\n      axios.post(`/api/offers/makeQuickReservation`,offer,{ headers: {\"Authorization\" : `Bearer ${localStorage.getItem(\"jwt\")}`} }).then(response => {\r\n        if(response.data==true){\r\n           this.$toast.success(\"Reservation made\");    \r\n           this.offers.splice(index,1);\r\n        }else{\r\n          this.$toast.error(\"You can not make a reservation. You have 3 penalties. Wait for next month.\");\r\n        }\r\n      });\r\n  },\r\n  updateRating(){\r\n    this.rating=4.1;\r\n  }\r\n\r\n}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.inner-offer-container {\r\n  display: flex;\r\n  flex-direction: row;\r\n  flex-wrap: wrap;\r\n  justify-content: space-between;\r\n}\r\n\r\n.offer {\r\n  min-width: 100%;\r\n  padding: 10px;\r\n  border: 1px solid darkgrey;\r\n  border-radius: 5px;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.offer-description {\r\n  margin: 5px;\r\n  display: flex;\r\n}\r\n\r\n.offer-left {\r\n  float: left;\r\n  width: 60%;\r\n}\r\n\r\n.offer-right {\r\n  float: right;\r\n  margin: auto;\r\n  text-align: center;\r\n  width: 40%;\r\n  overflow: hidden;\r\n}\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}