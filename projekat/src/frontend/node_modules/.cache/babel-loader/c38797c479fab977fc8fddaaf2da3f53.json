{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, createVNode as _createVNode, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = {\n  class: \"navbar\"\n};\nconst _hoisted_2 = {\n  class: \"navbar-top\",\n  style: {\n    \"min-width\": \"1000px\"\n  }\n};\nconst _hoisted_3 = {\n  class: \"nav-left\"\n};\nconst _hoisted_4 = {\n  key: 0,\n  class: \"nav-right\"\n};\nconst _hoisted_5 = {\n  key: 1,\n  class: \"nav-right\"\n};\nconst _hoisted_6 = [\"src\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_view = _resolveComponent(\"router-view\");\n\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"nav\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"h4\", {\n    class: \"brand\",\n    onClick: _cache[0] || (_cache[0] = $event => $options.jumpToHomePage())\n  }, \"Renting Buddy\")]), this.signedIn == false ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [$data.signIn ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 0,\n    type: \"button\",\n    onClick: _cache[1] || (_cache[1] = $event => $options.jmpToLoginPage()),\n    class: \"custom-btn button-primary\"\n  }, \"Sign in\")) : _createCommentVNode(\"v-if\", true), $data.signUp ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 1,\n    type: \"button\",\n    onClick: _cache[2] || (_cache[2] = $event => $options.jmpToRegistrationPage()),\n    style: {\n      \"margin-right\": \"0\"\n    },\n    class: \"custom-btn button-primary\"\n  }, \"Register\")) : _createCommentVNode(\"v-if\", true)])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [_createElementVNode(\"img\", {\n    src: 'data:image/jpeg;base64,' + $data.loggedPicture,\n    style: {\n      \"width\": \"50px\",\n      \"height\": \"40px\"\n    },\n    onClick: _cache[3] || (_cache[3] = $event => $options.jmpToUserProfile())\n  }, null, 8\n  /* PROPS */\n  , _hoisted_6), _createCommentVNode(\"        <router-link v-if=\\\"loggedUser.accountType==='CLIENT'\\\" class=\\\"link-light text-decoration-none\\\" :to=\\\"{name: 'clientProfile'}\\\">{{loggedUser.username}}</router-link>\"), _createElementVNode(\"label\", {\n    class: \"link-light text-decoration-none\",\n    onClick: _cache[4] || (_cache[4] = $event => $options.jmpToUserProfile())\n  }, _toDisplayString($data.loggedUser.username), 1\n  /* TEXT */\n  ), _createElementVNode(\"button\", {\n    type: \"button\",\n    onClick: _cache[5] || (_cache[5] = $event => $options.logout()),\n    class: \"custom-btn button-outline\"\n  }, \"Logout\")]))])]), _createVNode(_component_router_view)], 64\n  /* STABLE_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":";;AACOA,OAAK,EAAC;;;AACJA,OAAK,EAAC;AAAaC,OAAyB,EAAzB;AAAA;AAAA;;;AACjBD,OAAK,EAAC;;;;AAGNA,OAAK,EAAC;;;;AAINA,OAAK,EAAC;;;;;;6DATfE,oBAiBM,KAjBN,cAiBM,CAhBJA,oBAcM,KAdN,cAcM,CAbJA,oBAEM,KAFN,cAEM,CADJA,oBAA8D,IAA9D,EAA8D;AAA1DF,SAAK,EAAC,OAAoD;AAA3CG,WAAK,sCAAEC,yBAAF;AAAsC,GAA9D,EAA4C,eAA5C,CACI,CAFN,CAaI,OAV8BC,YAAQ,uBAA1CC,oBAGM,KAHN,cAGM,CAFwBC,8BAA5BD,oBAAgH,QAAhH,EAAgH;UAAA;AAAxGE,QAAI,EAAC,QAAmG;AAA3EL,WAAK,sCAAEC,yBAAF,CAAsE;AAAlDJ,SAAK,EAAC;AAA4C,GAAhH,EAAgG,SAAhG,sCAEI,EADyBO,8BAA7BD,oBAAkJ,QAAlJ,EAAkJ;UAAA;AAA1IE,QAAI,EAAC,QAAqI;AAA5GL,WAAK,sCAAEC,gCAAF,CAAuG;AAA3EH,SAAuB,EAAvB;AAAA;AAAA,KAA2E;AAAnDD,SAAK,EAAC;AAA6C,GAAlJ,EAAiI,UAAjI,sCACI,CAHN,oBAIAM,oBAKM,KALN,cAKM,CAJJJ,oBAA2H,KAA3H,EAA2H;AAA/GO,OAAG,8BAA8BF,mBAA8E;AAA/DN,SAAkC,EAAlC;AAAA;AAAA;AAAA,KAA+D;AAA3BE,WAAK,sCAAEC,2BAAF;AAAsB,GAA3H;;AAAA,eAII,EAHJM,sMAGI,EAFJR,oBAA0G,OAA1G,EAA0G;AAAnGF,SAAK,EAAC,iCAA6F;AAA1DG,WAAK,sCAAEC,2BAAF;AAAqD,GAA1G,mBAA6EG,iBAAWI,SAAxF,EAAgG;AAAA;AAAhG,GAEI,EADJT,oBAA2F,QAA3F,EAA2F;AAAnFM,QAAI,EAAC,QAA8E;AAAnEL,WAAK,sCAAEC,iBAAF,CAA8D;AAAlDJ,SAAK,EAAC;AAA4C,GAA3F,EAA4E,QAA5E,CACI,CALN,EAMI,CAdN,CAgBI,CAjBN,GAkBAY,aAA2BC,sBAA3B","names":["class","style","_createElementVNode","onClick","$options","signedIn","_createElementBlock","$data","type","src","_createCommentVNode","username","_createVNode","_component_router_view"],"sourceRoot":"","sources":["C:\\Users\\draga\\OneDrive\\Dokumenti\\MRS-ISA-PROJEKAT\\mrs-isa-projekat\\projekat\\src\\frontend\\src\\App.vue"],"sourcesContent":["<template>\r\n  <nav class=\"navbar\" >\r\n    <div class=\"navbar-top\" style=\"min-width: 1000px\">\r\n      <div class=\"nav-left\">\r\n        <h4 class=\"brand\" @click=\"jumpToHomePage()\">Renting Buddy</h4>\r\n      </div>\r\n      <div class=\"nav-right\" v-if=\"this.signedIn==false\">\r\n        <button type=\"button\" v-if=\"signIn\" @click=\"jmpToLoginPage()\" class=\"custom-btn button-primary\">Sign in</button>\r\n        <button type=\"button\"  v-if=\"signUp\" @click=\"jmpToRegistrationPage()\"  style=\"margin-right: 0\" class=\"custom-btn button-primary\">Register</button>\r\n      </div>\r\n      <div class=\"nav-right\" v-else>\r\n        <img v-bind:src=\"'data:image/jpeg;base64,' + loggedPicture\" style=\"width: 50px; height: 40px;\" @click=\"jmpToUserProfile()\">\r\n        <!--        <router-link v-if=\"loggedUser.accountType==='CLIENT'\" class=\"link-light text-decoration-none\" :to=\"{name: 'clientProfile'}\">{{loggedUser.username}}</router-link>-->\r\n        <label class=\"link-light text-decoration-none\" @click=\"jmpToUserProfile()\">{{loggedUser.username}}</label>\r\n        <button type=\"button\"  @click=\"logout()\" class=\"custom-btn button-outline\" >Logout</button>\r\n      </div>\r\n    </div>\r\n    \r\n  </nav>\r\n  <router-view></router-view>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\"\r\nexport default {\r\n  name: \"App\",\r\n  data() {\r\n    return {\r\n      signIn: true,\r\n      signUp: true,\r\n      signedIn: false,\r\n      loggedUser: {},\r\n      loggedPicture:null,\r\n      accessToken: null,\r\n      accountType: \"\"\r\n    }\r\n  }, \r\n  mounted(){    \r\n     if(localStorage.getItem(\"jwt\")!=\"null\"){\r\n        // this.signIn=true;\r\n        // this.signUp=true;\r\n        // this.signedIn=false;\r\n     \r\n        axios.get(\"/api/users/loggedUser\",{ headers: {\"Authorization\" : `Bearer ${localStorage.getItem(\"jwt\")}`} }).then(response => {\r\n          this.loggedUser=response.data;\r\n          this.accountType = response.data.accountType;\r\n          this.signIn=false;\r\n          this.signUp=false;\r\n          this.signedIn=true; \r\n\r\n        });\r\n        axios.get(\"/api/users/loggedUser/picture\",{ headers: {\"Authorization\" : `Bearer ${localStorage.getItem(\"jwt\")}`} }).then(response => (this.loggedPicture=response.data));\r\n      }else{\r\n        this.signIn=true;\r\n        this.signUp=true;\r\n        this.signedIn=false;\r\n      }\r\n  },   \r\n  methods:{\r\n    jumpToHomePage(){\r\n      this.$router.push(\"/\");\r\n      this.signIn=true;\r\n      this.signUp=true;\r\n    },\r\n    jmpToRegistrationPage(){\r\n      this.$router.push(\"/registrationPage\")\r\n    },\r\n    jmpToLoginPage(){\r\n      this.$router.push(\"/loginPage\")\r\n    },\r\n    jmpToUserProfile(){\r\n      if(this.loggedUser.accountType===\"CLIENT\"){\r\n        this.$router.push({name: \"clientProfile\"});\r\n      }else if (this.loggedUser.accountType===\"VH_OWNER\"){\r\n        this.$router.push({name: \"ownerHome\"});\r\n      }else if(this.loggedUser.accountType===\"ADMIN\"){\r\n       this.$router.push({name: \"adminInfo\"})\r\n      }\r\n    },\r\n    logout(){\r\n      this.accessToken=null;\r\n      localStorage.setItem(\"jwt\",null);          \r\n      window.location.href = 'http://localhost:3000/';\r\n     \r\n    }\r\n  }\r\n  \r\n}\r\n</script>\r\n\r\n<style>\r\n\r\nnav {\r\n  background: #00587a;\r\n  min-height: 54px;\r\n}\r\n\r\n.brand {\r\n  color: #ffffff;\r\n  margin-top: auto;\r\n  margin-bottom: 0;\r\n  font-weight: bold;\r\n}\r\n\r\n.navbar-top {\r\n  position: relative;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  margin: auto;\r\n  width: 60%;\r\n  padding-bottom: 0;\r\n  min-width: 500px;\r\n  }\r\n\r\n.navbar-top button {\r\n  margin-inline: 10px;\r\n  }\r\n\r\n.brand:hover {\r\n  cursor: pointer;\r\n}\r\n\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}