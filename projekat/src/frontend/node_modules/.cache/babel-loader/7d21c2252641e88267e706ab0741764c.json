{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  name: \"FishingClassProfile\",\n\n  data() {\n    return {\n      fishingClass: {},\n      editing: false,\n      dateFrom: null,\n      dateTo: null\n    };\n  },\n\n  mounted() {\n    axios.get(\"/api/fishingClasses/2\").then(response => this.fishingClass = response.data);\n  },\n\n  methods: {\n    toggleEdit() {\n      this.editing = true;\n    },\n\n    parseDate(date) {\n      const day = (\"0\" + date.getDate()).slice(-2);\n      const month = (\"0\" + (date.getMonth() + 1)).slice(-2);\n      const year = date.getFullYear();\n      const hours = (\"0\" + date.getHours()).slice(-2);\n      const minutes = (\"0\" + date.getMinutes()).slice(-2);\n      return `${day}.${month}.${year} ${hours}:${minutes}`;\n    },\n\n    saveEdit() {\n      this.fishingClass.availableFrom = this.parseDate(this.dateFrom);\n      this.fishingClass.availableTo = this.parseDate(this.dateTo);\n      axios.put(\"/api/fishingClasses/update\", this.fishingClass).then(response => this.fishingClass = response.data).then(this.toastMessage());\n      this.editing = false;\n    },\n\n    toastMessage() {\n      this.$toast.success(\"Info updated\");\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA0EA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,eAAe;AACbC,MAAI,EAAE,qBADO;;AAEbC,MAAI,GAAG;AACL,WAAO;AACLC,kBAAY,EAAE,EADT;AAELC,aAAO,EAAE,KAFJ;AAGLC,cAAQ,EAAE,IAHL;AAILC,YAAM,EAAE;AAJH,KAAP;AAMD,GATY;;AAUbC,SAAO,GAAG;AACRP,SAAI,CACCQ,GADL,CACS,uBADT,EAEKC,IAFL,CAEUC,QAAO,IAAM,KAAKP,YAAL,GAAoBO,QAAQ,CAACR,IAFpD;AAGD,GAdY;;AAebS,SAAO,EAAE;AACPC,cAAU,GAAG;AACX,WAAKR,OAAL,GAAe,IAAf;AACD,KAHM;;AAKPS,aAAS,CAACC,IAAD,EAAO;AACd,YAAMC,GAAE,GAAI,CAAC,MAAMD,IAAI,CAACE,OAAL,EAAP,EAAuBC,KAAvB,CAA6B,CAAC,CAA9B,CAAZ;AACA,YAAMC,KAAI,GAAI,CAAC,OAAOJ,IAAI,CAACK,QAAL,KAAkB,CAAzB,CAAD,EAA8BF,KAA9B,CAAoC,CAAC,CAArC,CAAd;AACA,YAAMG,IAAG,GAAIN,IAAI,CAACO,WAAL,EAAb;AACA,YAAMC,KAAI,GAAI,CAAC,MAAMR,IAAI,CAACS,QAAL,EAAP,EAAwBN,KAAxB,CAA8B,CAAC,CAA/B,CAAd;AACA,YAAMO,OAAM,GAAI,CAAC,MAAMV,IAAI,CAACW,UAAL,EAAP,EAA0BR,KAA1B,CAAgC,CAAC,CAAjC,CAAhB;AACA,aAAQ,GAAEF,GAAI,IAAGG,KAAM,IAAGE,IAAI,IAAIE,KAAM,IAAGE,OAAQ,EAAnD;AACD,KAZM;;AAaPE,YAAQ,GAAG;AACT,WAAKvB,YAAL,CAAkBwB,aAAlB,GAAkC,KAAKd,SAAL,CAAe,KAAKR,QAApB,CAAlC;AACA,WAAKF,YAAL,CAAkByB,WAAlB,GAAgC,KAAKf,SAAL,CAAe,KAAKP,MAApB,CAAhC;AACAN,WAAK,CAAC6B,GAAN,CAAU,4BAAV,EAAwC,KAAK1B,YAA7C,EAA2DM,IAA3D,CAAgEC,QAAO,IAAK,KAAKP,YAAL,GAAoBO,QAAQ,CAACR,IAAzG,EAA+GO,IAA/G,CAAoH,KAAKqB,YAAL,EAApH;AACA,WAAK1B,OAAL,GAAe,KAAf;AACD,KAlBM;;AAmBP0B,gBAAY,GAAG;AACb,WAAKC,MAAL,CAAYC,OAAZ,CAAoB,cAApB;AACF;;AArBO;AAfI,CAAf","names":["axios","name","data","fishingClass","editing","dateFrom","dateTo","mounted","get","then","response","methods","toggleEdit","parseDate","date","day","getDate","slice","month","getMonth","year","getFullYear","hours","getHours","minutes","getMinutes","saveEdit","availableFrom","availableTo","put","toastMessage","$toast","success"],"sourceRoot":"","sources":["C:\\Users\\draga\\OneDrive\\Dokumenti\\MRS-ISA-PROJEKAT\\mrs-isa-projekat\\projekat\\src\\frontend\\src\\components\\FishingClassProfile.vue"],"sourcesContent":["<template>\r\n  <head>\r\n    <title>Fishing Class Profile</title>\r\n  </head>\r\n  <body>\r\n  <div class=\"page\">\r\n    <div v-if=\"!this.editing\" class=\"user-data-div\">\r\n      <p>Name: {{ fishingClass.name }}</p>\r\n      <p>Address: {{ fishingClass.address }}</p>\r\n      <p>Description: {{ fishingClass.promoDescription }}</p>\r\n      <p>Instructor biography: {{ fishingClass.instructorBiography }}</p>\r\n      <p>Behaviour Rules: {{ fishingClass.behaviourRules }}</p>\r\n      <p>Price list: {{ fishingClass.priceList }}</p>\r\n      <p>Client limit: {{ fishingClass.clientLimit }}</p>\r\n      <p>Additional info: {{ fishingClass.additionalInfo }} </p>\r\n      <p>Cancellation conditions: {{ fishingClass.cancellationConditions }}</p>\r\n      <p>Available from: {{ fishingClass.availableFrom }}</p>\r\n      <p>Available to: {{ fishingClass.availableTo }}</p>\r\n    </div>\r\n    <div v-else class=\"user-data-div\">\r\n      <div class=\"input-group mb-3\">\r\n        <span class=\"input-group-text\" id=\"name\">Name:</span>\r\n        <input v-model=\"fishingClass.name\" type=\"text\" class=\"form-control\" aria-label=\"Username\" aria-describedby=\"name\">\r\n      </div>\r\n      <div class=\"input-group mb-3\">\r\n        <span class=\"input-group-text\" id=\"address\">Address:</span>\r\n        <input v-model=\"fishingClass.address\" type=\"text\" class=\"form-control\" aria-label=\"Username\" aria-describedby=\"address\">\r\n      </div>\r\n      <div class=\"input-group mb-3\">\r\n        <span class=\"input-group-text\" id=\"promoDescription\">Description:</span>\r\n        <input v-model=\"fishingClass.promoDescription\" type=\"text\" class=\"form-control\" aria-label=\"Username\" aria-describedby=\"promoDescription\">\r\n      </div>\r\n      <div class=\"input-group mb-3\">\r\n        <span class=\"input-group-text\" id=\"instructorBiography\">Instructor biography:</span>\r\n        <input v-model=\"fishingClass.instructorBiography\" type=\"text\" class=\"form-control\" aria-label=\"Username\" aria-describedby=\"instructorBiography\">\r\n      </div>\r\n      <div class=\"input-group mb-3\">\r\n        <span class=\"input-group-text\" id=\"behaviourRules\">Behaviour Rules:</span>\r\n        <input v-model=\"fishingClass.behaviourRules\" type=\"text\" class=\"form-control\" aria-label=\"Username\" aria-describedby=\"behaviourRules\">\r\n      </div>\r\n      <div class=\"input-group mb-3\">\r\n        <span class=\"input-group-text\" id=\"priceList\">Price list:</span>\r\n        <input v-model=\"fishingClass.priceList\" type=\"text\" class=\"form-control\" aria-label=\"Username\" aria-describedby=\"priceList\">\r\n      </div>\r\n      <div class=\"input-group mb-3\">\r\n        <span class=\"input-group-text\" id=\"clientLimit\">Client limit: </span>\r\n        <input v-model=\"fishingClass.clientLimit\" type=\"text\" class=\"form-control\" aria-label=\"Username\" aria-describedby=\"clientLimit\">\r\n      </div>\r\n      <div class=\"input-group mb-3\">\r\n        <span class=\"input-group-text\" id=\"additionalInfo\">Additional info:</span>\r\n        <input v-model=\"fishingClass.additionalInfo\" type=\"text\" class=\"form-control\" aria-label=\"Username\" aria-describedby=\"additionalInfo\">\r\n      </div>\r\n      <div class=\"input-group mb-3\">\r\n        <span class=\"input-group-text\" id=\"cancellationConditions\">Cancellation conditions:</span>\r\n        <input v-model=\"fishingClass.cancellationConditions\" type=\"text\" class=\"form-control\" aria-label=\"Username\" aria-describedby=\"cancellationConditions\">\r\n      </div>\r\n      <div v-if=\"this.editing\">\r\n        <Datepicker placeholder=\"From\" style=\"min-width: 100%\" :format ='format' v-model=\"dateFrom\" vertical />\r\n        <br>\r\n        <Datepicker placeholder=\"To\" style=\"min-width: 100%\" :format ='format' v-model=\"dateTo\" vertical />\r\n      </div>\r\n    </div>\r\n    <br>\r\n    <button v-if=\"!this.editing\" @click=\"toggleEdit()\" class=\"btn btn-primary\">Edit Info</button>\r\n    <div v-else>\r\n      <button style=\"margin-right: 20px\" class=\"btn btn-primary\" @click=\"saveEdit()\">Save</button>\r\n    </div>\r\n\r\n\r\n  </div>\r\n  </body>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\"\r\n\r\nexport default {\r\n  name: \"FishingClassProfile\",\r\n  data() {\r\n    return {\r\n      fishingClass: {},\r\n      editing: false,\r\n      dateFrom: null,\r\n      dateTo: null\r\n    }\r\n  },\r\n  mounted() {\r\n    axios\r\n        .get(\"/api/fishingClasses/2\")\r\n        .then(response => (this.fishingClass = response.data));\r\n  },\r\n  methods: {\r\n    toggleEdit() {\r\n      this.editing = true;\r\n    },\r\n\r\n    parseDate(date) {\r\n      const day = (\"0\" + date.getDate()).slice(-2);\r\n      const month = (\"0\" + (date.getMonth() + 1)).slice(-2);\r\n      const year = date.getFullYear();\r\n      const hours = (\"0\" + date.getHours()).slice(-2);\r\n      const minutes = (\"0\" + date.getMinutes()).slice(-2);\r\n      return `${day}.${month}.${year} ${hours}:${minutes}`;\r\n    },\r\n    saveEdit() {\r\n      this.fishingClass.availableFrom = this.parseDate(this.dateFrom);\r\n      this.fishingClass.availableTo = this.parseDate(this.dateTo);\r\n      axios.put(\"/api/fishingClasses/update\", this.fishingClass).then(response => this.fishingClass = response.data).then(this.toastMessage());\r\n      this.editing = false;\r\n    },\r\n    toastMessage() {\r\n      this.$toast.success(\"Info updated\");\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}