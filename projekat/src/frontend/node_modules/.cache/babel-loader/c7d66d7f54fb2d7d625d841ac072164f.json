{"ast":null,"code":"import { onMounted } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport axios from \"axios\";\nexport default {\n  name: \"UserProfile\",\n\n  setup() {\n    const router = useRouter();\n    onMounted(() => {\n      axios.get(\"/api/users/loggedUser\", {\n        headers: {\n          \"Authorization\": `Bearer ${localStorage.getItem(\"jwt\")}`\n        }\n      }).then(response => {\n        console.log(response);\n\n        if (response.data.accountType === \"CLIENT\") {\n          router.push({\n            name: \"clientProfile\"\n          });\n        } else if (response.data.accountType === undefined || response.data.accountType === null || response.data.accountType === \"\") {\n          router.push({\n            name: \"loginPage\"\n          });\n        } else if (response.data.accountType === \"ADMIN\") {\n          router.push({\n            name: \"adminInfo\"\n          });\n        } else {\n          // console.log(`UserProfile push: ${response.data.accountType}`);\n          router.push({\n            name: \"ownerHome\"\n          });\n        } // ADMIN?\n\n      });\n    });\n  }\n\n};","map":{"version":3,"mappings":"AAKA,SAAQA,SAAR,QAAwB,KAAxB;AACA,SAAQC,SAAR,QAAwB,YAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,eAAe;AACbC,MAAI,EAAE,aADO;;AAEbC,OAAK,GAAG;AACN,UAAMC,MAAK,GAAIJ,SAAS,EAAxB;AAEAD,aAAS,CAAC,MAAM;AACdE,WAAK,CAACI,GAAN,CAAU,uBAAV,EAAkC;AAAEC,eAAO,EAAE;AAAC,2BAAmB,UAASC,YAAY,CAACC,OAAb,CAAqB,KAArB,CAA4B;AAAzD;AAAX,OAAlC,EACKC,IADL,CACUC,QAAO,IAAK;AAChBC,eAAO,CAACC,GAAR,CAAYF,QAAZ;;AACA,YAAGA,QAAQ,CAACG,IAAT,CAAcC,WAAd,KAA8B,QAAjC,EAA2C;AACzCV,gBAAM,CAACW,IAAP,CAAY;AAACb,gBAAI,EAAE;AAAP,WAAZ;AAEF,SAHA,MAGO,IAAIQ,QAAQ,CAACG,IAAT,CAAcC,WAAd,KAA8BE,SAA9B,IACAN,QAAQ,CAACG,IAAT,CAAcC,WAAd,KAA8B,IAD9B,IAEAJ,QAAQ,CAACG,IAAT,CAAcC,WAAd,KAA8B,EAFlC,EAEsC;AAC3CV,gBAAM,CAACW,IAAP,CAAY;AAACb,gBAAI,EAAE;AAAP,WAAZ;AACF,SAJO,MAMF,IAAIQ,QAAQ,CAACG,IAAT,CAAcC,WAAd,KAA8B,OAAlC,EAA0C;AAC7CV,gBAAM,CAACW,IAAP,CAAY;AAACb,gBAAI,EAAE;AAAP,WAAZ;AACF,SAFK,MAIA;AACH;AACAE,gBAAM,CAACW,IAAP,CAAY;AAACb,gBAAI,EAAE;AAAP,WAAZ;AACF,SAlBgB,CAmBhB;;AACD,OArBL;AAsBD,KAvBQ,CAAT;AAwBF;;AA7Ba,CAAf","names":["onMounted","useRouter","axios","name","setup","router","get","headers","localStorage","getItem","then","response","console","log","data","accountType","push","undefined"],"sourceRoot":"","sources":["C:\\Users\\draga\\OneDrive\\Dokumenti\\MRS-ISA-PROJEKAT\\mrs-isa-projekat\\projekat\\src\\frontend\\src\\components\\user_profiles\\UserProfile.vue"],"sourcesContent":["<template>\r\n  <router-view></router-view>\r\n</template>\r\n\r\n<script>\r\nimport {onMounted} from \"vue\";\r\nimport {useRouter} from \"vue-router\";\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  name: \"UserProfile\",\r\n  setup() {\r\n    const router = useRouter();\r\n\r\n    onMounted(() => {\r\n      axios.get(\"/api/users/loggedUser\",{ headers: {\"Authorization\" : `Bearer ${localStorage.getItem(\"jwt\")}`} })\r\n          .then(response => {\r\n            console.log(response);\r\n            if(response.data.accountType === \"CLIENT\") {\r\n              router.push({name: \"clientProfile\"});\r\n\r\n            } else if (response.data.accountType === undefined ||\r\n                       response.data.accountType === null ||\r\n                       response.data.accountType === \"\") {\r\n              router.push({name: \"loginPage\"});\r\n            }\r\n\r\n            else if (response.data.accountType === \"ADMIN\"){\r\n              router.push({name: \"adminInfo\"})\r\n            }\r\n\r\n            else {\r\n              // console.log(`UserProfile push: ${response.data.accountType}`);\r\n              router.push({name: \"ownerHome\"});\r\n            }\r\n            // ADMIN?\r\n          });\r\n    })\r\n  }\r\n  \r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}