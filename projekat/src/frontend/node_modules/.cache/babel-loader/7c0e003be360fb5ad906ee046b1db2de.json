{"ast":null,"code":"import { useRouter } from \"vue-router\";\nimport { ref, onMounted } from \"vue\";\nimport axios from \"axios\";\nexport default {\n  name: \"OwnerProfile\",\n\n  setup() {\n    const router = useRouter();\n    let owner = ref({});\n    let buttonLabel = ref(\"\");\n    let page = ref(\"homePage\");\n    onMounted(() => {\n      axios.get(\"/api/users/loggedUser\", {\n        headers: {\n          \"Authorization\": `Bearer ${localStorage.getItem(\"jwt\")}`\n        }\n      }).then(response => {\n        owner.value = response.data;\n\n        if (response.data.accountType === \"VH_OWNER\") {\n          buttonLabel.value = \"Vacation Houses\";\n        } else if (response.data.accountType === \"SH_OWNER\") {\n          buttonLabel.value = \"Ships\"; // else if INSTRUCTOR\n        } else {\n          router.push({\n            name: \"homePage\"\n          });\n        }\n\n        page.value = \"homePage\";\n        routePage();\n      });\n    });\n\n    function routePage() {\n      if (page.value === \"homePage\") router.push({\n        name: \"ownerHome\"\n      });else if (page.value === \"infoPage\") router.push({\n        name: \"ownerInfo\"\n      });\n    }\n\n    return {\n      owner,\n      buttonLabel,\n      page,\n      routePage\n    };\n  }\n\n};","map":{"version":3,"mappings":"AA0BA,SAAQA,SAAR,QAAwB,YAAxB;AACA,SAAQC,GAAR,EAAaC,SAAb,QAA6B,KAA7B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,eAAe;AACbC,MAAI,EAAE,cADO;;AAEbC,OAAK,GAAG;AACN,UAAMC,MAAK,GAAIN,SAAS,EAAxB;AAEA,QAAIO,KAAI,GAAIN,GAAG,CAAC,EAAD,CAAf;AACA,QAAIO,WAAU,GAAIP,GAAG,CAAC,EAAD,CAArB;AACA,QAAIQ,IAAG,GAAIR,GAAG,CAAC,UAAD,CAAd;AAEAC,aAAS,CAAC,MAAM;AACdC,WAAK,CAACO,GAAN,CAAU,uBAAV,EAAkC;AAAEC,eAAO,EAAE;AAAC,2BAAmB,UAASC,YAAY,CAACC,OAAb,CAAqB,KAArB,CAA4B;AAAzD;AAAX,OAAlC,EACKC,IADL,CACUC,QAAO,IAAK;AAChBR,aAAK,CAACS,KAAN,GAAcD,QAAQ,CAACE,IAAvB;;AAEA,YAAGF,QAAQ,CAACE,IAAT,CAAcC,WAAd,KAA8B,UAAjC,EAA6C;AAC3CV,qBAAW,CAACQ,KAAZ,GAAoB,iBAApB;AAEF,SAHA,MAGO,IAAID,QAAQ,CAACE,IAAT,CAAcC,WAAd,KAA8B,UAAlC,EAA8C;AACnDV,qBAAW,CAACQ,KAAZ,GAAoB,OAApB,CADmD,CAGrD;AAEA,SALO,MAKA;AACLV,gBAAM,CAACa,IAAP,CAAY;AAACf,gBAAI,EAAE;AAAP,WAAZ;AACF;;AAEAK,YAAI,CAACO,KAAL,GAAa,UAAb;AACAI,iBAAS;AACV,OAlBL;AAmBD,KApBQ,CAAT;;AAsBA,aAASA,SAAT,GAAqB;AACnB,UAAGX,IAAI,CAACO,KAAL,KAAe,UAAlB,EACEV,MAAM,CAACa,IAAP,CAAY;AAACf,YAAI,EAAE;AAAP,OAAZ,EADF,KAEK,IAAGK,IAAI,CAACO,KAAL,KAAe,UAAlB,EACHV,MAAM,CAACa,IAAP,CAAY;AAACf,YAAI,EAAE;AAAP,OAAZ;AACJ;;AAEA,WAAO;AACLG,WADK;AAELC,iBAFK;AAGLC,UAHK;AAILW;AAJK,KAAP;AAMF;;AA5Ca,CAAf","names":["useRouter","ref","onMounted","axios","name","setup","router","owner","buttonLabel","page","get","headers","localStorage","getItem","then","response","value","data","accountType","push","routePage"],"sourceRoot":"","sources":["C:\\Users\\draga\\OneDrive\\Dokumenti\\MRS-ISA-PROJEKAT\\mrs-isa-projekat\\projekat\\src\\frontend\\src\\components\\user_profiles\\owner_profiles\\OwnerProfile.vue"],"sourcesContent":["<template>\r\n  <div class=\"main-container\">\r\n    <div style=\"display: flex\" class=\"mb-3\">\r\n      <div style=\"float: left; width: 70%\">\r\n        <h3 class=\"name-heading\">{{owner.firstName}} {{owner.lastName}}</h3>\r\n        <h5 class=\"username-heading\">@{{owner.username}}</h5>\r\n      </div>\r\n      <div style=\"width: 30%; margin-top: 20px\">\r\n        <div style=\"float: right; display: flex; overflow: hidden;\">\r\n          <div>\r\n            <input class=\"radio\" type=\"radio\" id=\"homePageRadio\" name=\"page\" value=\"homePage\" v-model=\"page\" @change=\"routePage\">\r\n            <label class=\"custom-btn button-primary me-3\" for=\"homePageRadio\">{{buttonLabel}}</label>\r\n          </div>\r\n          <div>\r\n            <input class=\"radio\" type=\"radio\" id=\"infoPageRadio\" name=\"page\" value=\"infoPage\" v-model=\"page\" @change=\"routePage\">\r\n            <label class=\"custom-btn button-primary \" for=\"infoPageRadio\">Profile Information</label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <router-view></router-view>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport {useRouter} from \"vue-router\";\r\nimport {ref, onMounted} from \"vue\";\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  name: \"OwnerProfile\",\r\n  setup() {\r\n    const router = useRouter();\r\n\r\n    let owner = ref({});\r\n    let buttonLabel = ref(\"\");\r\n    let page = ref(\"homePage\");\r\n\r\n    onMounted(() => {\r\n      axios.get(\"/api/users/loggedUser\",{ headers: {\"Authorization\" : `Bearer ${localStorage.getItem(\"jwt\")}`} })\r\n          .then(response => {\r\n            owner.value = response.data;\r\n\r\n            if(response.data.accountType === \"VH_OWNER\") {\r\n              buttonLabel.value = \"Vacation Houses\";\r\n\r\n            } else if (response.data.accountType === \"SH_OWNER\") {\r\n              buttonLabel.value = \"Ships\";\r\n\r\n            // else if INSTRUCTOR\r\n\r\n            } else {\r\n              router.push({name: \"homePage\"});\r\n            }\r\n\r\n            page.value = \"homePage\";\r\n            routePage();\r\n          });\r\n    });\r\n\r\n    function routePage() {\r\n      if(page.value === \"homePage\")\r\n        router.push({name: \"ownerHome\"});\r\n      else if(page.value === \"infoPage\")\r\n        router.push({name: \"ownerInfo\"});\r\n    }\r\n\r\n    return {\r\n      owner,\r\n      buttonLabel,\r\n      page,\r\n      routePage\r\n    }\r\n  }\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n\r\n/*.main-container {*/\r\n/*  width: 60%;*/\r\n/*  margin: auto auto 20% auto;*/\r\n/*  min-width: 860px;*/\r\n/*}*/\r\n\r\n.name-heading {\r\n  font-weight: bold;\r\n  /*margin-top: 1rem;*/\r\n}\r\n\r\n.username-heading {\r\n  margin-top: 3px;\r\n}\r\n\r\n.radio {\r\n  opacity: 0;\r\n  width: 0;\r\n  height: 0;\r\n}\r\n\r\n[type=radio]:checked + label {\r\n  background-color: white;\r\n  border-color: #00587a;\r\n  color: #00587a;\r\n}\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}