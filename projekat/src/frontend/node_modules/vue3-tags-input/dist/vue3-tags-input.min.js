var Vue3TagsInput=function(t){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,l=!1;try{for(n=n.call(t);!(o=(r=n.next()).done)&&(a.push(r.value),!e||a.length!==e);o=!0);}catch(t){l=!0,i=t}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}(t,e)||i(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||i(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){if(t){if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var o={email:new RegExp(/^[a-z][a-z0-9_\.]{2,50}@[a-z0-9]{2,}(\.[a-z0-9]{2,4}){1,2}$/),url:new RegExp(/^(https?|ftp|rmtp|mms):\/\/(([A-Z0-9][A-Z0-9_-]*)(\.[A-Z0-9][A-Z0-9_-]*)+)(:(\d+))?\/?/i),text:new RegExp(/^[a-zA-Z]+$/)},l={name:"Vue3TagsInput",emits:["update:modelValue","on-limit","on-tags-changed","on-remove","on-error","on-focus","on-blur"],props:{readOnly:{type:Boolean,default:!1},modelValue:{type:String,default:""},validate:{type:[String,Function,Object],default:""},addTagOnKeys:{type:Array,default:function(){return[13,188,32]}},placeholder:{type:String,default:""},tags:{type:Array,default:function(){return[]}},limit:{type:Number,default:-1},allowDuplicates:{type:Boolean,default:!1},addTagOnBlur:{type:Boolean,default:!1}},data:function(){return{isInputActive:!1,isError:!1,newTag:"",innerTags:[]}},computed:{isLimit:function(){var t=this.limit>0&&Number(this.limit)===this.innerTags.length;return t&&this.$emit("on-limit"),t}},watch:{error:function(){this.isError=this.error},modelValue:{immediate:!0,handler:function(t){console.log("value: ",t),this.newTag=t}},tags:{deep:!0,immediate:!0,handler:function(t){this.innerTags=r(t)}},newTag:function(){this.newTag.length>50&&(this.$refs.inputTag.className="v3ti-new-tag v3ti-new-tag--error",this.$refs.inputTag.style.textDecoration="underline")}},methods:{makeItNormal:function(t){this.$emit("update:modelValue",t.target.value),this.$refs.inputTag.className="v3ti-new-tag",this.$refs.inputTag.style.textDecoration="none"},resetData:function(){this.innerTags=[]},focusNewTag:function(){!this.readOnly&&this.$el.querySelector(".v3ti-new-tag")&&this.$el.querySelector(".v3ti-new-tag").focus()},handleInputFocus:function(t){this.isInputActive=!0,this.$emit("on-focus",t)},handleInputBlur:function(t){this.isInputActive=!1,this.addNew(t),this.$emit("on-blur",t)},addNew:function(t){var e=!t||-1!==this.addTagOnKeys.indexOf(t.keyCode),n=t&&"blur"!==t.type;(e||!n&&this.addTagOnBlur)&&!this.isLimit&&(this.newTag&&(this.allowDuplicates||-1===this.innerTags.indexOf(this.newTag))&&this.validateIfNeeded(this.newTag)&&this.newTag.length<=50?(this.innerTags.push(this.newTag),this.newTag="",this.$emit("update:modelValue",""),this.tagChange(),t&&t.preventDefault()):(this.validateIfNeeded(this.newTag)?this.newTag&&this.newTag.length<=50?this.makeItError(!0):this.makeItError("maxLength"):this.makeItError(!1),t&&t.preventDefault()))},makeItError:function(t){this.$refs.inputTag.className="v3ti-new-tag v3ti-new-tag--error",this.$refs.inputTag.style.textDecoration="underline",this.$emit("on-error",t)},validateIfNeeded:function(t){return""===this.validate||void 0===this.validate||("function"==typeof this.validate?this.validate(t):"string"==typeof this.validate&&Object.keys(o).indexOf(this.validate)>-1?o[this.validate].test(t):"object"!==e(this.validate)||void 0===this.validate.test||this.validate.test(t))},removeLastTag:function(){this.newTag||(this.innerTags.pop(),this.tagChange())},remove:function(t){this.innerTags.splice(t,1),this.tagChange(),this.$emit("on-remove",t)},tagChange:function(){this.$emit("on-tags-changed",this.innerTags)}}},s={class:"v3ti-content"},u={key:1},c=["onClick"],d=["placeholder"];!function(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}('.v3ti {\n  border-radius: 5px;\n  min-height: 32px;\n  line-height: 1.4 !important;\n  background-color: #fff;\n  border: 1px solid #9ca3af;\n  overflow: hidden;\n  cursor: text;\n  text-align: left;\n  -webkit-appearance: textfield;\n  display: flex;\n  flex-wrap: wrap;\n}\n.v3ti--focus {\n  outline: 0;\n  border-color: #000000;\n  box-shadow: 0 0 0 1px #000000;\n}\n.v3ti--error {\n  border-color: #F56C6C;\n}\n.v3ti .v3ti-content {\n  width: 100%;\n  display: flex;\n  flex-wrap: wrap;\n}\n.v3ti .v3ti-tag {\n  display: flex;\n  font-weight: 400;\n  margin: 3px;\n  padding: 0 5px;\n  background: #317CAF;\n  color: #ffffff;\n  height: 27px;\n  border-radius: 5px;\n  align-items: center;\n}\n.v3ti .v3ti-tag .v3ti-remove-tag {\n  color: #ffffff;\n  transition: opacity 0.3s ease;\n  opacity: 0.5;\n  cursor: pointer;\n  padding: 0 5px 0 7px;\n}\n.v3ti .v3ti-tag .v3ti-remove-tag::before {\n  content: "x";\n}\n.v3ti .v3ti-tag .v3ti-remove-tag:hover {\n  opacity: 1;\n}\n.v3ti .v3ti-new-tag {\n  background: transparent;\n  border: 0;\n  font-weight: 400;\n  margin: 3px;\n  outline: none;\n  padding: 0 4px;\n  flex: 1;\n  min-width: 60px;\n  height: 27px;\n}\n.v3ti .v3ti-new-tag--error {\n  color: #F56C6C;\n}'),l.render=function(e,n,r,i,a,o){return t.openBlock(),t.createElementBlock("div",{onClick:n[6]||(n[6]=function(t){return o.focusNewTag()}),class:t.normalizeClass([{"v3ti--focus":a.isInputActive,"v3ti--error":a.isError},"v3ti"])},[t.createElementVNode("div",s,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(a.innerTags,(function(n,i){return t.openBlock(),t.createElementBlock("span",{key:i,class:"v3ti-tag"},[e.$slots.item?t.renderSlot(e.$slots,"item",t.normalizeProps(t.mergeProps({key:0},{name:n,index:i}))):(t.openBlock(),t.createElementBlock("span",u,t.toDisplayString(n),1)),r.readOnly?t.createCommentVNode("",!0):(t.openBlock(),t.createElementBlock("a",{key:2,onClick:t.withModifiers((function(t){return o.remove(i)}),["prevent","stop"]),class:"v3ti-remove-tag"},null,8,c))])})),128)),t.withDirectives(t.createElementVNode("input",{ref:"inputTag",placeholder:r.placeholder,"onUpdate:modelValue":n[0]||(n[0]=function(t){return a.newTag=t}),onKeydown:[n[1]||(n[1]=t.withKeys(t.withModifiers((function(){return o.removeLastTag&&o.removeLastTag.apply(o,arguments)}),["stop"]),["delete"])),n[2]||(n[2]=function(){return o.addNew&&o.addNew.apply(o,arguments)})],onBlur:n[3]||(n[3]=function(){return o.handleInputBlur&&o.handleInputBlur.apply(o,arguments)}),onFocus:n[4]||(n[4]=function(){return o.handleInputFocus&&o.handleInputFocus.apply(o,arguments)}),onInput:n[5]||(n[5]=function(){return o.makeItNormal&&o.makeItNormal.apply(o,arguments)}),class:"v3ti-new-tag"},null,40,d),[[t.vModelText,a.newTag]])])],2)};var f=function(){var t=l;return t.install=function(e){e.component("Vue3TagsInput",t)},t}(),p=Object.freeze({__proto__:null,default:f});return Object.entries(p).forEach((function(t){var e=n(t,2),r=e[0],i=e[1];"default"!==r&&(f[r]=i)})),f}(Vue);