var Xo=Object.defineProperty,qo=Object.defineProperties,vo=Object.getOwnPropertyDescriptors,Rt=Object.getOwnPropertySymbols,Jo=Object.prototype.hasOwnProperty,Zo=Object.prototype.propertyIsEnumerable,It=(e,t,a)=>t in e?Xo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,L=(e,t)=>{for(var a in t||(t={}))Jo.call(t,a)&&It(e,a,t[a]);if(Rt)for(var a of Rt(t))Zo.call(t,a)&&It(e,a,t[a]);return e},x=(e,t)=>qo(e,vo(t));!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("vue"),require("date-fns")):"function"==typeof define&&define.amd?define(["vue","date-fns"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).VueDatePicker=t(e.Vue,e.dateFns)}(this,(function(e,t){"use strict";var a=(e,t)=>{const a=e.__vccOpts||e;for(const[n,l]of t)a[n]=l;return a};const n={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},l=[e.createElementVNode("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"},null,-1),e.createElementVNode("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"},null,-1),e.createElementVNode("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"},null,-1),e.createElementVNode("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"},null,-1)];var o=a({},[["render",function(t,a){return e.openBlock(),e.createElementBlock("svg",n,l)}]]);const r={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},s=[e.createElementVNode("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"},null,-1),e.createElementVNode("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"},null,-1)];var u=a({},[["render",function(t,a){return e.openBlock(),e.createElementBlock("svg",r,s)}]]);const i={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},c=[e.createElementVNode("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"},null,-1)];var d=a({},[["render",function(t,a){return e.openBlock(),e.createElementBlock("svg",i,c)}]]);const m={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},p=[e.createElementVNode("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"},null,-1)];var v=a({},[["render",function(t,a){return e.openBlock(),e.createElementBlock("svg",m,p)}]]);const y={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},f=[e.createElementVNode("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"},null,-1),e.createElementVNode("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"},null,-1)];var h=a({},[["render",function(t,a){return e.openBlock(),e.createElementBlock("svg",y,f)}]]);const g={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},k=[e.createElementVNode("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"},null,-1)];var w=a({},[["render",function(t,a){return e.openBlock(),e.createElementBlock("svg",g,k)}]]);const _={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},b=[e.createElementVNode("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"},null,-1)];var C=a({},[["render",function(t,a){return e.openBlock(),e.createElementBlock("svg",_,b)}]]);const D=(e,a)=>{const n=t.parse(e,a.slice(0,e.length),new Date);return t.isValid(n)&&t.isDate(n)?n:null},B=e=>{let a=new Date(JSON.parse(JSON.stringify(e)));return a=t.setHours(a,0),a=t.setMinutes(a,0),a=t.setSeconds(a,0),a=t.setMilliseconds(a,0),a},S=e=>Array.isArray(e)?t.isValid(e[0])&&(!e[1]||t.isValid(e[1])):!!e&&t.isValid(e),V=(e,a,n,l)=>{let o=e?new Date(e):new Date;return(a||0===a)&&(o=t.setHours(o,+a)),(n||0===n)&&(o=t.setMinutes(o,+n)),(l||0===l)&&(o=t.setSeconds(o,+l)),t.setMilliseconds(o,0)},N=e=>{const a=t.addMonths(e,1);return{month:t.getMonth(a),year:t.getYear(a)}},M=(e,a,n)=>{let l=e?new Date(e):new Date;return(a||0===a)&&(l=t.setMonth(l,a)),n&&(l=t.setYear(l,n)),l},$=(e,t)=>e?"HH:mm"+(t?":ss":""):`hh:mm${t?":ss":""} aa`,P=(e,t,a,n,l,o,r)=>e||(n?"MM/yyyy":l?$(t,a):o?"MM/dd/yyyy":r?`MM/dd/yyyy, ${$(t,a)}`:"MM/dd/yyyy"),E=e=>{const a=e||new Date;return{hours:t.getHours(a),minutes:t.getMinutes(a),seconds:t.getSeconds(a)}},A=e=>({month:t.getMonth(e),year:t.getYear(e)}),T=e=>Array.isArray(e)?[A(e[0]),e[1]?A(e[1]):null]:A(e),O=e=>Array.isArray(e)?[E(e[0]),E(e[1])]:E(e),I=(e,a,n)=>n?t.format(e,a,{locale:n}):t.format(e,a),R=(e,t,a,n)=>Array.isArray(e)?`${I(e[0],t,a)} ${n||"-"} ${e[1]?I(e[1],t,a):""}`:I(e,t,a),Y=(e,a)=>!(!e||!a)&&t.isAfter(B(e),B(a)),F=(e,a)=>!(!e||!a)&&t.isBefore(B(e),B(a)),j=(e,a)=>!(!e||!a)&&t.isEqual(B(e),B(a)),z=(e,a)=>t.add(t.set(new Date,e),a),K=(e,a)=>t.sub(t.set(new Date,e),a),H=e=>t.set(new Date,{hours:t.getHours(e),minutes:t.getMinutes(e),seconds:t.getSeconds(e)}),U=e=>t.set(new Date,{hours:+e.hours||0,minutes:+e.minutes||0,seconds:+e.seconds||0}),W=(e,t,a)=>{let n=!0;if(!e)return!0;const l=Array.isArray(e)?[e[0]?H(e[0]):null,e[1]?H(e[1]):null]:H(e);if(t){const e=U(t);n=Array.isArray(l)?(!l[0]||l[0].getTime()<=e.getTime())&&(!l[1]||l[1].getTime()<=e.getTime()):l.getTime()<=e.getTime()}if(a){const e=U(a);n=Array.isArray(l)?(!l[0]||l[0].getTime()>=e.getTime())&&(!l[1]||l[1].getTime()>=e.getTime())&&n:l.getTime()>=e.getTime()&&n}return n},G=e=>{const t=Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds());return new Date(t).toISOString()},X=(e,t,a)=>e&&e[0]&&e[1]?Y(a,e[0])&&F(a,e[1]):!!(e&&e[0]&&t)&&(Y(a,e[0])&&F(a,t)||F(a,e[0])&&Y(a,t)),q=(e,a)=>[t.startOfWeek(e,{weekStartsOn:a}),t.endOfWeek(e,{weekStartsOn:a})],J=(e,a,n,l)=>{const o=[],r=new Date(a,e),s=new Date(a,e+1,0),u=t.startOfWeek(r,{weekStartsOn:n}),i=a=>{const n=((e,a,n)=>{const l=new Date(JSON.parse(JSON.stringify(e))),o=[];for(let r=0;r<7;r++){const e=t.addDays(l,r),s=t.getMonth(e)!==a;o.push({text:n&&s?"":e.getDate(),value:e,current:!s})}return o})(a,e,l);if(o.push({days:n}),!o[o.length-1].days.some((e=>j(B(e.value),B(s))))){const e=t.addDays(a,7);i(e)}};return i(u),o},Z=e=>function(t){let a="";const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",l=n.length;for(let e=0;e<t;e++)a+=n.charAt(Math.floor(Math.random()*l));return a+e}(5),Q=t=>{var a;const n=e.unref(t);return null!=(a=null==n?void 0:n.$el)?a:n},ee=e=>Object.assign({menuAppear:"dp-menu-appear",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down"},e),te=Symbol(),ae=Symbol(),ne=Symbol(),le=Symbol(),oe=Symbol(),re={disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},inline:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1}},se={range:{type:Boolean,default:!1},uid:{type:String,default:null}},ue={enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1}},ie=x(L({},ue),{fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1}}),ce={name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},inlineWithInput:{type:Boolean,default:!1},textInputOptions:{type:Object,default:()=>null},openMenuOnFocus:{type:Boolean,default:!0}},de={minTime:{type:Object,default:null},maxTime:{type:Object,default:null}},me={minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null}},pe=L({selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1}},de),ve={monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null}},ye={locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:Boolean,default:!1},calendarClassName:{type:String,default:null},noSwipe:{type:Boolean,default:!1}},fe=x(L(L(L(L(L(L({},ie),pe),ve),me),ye),se),{vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},yearRange:{type:Array,default:()=>[1970,2100]},multiCalendarsSolo:{type:Boolean,default:!1},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},monthYearComponent:{type:Object,default:null},timePickerComponent:{type:Object,default:null},actionRowComponent:{type:Object,default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:()=>[]},showNowButton:{type:Boolean,default:!1},nowButtonLabel:{type:String,default:"Now"},monthChangeOnScroll:{type:[Boolean,String],default:!0},markers:{type:Array,default:()=>[]},modeHeight:{type:[Number,String],default:255},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetRanges:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},keepActionRow:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})}}),he=x(L(L(L({},ce),re),fe),{multiCalendars:{type:[Boolean,Number,String],default:null},modelValue:{type:[String,Date,Array,Object],default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},closeOnScroll:{type:Boolean,default:!1},autoPosition:{type:Boolean,default:!0},closeOnAutoApply:{type:Boolean,default:!0},teleport:{type:[String,Object],default:"body"},altPosition:{type:[Boolean,Function],default:!1},partialRange:{type:Boolean,default:!0},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:Boolean,default:!1},ariaLabels:{type:Object,default:()=>({})}}),ge={range:{type:Boolean,default:!1},multiCalendars:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null}},ke=x(L(L({},ve),ge),{vertical:{type:Boolean,default:!1},month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:1}}),we=["aria-label","aria-disabled","aria-readonly"],_e={key:1,class:"dp__input_wrap"},be=["id","name","placeholder","disabled","readonly","required","value","autocomplete","onKeydown"],Ce={key:4,class:"dp__clear_icon"},De=e.defineComponent({props:x(L(L(L({},ce),re),se),{inputValue:{type:String,default:""},inline:{type:Boolean,default:!1},isMenuOpen:{type:Boolean,default:!1},pattern:{type:String,default:""}}),emits:["clear","open","update:inputValue","setInputDate","close","selectDate","setEmptyDate"],setup(t,{expose:a,emit:n}){const l=t,r=e.ref(),s=e.ref(null),i=e.ref(!1),c=e.inject(te),d=e.useSlots(),m=e.computed((()=>({dp__pointer:!l.disabled&&!l.readonly&&!l.textInput,dp__disabled:l.disabled,dp__input:!0,dp__input_icon_pad:!l.hideInputIcon,dp__input_valid:l.state,dp__input_invalid:!1===l.state,dp__input_focus:i.value||l.isMenuOpen,[l.inputClassName]:!!l.inputClassName}))),p=e=>{const{value:t}=e.target,{format:a,rangeSeparator:o}=l.textInputOptions;if(""!==t){if(l.range){const[e,n]=t.split(`${o}`);if(e&&n){const t=D(e.trim(),a||l.pattern),o=D(n.trim(),a||l.pattern);r.value=t&&o?[t,o]:null}}else r.value=D(t,a||l.pattern);n("setInputDate",r.value)}else n("setInputDate",null),l.autoApply&&(n("setEmptyDate"),r.value=null);n("update:inputValue",t)},v=()=>{var e,t;(null==(e=l.textInputOptions)?void 0:e.enterSubmit)&&S(r.value)&&""!==l.inputValue?(n("setInputDate",r.value,!0),r.value=null):(null==(t=l.textInputOptions)?void 0:t.enterSubmit)&&""===l.inputValue&&(r.value=null,n("clear"))},y=()=>{var e,t;(null==(e=l.textInputOptions)?void 0:e.tabSubmit)&&S(r.value)&&""!==l.inputValue?(n("setInputDate",r.value,!0),r.value=null):(null==(t=l.textInputOptions)?void 0:t.tabSubmit)&&""===l.inputValue&&(r.value=null,n("clear")),n("close")},f=()=>{var e;!l.inline&&(!l.textInput||l.textInput&&(null==(e=l.textInputOptions)?void 0:e.openMenu))&&(i.value=!0,l.openMenuOnFocus&&!l.isMenuOpen?n("open"):l.isMenuOpen&&(_(),n("close")))},h=()=>{var e;(!l.openMenuOnFocus||d["dp-input"]||d.trigger)&&(l.textInput&&(null==(e=l.textInputOptions)?void 0:e.openMenu)&&!l.isMenuOpen?n("open"):l.textInput||n("open"))},g=()=>{i.value=!1,l.autoApply&&l.textInput&&r.value&&(n("setInputDate",r.value),n("selectDate"),r.value=null)},k=e=>{e.stopImmediatePropagation()},w=()=>{n("clear")},_=()=>{i.value=!1;const e=Q(s);e&&e.blur()};return a({unFocus:_}),(a,n)=>(e.openBlock(),e.createElementBlock("div",{onClick:h,"aria-label":e.unref(c).input,role:"textbox","aria-multiline":"false","aria-disabled":a.disabled,"aria-readonly":a.readonly},[!a.$slots.trigger||a.$slots["dp-input"]||t.inline?e.createCommentVNode("",!0):e.renderSlot(a.$slots,"trigger",{key:0}),a.$slots.trigger||t.inline&&!a.inlineWithInput?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",_e,[!a.$slots["dp-input"]||a.$slots.trigger||t.inline?e.createCommentVNode("",!0):e.renderSlot(a.$slots,"dp-input",{key:0,value:t.inputValue,onInput:p,onEnter:v,onTab:y,onClear:w}),a.$slots["dp-input"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("input",{key:1,ref_key:"inputRef",ref:s,id:a.uid?`dp-input-${a.uid}`:void 0,name:a.name,class:e.normalizeClass(e.unref(m)),placeholder:a.placeholder,disabled:a.disabled,readonly:a.readonly,required:a.required,value:t.inputValue,autocomplete:a.autocomplete,onInput:p,onKeydown:[e.withKeys(v,["enter"]),e.withKeys(y,["tab"])],onBlur:g,onFocus:f},null,42,be)),a.$slots["input-icon"]&&!a.hideInputIcon?(e.openBlock(),e.createElementBlock("span",{key:2,class:"dp__input_icon",onClick:k},[e.renderSlot(a.$slots,"input-icon")])):e.createCommentVNode("",!0),a.$slots["input-icon"]||a.hideInputIcon||a.$slots["dp-input"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(o),{key:3,class:"dp__input_icon dp__input_icons",onClick:k})),a.$slots["clear-icon"]&&a.clearable&&!a.disabled&&!a.readonly?(e.openBlock(),e.createElementBlock("span",Ce,[e.renderSlot(a.$slots,"clear-icon",{clear:w})])):e.createCommentVNode("",!0),!a.clearable||a.$slots["clear-icon"]||!t.inputValue||a.disabled||a.readonly?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(u),{key:5,class:"dp__clear_icon dp__input_icons",onClick:e.withModifiers(w,["stop","prevent"])},null,8,["onClick"]))]))],8,we))}}),Be=["aria-label"],Se={class:"dp__calendar_header",role:"row"},Ve={key:0,class:"dp__calendar_header_item",role:"gridcell"},Ne=e.createElementVNode("div",{class:"dp__calendar_header_separator"},null,-1),xe=["aria-label"],Me={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},$e={class:"dp__cell_inner"},Pe=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],Ee=e.createElementVNode("div",{class:"dp__arrow_bottom_tp"},null,-1),Ae=e.defineComponent({props:x(L(L({},ke),ye),{mappedDates:{type:Array,default:()=>[]},getWeekNum:{type:Function,default:()=>""},modeHeight:{type:[Number,String],default:255},specificMode:{type:Boolean,default:!1}}),emits:["selectDate","setHoverDate","handleScroll","mount","handleSwipe"],setup(t,{expose:a,emit:n}){const l=t,o=e.ref(null),r=e.ref({bottom:"",left:"",transform:""}),s=e.ref([]),u=e.ref(null),i=e.ref(!0),c=e.inject(ae),d=e.inject(te),m=e.ref(""),p=e.ref({startX:0,endX:0,startY:0,endY:0}),v=e.computed((()=>((e,t)=>{const a=[1,2,3,4,5,6,7].map((t=>new Intl.DateTimeFormat(e,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${t}T00:00:00+00:00`)).slice(0,2))),n=a.slice(0,t),l=a.slice(t+1,a.length);return[a[t]].concat(...l).concat(...n)})(l.locale,+l.weekStart)));e.onMounted((()=>{n("mount"),l.noSwipe||u.value&&(u.value.addEventListener("touchstart",_),u.value.addEventListener("touchend",b),u.value.addEventListener("touchmove",C))}));const y=e.computed((()=>({dp__calendar_wrap:!0,[l.calendarClassName]:!!l.calendarClassName}))),f=e.computed((()=>e=>{const t=(e=>Object.assign({type:"dot"},e))(e);return{dp__marker_dot:"dot"===t.type,dp__marker_line:"line"===t.type}})),h=e.computed((()=>e=>j(e,o.value))),g=e.computed((()=>({dp__calendar:!0,dp__calendar_next:l.multiCalendars>0&&0!==l.instance}))),k=e.computed((()=>l.specificMode?{height:`${l.modeHeight}px`}:null)),w=()=>{o.value=null},_=e=>{p.value.startX=e.changedTouches[0].screenX,p.value.startY=e.changedTouches[0].screenY},b=e=>{p.value.endX=e.changedTouches[0].screenX,p.value.endY=e.changedTouches[0].screenY,D()},C=e=>{e.preventDefault()},D=()=>{const e=l.vertical?"Y":"X";Math.abs(p.value[`start${e}`]-p.value[`end${e}`])>10&&n("handleSwipe",p.value[`start${e}`]>p.value[`end${e}`]?"right":"left")};return a({triggerTransition:(t,a)=>{if(null!=c&&c.value){const n=B(M(new Date,l.month,l.year));m.value=Y(B(M(new Date,t,a)),n)?c.value[l.vertical?"vNext":"next"]:c.value[l.vertical?"vPrevious":"previous"],i.value=!1,e.nextTick((()=>{i.value=!0}))}}}),(a,l)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(e.unref(g))},[e.createElementVNode("div",{style:e.normalizeStyle(e.unref(k))},[t.specificMode?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:0,ref_key:"calendarWrapRef",ref:u,class:e.normalizeClass(e.unref(y)),role:"grid","aria-label":e.unref(d).calendarWrap,onWheel:l[1]||(l[1]=e.withModifiers((e=>a.$emit("handleScroll",e)),["prevent"]))},[e.createElementVNode("div",Se,[a.weekNumbers?(e.openBlock(),e.createElementBlock("div",Ve,e.toDisplayString(a.weekNumName),1)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(v),((t,n)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__calendar_header_item",role:"gridcell",key:n},[a.$slots["calendar-header"]?e.renderSlot(a.$slots,"calendar-header",{key:0,day:t,index:n}):e.createCommentVNode("",!0),a.$slots["calendar-header"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(t),1)],64))])))),128))]),Ne,e.createVNode(e.Transition,{name:m.value,css:!!e.unref(c)},{default:e.withCtx((()=>[i.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__calendar",role:"grid","aria-label":e.unref(d).calendarDays},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.mappedDates,((u,i)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__calendar_row",role:"row",key:i},[a.weekNumbers?(e.openBlock(),e.createElementBlock("div",Me,[e.createElementVNode("div",$e,e.toDisplayString(t.getWeekNum(u.days)),1)])):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(u.days,((t,u)=>(e.openBlock(),e.createElementBlock("div",{role:"gridcell",class:"dp__calendar_item",ref_for:!0,ref:e=>{e&&(s.value[u+i]=e)},key:u+i,"aria-selected":t.classData.dp__active_date||t.classData.dp__range_start||t.classData.dp__range_start,"aria-disabled":t.classData.dp__cell_disabled,tabindex:"0",onClick:e.withModifiers((e=>a.$emit("selectDate",t)),["stop","prevent"]),onKeydown:e.withKeys((e=>a.$emit("selectDate",t)),["enter"]),onMouseover:e=>((e,t)=>{var a,l;if(n("setHoverDate",e),null!=(l=null==(a=e.marker)?void 0:a.tooltip)&&l.length){const a=Q(s.value[t]);if(a){const{width:t,height:n}=a.getBoundingClientRect();r.value={bottom:`${n}px`,left:t/2+"px",transform:"translateX(-50%)"},o.value=e.value}}})(t,u+i),onMouseleave:w},[e.createElementVNode("div",{class:e.normalizeClass(["dp__cell_inner",t.classData])},[a.$slots.day?e.renderSlot(a.$slots,"day",{key:0,day:+t.text,date:t.value}):e.createCommentVNode("",!0),a.$slots.day?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(t.text),1)],64)),t.marker?(e.openBlock(),e.createElementBlock("div",{key:2,class:e.normalizeClass(e.unref(f)(t.marker)),style:e.normalizeStyle(t.marker.color?{backgroundColor:t.marker.color}:{})},null,6)):e.createCommentVNode("",!0),e.unref(h)(t.value)?(e.openBlock(),e.createElementBlock("div",{key:3,class:"dp__marker_tooltip",style:e.normalizeStyle(r.value)},[e.createElementVNode("div",{class:"dp__tooltip_content",onClick:l[0]||(l[0]=e.withModifiers((()=>{}),["stop"]))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.marker.tooltip,((n,l)=>(e.openBlock(),e.createElementBlock("div",{key:l,class:"dp__tooltip_text"},[a.$slots["marker-tooltip"]?e.renderSlot(a.$slots,"marker-tooltip",{key:0,tooltop:n,day:t.value}):e.createCommentVNode("",!0),a.$slots["marker-tooltip"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",{class:"dp__tooltip_mark",style:e.normalizeStyle(n.color?{backgroundColor:n.color}:{})},null,4),e.createElementVNode("div",null,e.toDisplayString(n.text),1)],64))])))),128)),Ee])],4)):e.createCommentVNode("",!0)],2)],40,Pe)))),128))])))),128))],8,xe)):e.createCommentVNode("",!0)])),_:3},8,["name","css"])],42,Be))],4)],2))}}),Te=(e,t)=>t,Oe=e=>Array.isArray(e),Ie=e=>Array.isArray(e),Re=e=>Array.isArray(e)&&2===e.length,Le=e=>"string"==typeof e,Ye={class:"dp__selection_preview"},Fe={class:"dp__action_buttons"},je=["onKeydown"],ze=e.defineComponent({props:x(L(L(L(L(L({},pe),me),de),ve),ge),{inline:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},menuMount:{type:Boolean,default:!1},enableTimePicker:{type:Boolean,default:!0}}),emits:["closePicker","selectDate"],setup(t,{emit:a}){const n=t,l=e.inject(oe),o=e.computed((()=>({dp__action:!0,dp__select:!0,dp__action_disabled:!r.value||!s.value}))),r=e.computed((()=>!n.enableTimePicker||W(n.internalModelValue,n.maxTime,n.minTime))),s=e.computed((()=>!n.monthPicker||((e,t,a)=>{let n=!0;return t&&a&&(n=Y(new Date(e),new Date(t))&&F(new Date(e),new Date(a))),t&&(n=Y(new Date(e),new Date(t))),a&&(n=F(new Date(e),new Date(a))),n})(n.internalModelValue,n.minDate,n.maxDate))),u=e=>R(e,n.previewFormat,null==l?void 0:l.value),i=e.computed((()=>n.internalModelValue&&n.menuMount?"string"==typeof n.previewFormat?Oe(n.internalModelValue)?2===n.internalModelValue.length&&n.internalModelValue[1]?n.multiCalendars>0?`${u(n.internalModelValue[0])} - ${u(n.internalModelValue[1])}`:[u(n.internalModelValue[0]),u(n.internalModelValue[1])]:n.multiDates?n.internalModelValue.map((e=>`${u(e)}`)):`${u(n.internalModelValue[0])} -`:R(n.internalModelValue,n.previewFormat,null==l?void 0:l.value):n.timePicker?n.previewFormat(O(n.internalModelValue)):n.monthPicker?n.previewFormat(A(n.internalModelValue)):n.previewFormat(n.internalModelValue):"")),c=()=>{r.value&&s.value&&a("selectDate")};return(a,n)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__action_row",style:e.normalizeStyle(t.calendarWidth?{width:`${t.calendarWidth}px`}:{})},[e.createElementVNode("div",Ye,[a.$slots["action-preview"]?e.renderSlot(a.$slots,"action-preview",{key:0,value:a.internalModelValue}):e.createCommentVNode("",!0),a.$slots["action-preview"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[Array.isArray(e.unref(i))?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(e.toDisplayString(e.unref(i)),1)],64)),Array.isArray(e.unref(i))?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(e.unref(i),((t,a)=>(e.openBlock(),e.createElementBlock("div",{key:a},e.toDisplayString(t),1)))),128)):e.createCommentVNode("",!0)],64))]),e.createElementVNode("div",Fe,[a.$slots["action-select"]?e.renderSlot(a.$slots,"action-select",{key:0,value:a.internalModelValue}):e.createCommentVNode("",!0),a.$slots["action-select"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[t.inline?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("span",{key:0,class:"dp__action dp__cancel",tabindex:"0",onClick:n[0]||(n[0]=e=>a.$emit("closePicker")),onKeydown:n[1]||(n[1]=e.withKeys((e=>a.$emit("closePicker")),["enter"]))},e.toDisplayString(a.cancelText),33)),e.createElementVNode("span",{class:e.normalizeClass(e.unref(o)),tabindex:"0",onKeydown:e.withKeys(c,["enter"]),onClick:c},e.toDisplayString(a.selectText),43,je)],64))])],4))}}),Ke={class:"dp__overlay_container",role:"grid"},He={class:"dp__selection_grid_header"},Ue=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],We=["aria-label","onKeydown"],Ge=e.defineComponent({props:{items:{type:Array,default:()=>[]},modelValue:{type:[String,Number],default:null},multiModelValue:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:[Number,String],default:null},maxValue:{type:[Number,String],default:null},year:{type:Number,default:0},skipActive:{type:Boolean,default:!1}},emits:["update:modelValue","selected","toggle","reset-flow"],setup(a,{emit:n}){const l=a,o=e.ref(!1),r=e.ref(null),s=e.ref(null),u=e.inject(ne,!1),i=e.inject(le,e.ref(!1)),c=e.inject(te),d=e.ref();e.onBeforeUpdate((()=>{r.value=null})),e.onMounted((()=>{h();const e=Q(s);e&&(i.value||e.focus({preventScroll:!0}),o.value=e.clientHeight<e.scrollHeight)}));const m=e.computed((()=>({dp__overlay:!0}))),p=e.computed((()=>({dp__overlay_col:!0}))),v=e.computed((()=>l.items.map((e=>e.filter((e=>e)).map((e=>{var a,n,o;const r=l.disabledValues.some((t=>t===e.value))||f(e.value),s=null!=(a=l.multiModelValue)&&a.length?null==(n=l.multiModelValue)?void 0:n.some((a=>j(a,t.setYear(t.setMonth(new Date,e.value),l.year)))):!l.skipActive&&e.value===l.modelValue;return x(L({},e),{className:{dp__overlay_cell_active:s,dp__overlay_cell:!s,dp__overlay_cell_disabled:r,dp__overlay_cell_active_disabled:r&&s,dp__overlay_cell_pad:!0,dp__cell_in_between:!(null==(o=l.multiModelValue)||!o.length)&&k(e.value)}})})))))),y=e.computed((()=>({dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:o.value,dp__button_bottom:u}))),f=e=>{const t=!!l.maxValue&&+e>+l.maxValue,a=!!l.minValue&&+e<+l.minValue;return t||a},h=()=>{const e=Q(r);if(e){const t=Q(s);t&&(t.scrollTop=e.offsetTop-t.offsetTop-(t.getBoundingClientRect().height/2-e.getBoundingClientRect().height))}},g=e=>{!l.disabledValues.some((t=>t===e))&&(!l.minValue||+l.minValue<=e)&&(!l.maxValue||+l.maxValue>=e)&&(n("update:modelValue",e),n("selected"))},k=e=>X(l.multiModelValue,t.setYear(t.setMonth(new Date,d.value||0),l.year),t.setYear(t.setMonth(new Date,e),l.year)),w=()=>{n("toggle"),n("reset-flow")};return(t,n)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"gridWrapRef",ref:s,class:e.normalizeClass(e.unref(m)),role:"dialog",tabindex:"0"},[e.createElementVNode("div",Ke,[e.createElementVNode("div",He,[e.renderSlot(t.$slots,"header")]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(v),((n,l)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__overlay_row",key:e.unref(Z)(l),role:"row"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n,(n=>(e.openBlock(),e.createElementBlock("div",{role:"gridcell",class:e.normalizeClass(e.unref(p)),key:n.value,"aria-selected":n.value===a.modelValue&&!a.disabledValues.includes(n.value),"aria-disabled":n.className.dp__overlay_cell_disabled,ref_for:!0,ref:e=>{n.value===a.modelValue&&!a.disabledValues.includes(n.value)&&(r.value=e)},tabindex:"0",onClick:e=>g(n.value),onKeydown:e.withKeys((e=>g(n.value)),["enter"]),onMouseover:e=>d.value=n.value},[e.createElementVNode("div",{class:e.normalizeClass(n.className)},[t.$slots.item?e.renderSlot(t.$slots,"item",{key:0,item:n}):e.createCommentVNode("",!0),t.$slots.item?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(n.text),1)],64))],2)],42,Ue)))),128))])))),128)),t.$slots["button-icon"]?(e.openBlock(),e.createElementBlock("div",{key:0,role:"button","aria-label":e.unref(c).toggleOverlay,class:e.normalizeClass(e.unref(y)),tabindex:"0",onClick:w,onKeydown:e.withKeys(w,["enter"])},[e.renderSlot(t.$slots,"button-icon")],42,We)):e.createCommentVNode("",!0)])],2))}}),Xe=()=>{const t=e.inject(ae);return{transitionName:e.computed((()=>e=>null!=t&&t.value?e?t.value.open:t.value.close:"")),showTransition:!(null==t||!t.value)}},qe={key:0,class:"dp__time_input"},Je=e.createTextVNode(" : "),Ze=["aria-label","onKeydown","onClick"],Qe=["aria-label","onKeydown","onClick"],et=["aria-label","onKeydown","onClick"],tt={key:0},at=["aria-label","onKeydown"],nt=e.defineComponent({props:x(L({},ue),{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},filters:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1}}),emits:["setHours","setMinutes","update:hours","update:minutes","update:seconds","reset-flow"],setup(a,{expose:n,emit:l}){const o=a,r=e.reactive({hours:!1,minutes:!1,seconds:!1}),s=e.ref("AM"),u=e.inject(te),{transitionName:i,showTransition:c}=Xe(),d=e.computed((()=>({dp__time_col:!0,dp__time_col_reg:!o.enableSeconds&&o.is24,dp__time_col_reg_with_button:!o.enableSeconds&&!o.is24,dp__time_col_sec:o.enableSeconds&&o.is24,dp__time_col_sec_with_button:o.enableSeconds&&!o.is24}))),m=e.computed((()=>{const e=[{type:"hours"},"separator",{type:"minutes"}];return o.enableSeconds?e.concat(["separator",{type:"seconds"}]):e})),p=e.computed((()=>m.value.filter((e=>"string"!=typeof e)))),v=e.computed((()=>e=>{if("hours"===e){const e=_(o.hours);return{text:e<10?`0${e}`:`${e}`,value:e}}return{text:o[e]<10?`0${o[e]}`:`${o[e]}`,value:o[e]}})),y=e=>{const t="hours"===e?o.is24?24:12:60,a=+o[`${e}GridIncrement`],n=[];for(let l=0;l<t;l+=a)n.push({value:l,text:l<10?`0${l}`:`${l}`});return((e,t=3)=>{const a=[];for(let n=0;n<e.length;n+=t)a.push([e[n],e[n+1],e[n+2]]);return a})(n)},f=e=>o[`no${e[0].toUpperCase()+e.slice(1)}Overlay`],g=e=>{f(e)||(r[e]=!r[e])},k=(e,a=!0)=>{const n="hours"===e?t.getHours:"minutes"===e?t.getMinutes:t.getSeconds;l(`update:${e}`,n((a?z:K)({[e]:+o[e]},{[e]:+o[`${e}Increment`]})))},_=e=>o.is24?e:(s.value=e>=12?"PM":"AM",(e=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][e])(e)),b=()=>{"PM"===s.value?(s.value="AM",l("update:hours",o.hours-12)):(s.value="PM",l("update:hours",o.hours+12))};return n({openChildCmp:e=>{r[e]=!0}}),(t,n)=>a.disabled?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",qe,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(m),((a,n)=>(e.openBlock(),e.createElementBlock("div",{key:n,class:e.normalizeClass(e.unref(d))},["separator"===a?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[Je],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",{class:"dp__inc_dec_button",role:"button","aria-label":e.unref(u).incrementValue(a.type),tabindex:"0",onKeydown:e.withKeys((e=>k(a.type)),["enter"]),onClick:e=>k(a.type)},[t.$slots["arrow-up"]?e.renderSlot(t.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),t.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(w),{key:1}))],40,Ze),e.createElementVNode("div",{role:"button","aria-label":e.unref(u).openTpOverlay(a.type),class:e.normalizeClass(f(a.type)?"":"dp__time_display"),tabindex:"0",onKeydown:e.withKeys((e=>g(a.type)),["enter"]),onClick:e=>g(a.type)},[t.$slots[a.type]?e.renderSlot(t.$slots,a.type,{key:0,text:e.unref(v)(a.type).text,value:e.unref(v)(a.type).value}):e.createCommentVNode("",!0),t.$slots[a.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(e.unref(v)(a.type).text),1)],64))],42,Qe),e.createElementVNode("div",{class:"dp__inc_dec_button",role:"button","aria-label":e.unref(u).decrementValue(a.type),tabindex:"0",onKeydown:e.withKeys((e=>k(a.type,!1)),["enter"]),onClick:e=>k(a.type,!1)},[t.$slots["arrow-down"]?e.renderSlot(t.$slots,"arrow-down",{key:0}):e.createCommentVNode("",!0),t.$slots["arrow-down"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(C),{key:1}))],40,et)],64))],2)))),128)),t.is24?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",tt,[t.$slots["am-pm-button"]?e.renderSlot(t.$slots,"am-pm-button",{key:0,toggle:b,value:s.value}):e.createCommentVNode("",!0),t.$slots["am-pm-button"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:1,class:"dp__pm_am_button",role:"button","aria-label":e.unref(u).amPmButton,tabindex:"0",onClick:b,onKeydown:e.withKeys(b,["enter"])},e.toDisplayString(s.value),41,at))])),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(p),((l,o)=>(e.openBlock(),e.createBlock(e.Transition,{key:o,name:e.unref(i)(e.unref(r)[l.type]),css:e.unref(c)},{default:e.withCtx((()=>[e.unref(r)[l.type]?(e.openBlock(),e.createBlock(Ge,{key:0,items:y(l.type),"disabled-values":a.filters.times[l.type],"onUpdate:modelValue":e=>t.$emit(`update:${l.type}`,e),onSelected:e=>g(l.type),onToggle:e=>g(l.type),onResetFlow:n[0]||(n[0]=e=>t.$emit("reset-flow"))},e.createSlots({"button-icon":e.withCtx((()=>[t.$slots["clock-icon"]?e.renderSlot(t.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),t.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(h),{key:1}))])),_:2},[t.$slots[`${l.type}-overlay`]?{name:"item",fn:e.withCtx((({item:a})=>[e.renderSlot(t.$slots,`${l.type}-overlay`,{text:a.text,value:a.value})]))}:void 0]),1032,["items","disabled-values","onUpdate:modelValue","onSelected","onToggle"])):e.createCommentVNode("",!0)])),_:2},1032,["name","css"])))),128))]))}}),lt=[{name:"clock-icon",use:["time","calendar"]},{name:"arrow-left",use:["month-year","calendar"]},{name:"arrow-right",use:["month-year","calendar"]},{name:"arrow-up",use:["time","calendar"]},{name:"arrow-down",use:["time","calendar"]},{name:"calendar-icon",use:["month-year","time","calendar"]},{name:"day",use:["calendar"]},{name:"month-overlay",use:["calendar","month-year"]},{name:"year-overlay",use:["calendar","month-year"]},{name:"hours-overlay",use:["calendar","time"]},{name:"minutes-overlay",use:["calendar","time"]},{name:"seconds-overlay",use:["calendar","time"]},{name:"hours",use:["calendar","time"]},{name:"minutes",use:["calendar","time"]},{name:"month",use:["calendar","month-year"]},{name:"year",use:["calendar","month-year"]},{name:"action-select",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar"]},{name:"marker-tooltip",use:["calendar"]},{name:"now-button",use:[]},{name:"time-picker-overlay",use:["calendar","time"]},{name:"am-pm-button",use:["calendar","time"]}],ot=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],rt={all:()=>lt,monthYear:()=>lt.filter((e=>e.use.includes("month-year"))),input:()=>ot,timePicker:()=>lt.filter((e=>e.use.includes("time"))),action:()=>lt.filter((e=>e.use.includes("action"))),calendar:()=>lt.filter((e=>e.use.includes("calendar")))},st=(e,t)=>{const a=[];return rt[t]().forEach((t=>{e[t.name]&&a.push(t.name)})),a},ut=["aria-label"],it={key:0,class:"dp__overlay"},ct={class:"dp__overlay_container"},dt={key:1,class:"dp__overlay_row"},mt=["aria-label"],pt=e.defineComponent({props:x(L({},ie),{range:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},customProps:{type:Object,default:null}}),emits:["update:hours","update:minutes","update:seconds","mount","reset-flow"],setup(t,{expose:a,emit:n}){const l=t,r=e.useSlots(),s=e.inject(ne,!1),u=e.ref(null),i=e.inject(te),{transitionName:c,showTransition:d}=Xe();e.onMounted((()=>{n("mount")}));const m=e.ref(!1),p=e=>({hours:Array.isArray(l.hours)?l.hours[e]:l.hours,minutes:Array.isArray(l.minutes)?l.minutes[e]:l.minutes,seconds:Array.isArray(l.seconds)?l.seconds[e]:l.seconds}),v=e.computed((()=>{const e=[];if(l.range)for(let t=0;t<2;t++)e.push(p(t));else e.push(p(0));return e})),y=(t,a=!1,l="")=>{a||n("reset-flow"),m.value=t,e.nextTick((()=>{""!==l&&u.value&&u.value.openChildCmp(l)}))},f=e.computed((()=>({dp__button:!0,dp__button_bottom:s}))),g=st(r,"timePicker"),k=(e,t,a)=>l.range?0===t?[e,v.value[1][a]]:[v.value[0][a],e]:e,w=e=>{n("update:hours",e)},_=e=>{n("update:minutes",e)},b=e=>{n("update:seconds",e)};return a({toggleTimePicker:y}),(a,n)=>(e.openBlock(),e.createElementBlock("div",null,[a.timePicker?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(e.unref(f)),role:"button","aria-label":e.unref(i).openTimePicker,tabindex:"0",onKeydown:n[0]||(n[0]=e.withKeys((e=>y(!0)),["enter"])),onClick:n[1]||(n[1]=e=>y(!0))},[a.$slots["clock-icon"]?e.renderSlot(a.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),a.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(h),{key:1}))],42,ut)),e.createVNode(e.Transition,{name:e.unref(c)(m.value),css:e.unref(d)},{default:e.withCtx((()=>[m.value||a.timePicker?(e.openBlock(),e.createElementBlock("div",it,[e.createElementVNode("div",ct,[a.$slots["time-picker-overlay"]?e.renderSlot(a.$slots,"time-picker-overlay",{key:0,range:t.range,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:w,setMinutes:_,setSeconds:b}):e.createCommentVNode("",!0),a.$slots["time-picker-overlay"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",dt,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(v),((n,l)=>(e.openBlock(),e.createBlock(nt,e.mergeProps({key:l,disabled:0===l?a.fixedStart:a.fixedEnd,hours:n.hours,minutes:n.minutes,seconds:n.seconds,filters:t.filters},{is24:a.is24,hoursGridIncrement:a.hoursGridIncrement,minutesGridIncrement:a.minutesGridIncrement,secondsGridIncrement:a.secondsGridIncrement,hoursIncrement:a.hoursIncrement,minutesIncrement:a.minutesIncrement,secondsIncrement:a.secondsIncrement,filters:t.filters,noHoursOverlay:a.noHoursOverlay,noMinutesOverlay:a.noMinutesOverlay,noSecondsOverlay:a.noSecondsOverlay,enableSeconds:a.enableSeconds},{"onUpdate:hours":e=>w(k(e,l,"hours")),"onUpdate:minutes":e=>_(k(e,l,"minutes")),"onUpdate:seconds":e=>b(k(e,l,"seconds"))}),e.createSlots({_:2},[e.renderList(e.unref(g),((t,n)=>({name:t,fn:e.withCtx((n=>[e.renderSlot(a.$slots,t,e.normalizeProps(e.guardReactiveProps(n)))]))})))]),1040,["disabled","hours","minutes","seconds","filters","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])))),128))])),a.timePicker?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:2,class:e.normalizeClass(e.unref(f)),role:"button","aria-label":e.unref(i).closeTimePicker,tabindex:"0",onKeydown:n[2]||(n[2]=e.withKeys((e=>y(!1)),["enter"])),onClick:n[3]||(n[3]=e=>y(!1))},[a.$slots["calendar-icon"]?e.renderSlot(a.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),a.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(o),{key:1}))],42,mt))])])):e.createCommentVNode("",!0)])),_:3},8,["name","css"])]))}}),vt=["aria-label"],yt=e.defineComponent({props:{ariaLabel:{type:String,default:""}},emits:["activate"],setup:t=>(a,n)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__month_year_col_nav",onClick:n[0]||(n[0]=e=>a.$emit("activate")),onKeydown:n[1]||(n[1]=e.withKeys((e=>a.$emit("activate")),["enter"])),tabindex:"0"},[e.createElementVNode("div",{class:"dp__inner_nav",role:"button","aria-label":t.ariaLabel},[e.renderSlot(a.$slots,"default")],8,vt)],32))}),ft=["aria-label"],ht=e.defineComponent({props:{ariaLabel:{type:String,default:""},showSelectionGrid:{type:Boolean,default:!1},modelValue:{type:Number,default:null},items:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:Number,default:null},maxValue:{type:Number,default:null},slotName:{type:String,default:""}},emits:["update:model-value","toggle"],setup(t){const{transitionName:a,showTransition:n}=Xe();return(l,r)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",{class:"dp__month_year_select",onClick:r[0]||(r[0]=e=>l.$emit("toggle")),onKeydown:r[1]||(r[1]=e.withKeys((e=>l.$emit("toggle")),["enter"])),role:"button","aria-label":t.ariaLabel,tabindex:"0"},[e.renderSlot(l.$slots,"default")],40,ft),e.createVNode(e.Transition,{name:e.unref(a)(t.showSelectionGrid),css:e.unref(n)},{default:e.withCtx((()=>[t.showSelectionGrid?(e.openBlock(),e.createBlock(Ge,e.mergeProps({key:0},{modelValue:t.modelValue,items:t.items,disabledValues:t.disabledValues,minValue:t.minValue,maxValue:t.maxValue},{"onUpdate:modelValue":r[2]||(r[2]=e=>l.$emit("update:model-value",e)),onToggle:r[3]||(r[3]=e=>l.$emit("toggle"))}),e.createSlots({"button-icon":e.withCtx((()=>[l.$slots["calendar-icon"]?e.renderSlot(l.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),l.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(o),{key:1}))])),_:2},[l.$slots[t.slotName]?{name:"item",fn:e.withCtx((({item:a})=>[e.renderSlot(l.$slots,t.slotName,{item:a})]))}:void 0]),1040)):e.createCommentVNode("",!0)])),_:3},8,["name","css"])],64))}}),gt=(e,a)=>{const n=(a,l)=>{let o=a;return e.filters.months.includes(t.getMonth(o))?(o=l?t.addMonths(a,1):t.subMonths(a,1),n(o,l)):o},l=(a,n)=>{let o=a;return e.filters.years.includes(t.getYear(o))?(o=n?t.addYears(a,1):t.subYears(a,1),l(o,n)):o},o=(a,n,l)=>[new Date(e[a]),t.set(new Date,{month:n,year:l})],r=(e,t)=>{a("update:month",e),a("update:year",t)};return{handleMonthYearChange:a=>{const s=t.set(new Date,{month:e.month,year:e.year});let u=a?t.addMonths(s,1):t.subMonths(s,1),i=t.getMonth(u),c=t.getYear(u);e.filters.months.includes(i)&&(u=n(u,a),i=t.getMonth(u),c=t.getYear(u)),e.filters.years.includes(c)&&(u=l(u,a),c=t.getYear(u)),((t,a)=>{e.preventMinMaxNavigation&&(e.minDate||e.maxDate)?(e.maxDate&&(Y(...o("maxDate",t,a))||j(...o("maxDate",t,a)))&&r(t,a),(e.minDate&&F(...o("minDate",t,a))||j(...o("minDate",t,a)))&&r(t,a)):r(t,a)})(i,c)}}},kt={class:"dp__month_year_row"},wt={class:"dp__month_picker_header"},_t=["aria-label"],bt=["aria-label","onKeydown"],Ct=["aria-label"],Dt=e.defineComponent({props:x(L(L({},ke),me),{preventMinMaxNavigation:{type:Boolean,default:!1},reverseYears:{type:Boolean,default:!1},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},filters:{type:Object,default:()=>({})},multiCalendarsSolo:{type:Boolean,default:!1}}),emits:["update:month","update:year","monthYearSelect","mount","reset-flow"],setup(a,{expose:n,emit:l}){const r=a,{transitionName:s,showTransition:u}=Xe(),i=e.ref(!1),c=e.ref(!1),m=e.inject(te),{handleMonthYearChange:p}=gt(r,l);e.onMounted((()=>{l("mount")}));const y=e=>({get:()=>r[e],set:t=>{l(`update:${e}`,t),l("monthYearSelect","year"===e),"month"===e?P(!0):E(!0)}}),f=e.computed(y("month")),h=e.computed(y("year")),g=e.computed((()=>e=>{const t="month"===e;return{showSelectionGrid:(t?i:c).value,items:(t?N:x).value,disabledValues:r.filters[t?"months":"years"],minValue:(t?b:k).value,maxValue:(t?D:_).value}})),k=e.computed((()=>r.minDate?t.getYear(new Date(r.minDate)):null)),_=e.computed((()=>r.maxDate?t.getYear(new Date(r.maxDate)):null)),b=e.computed((()=>{if(r.minDate&&k.value){if(k.value>r.year)return 12;if(k.value===r.year)return t.getMonth(new Date(r.minDate))}return null})),D=e.computed((()=>{if(r.maxDate&&_.value){if(_.value<r.year)return-1;if(_.value===r.year)return t.getMonth(new Date(r.maxDate))}return null})),B=e.computed((()=>r.range&&r.internalModelValue&&r.monthPicker?r.internalModelValue:[])),S=(e,t=!1)=>{const a=[];for(let n=0;n<e.length;n+=3){const l=[e[n],e[n+1],e[n+2]];a.push(t?l.reverse():l)}return t?a.reverse():a},V=e.computed((()=>r.months.find((e=>e.value===r.month))||{text:"",value:0})),N=e.computed((()=>S(r.months))),x=e.computed((()=>S(r.years,r.reverseYears))),M=e.computed((()=>!r.multiCalendars||(!!r.multiCalendarsSolo||0===r.instance))),$=e.computed((()=>!r.multiCalendars||(!!r.multiCalendarsSolo||r.instance===r.multiCalendars-1))),P=(e=!1)=>{A(e),i.value=!i.value},E=(e=!1)=>{A(e),c.value=!c.value},A=e=>{e||l("reset-flow")},T=(e=!1)=>{l("update:year",e?r.year+1:r.year-1)};return n({toggleMonthPicker:P,toggleYearPicker:E}),(t,a)=>(e.openBlock(),e.createElementBlock("div",kt,[t.monthPicker?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.unref(M)&&!t.vertical?(e.openBlock(),e.createBlock(yt,{key:0,"aria-label":e.unref(m).prevMonth,onActivate:a[0]||(a[0]=t=>e.unref(p)(!1))},{default:e.withCtx((()=>[t.$slots["arrow-left"]?e.renderSlot(t.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),t.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(d),{key:1}))])),_:3},8,["aria-label"])):e.createCommentVNode("",!0),e.createVNode(ht,e.mergeProps({"aria-label":e.unref(m).openMonthsOverlay,"slot-name":"month-overlay",modelValue:e.unref(f),"onUpdate:modelValue":a[1]||(a[1]=t=>e.isRef(f)?f.value=t:null)},e.unref(g)("month"),{onToggle:P}),e.createSlots({default:e.withCtx((()=>[t.$slots.month?e.renderSlot(t.$slots,"month",e.normalizeProps(e.mergeProps({key:0},e.unref(V)))):e.createCommentVNode("",!0),t.$slots.month?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(e.unref(V).text),1)],64))])),_:2},[t.$slots["calendar-icon"]?{name:"calendar-icon",fn:e.withCtx((()=>[e.renderSlot(t.$slots,"calendar-icon")]))}:void 0,t.$slots["month-overlay"]?{name:"month-overlay",fn:e.withCtx((({item:a})=>[e.renderSlot(t.$slots,"month-overlay",{text:a.text,value:a.value})]))}:void 0]),1040,["aria-label","modelValue"]),e.createVNode(ht,e.mergeProps({"aria-label":e.unref(m).openYearsOverlay,"slot-name":"year-overlay",modelValue:e.unref(h),"onUpdate:modelValue":a[2]||(a[2]=t=>e.isRef(h)?h.value=t:null)},e.unref(g)("year"),{onToggle:E}),e.createSlots({default:e.withCtx((()=>[t.$slots.year?e.renderSlot(t.$slots,"year",{key:0,year:t.year}):e.createCommentVNode("",!0),t.$slots.year?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(t.year),1)],64))])),_:2},[t.$slots["calendar-icon"]?{name:"calendar-icon",fn:e.withCtx((()=>[e.renderSlot(t.$slots,"calendar-icon")]))}:void 0,t.$slots["year-overlay"]?{name:"year-overlay",fn:e.withCtx((({item:a})=>[e.renderSlot(t.$slots,"year-overlay",{text:a.text,value:a.value})]))}:void 0]),1040,["aria-label","modelValue"]),e.unref(M)&&t.vertical?(e.openBlock(),e.createBlock(yt,{key:1,"aria-label":e.unref(m).prevMonth,onActivate:a[3]||(a[3]=t=>e.unref(p)(!1))},{default:e.withCtx((()=>[t.$slots["arrow-up"]?e.renderSlot(t.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),t.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(w),{key:1}))])),_:3},8,["aria-label"])):e.createCommentVNode("",!0),e.unref($)?(e.openBlock(),e.createBlock(yt,{key:2,"arial-label":e.unref(m).nextMonth,onActivate:a[4]||(a[4]=t=>e.unref(p)(!0))},{default:e.withCtx((()=>[t.$slots[t.vertical?"arrow-down":"arrow-right"]?e.renderSlot(t.$slots,t.vertical?"arrow-down":"arrow-right",{key:0}):e.createCommentVNode("",!0),t.$slots[t.vertical?"arrow-down":"arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(t.vertical?e.unref(C):e.unref(v)),{key:1}))])),_:3},8,["arial-label"])):e.createCommentVNode("",!0)],64)),t.monthPicker?(e.openBlock(),e.createBlock(Ge,e.mergeProps({key:1},e.unref(g)("month"),{"skip-active":r.range,year:t.year,"multi-model-value":e.unref(B),modelValue:e.unref(f),"onUpdate:modelValue":a[10]||(a[10]=t=>e.isRef(f)?f.value=t:null),onToggle:P}),e.createSlots({header:e.withCtx((()=>[e.createElementVNode("div",wt,[e.createElementVNode("div",{class:"dp__month_year_col_nav",tabindex:"0",onClick:a[5]||(a[5]=e=>T(!1)),onKeydown:a[6]||(a[6]=e.withKeys((e=>T(!1)),["enter"]))},[e.createElementVNode("div",{class:"dp__inner_nav",role:"button","aria-label":e.unref(m).prevMonth},[t.$slots["arrow-left"]?e.renderSlot(t.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),t.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(d),{key:1}))],8,_t)],32),e.createElementVNode("div",{class:"dp__pointer",role:"button","aria-label":e.unref(m).openYearsOverlay,tabindex:"0",onClick:E,onKeydown:e.withKeys(E,["enter"])},[t.$slots.year?e.renderSlot(t.$slots,"year",{key:0,year:t.year}):e.createCommentVNode("",!0),t.$slots.year?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(t.year),1)],64))],40,bt),e.createElementVNode("div",{class:"dp__month_year_col_nav",tabindex:"0",onClick:a[7]||(a[7]=e=>T(!0)),onKeydown:a[8]||(a[8]=e.withKeys((e=>T(!0)),["enter"]))},[e.createElementVNode("div",{class:"dp__inner_nav",role:"button","aria-label":e.unref(m).nextMonth},[t.$slots["arrow-right"]?e.renderSlot(t.$slots,"arrow-right",{key:0}):e.createCommentVNode("",!0),t.$slots["arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(v),{key:1}))],8,Ct)],32)]),e.createVNode(e.Transition,{name:e.unref(s)(c.value),css:e.unref(u)},{default:e.withCtx((()=>[c.value?(e.openBlock(),e.createBlock(Ge,e.mergeProps({key:0},e.unref(g)("year"),{modelValue:e.unref(h),"onUpdate:modelValue":a[9]||(a[9]=t=>e.isRef(h)?h.value=t:null),onToggle:E}),e.createSlots({"button-icon":e.withCtx((()=>[t.$slots["calendar-icon"]?e.renderSlot(t.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),t.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(o),{key:1}))])),_:2},[t.$slots["year-overlay"]?{name:"item",fn:e.withCtx((({item:a})=>[e.renderSlot(t.$slots,"year-overlay",{text:a.text,value:a.value})]))}:void 0]),1040,["modelValue"])):e.createCommentVNode("",!0)])),_:3},8,["name","css"])])),_:2},[t.$slots["month-overlay"]?{name:"item",fn:e.withCtx((({item:a})=>[e.renderSlot(t.$slots,"month-overlay",{text:a.text,value:a.value})]))}:void 0]),1040,["skip-active","year","multi-model-value","modelValue"])):e.createCommentVNode("",!0)]))}}),Bt=(a,n,l,o,r)=>{const s=e.ref(new Date),u=e.ref(),i=e.ref([{month:t.getMonth(new Date),year:t.getYear(new Date)}]),c=e.ref(a.range?[t.getHours(new Date),t.getHours(new Date)]:t.getHours(new Date)),d=e.ref(a.range?[t.getMinutes(new Date),t.getMinutes(new Date)]:t.getMinutes(new Date)),m=e.ref(a.range?[0,0]:0);e.watch(i,(()=>{setTimeout((()=>{a.openOnTop&&n("dpOpen")}),0)}),{deep:!0}),e.onMounted((()=>{B(),w.value||(a.startDate&&(i.value[0].month=t.getMonth(new Date(a.startDate)),i.value[0].year=t.getYear(new Date(a.startDate)),a.multiCalendars&&x(0)),a.startTime&&k())}));const p=e.computed((()=>e=>i.value[e]?i.value[e].month:0)),v=e.computed((()=>e=>i.value[e]?i.value[e].year:0)),y=(e,t,a)=>{i.value[e].month=t,i.value[e].year=a},f=(e,t)=>i.value[e].month=t,h=(e,t)=>i.value[e].year=t,g=(e=!0)=>a.enableSeconds?Array.isArray(m.value)?e?m.value[0]:m.value[1]:m.value:0,k=()=>{a.startTime&&((e=>Array.isArray(e))(a.startTime)?(c.value=[+a.startTime[0].hours,+a.startTime[1].hours],d.value=[+a.startTime[0].minutes,+a.startTime[1].minutes],a.enableSeconds&&(m.value=[+a.startTime[0].seconds,+a.startTime[1].seconds])):(c.value=+a.startTime.hours,d.value=+a.startTime.minutes,a.enableSeconds&&(m.value=+a.startTime.seconds)))},w=e.computed({get:()=>a.internalModelValue,set:e=>{!a.readonly&&!a.disabled&&n("update:internalModelValue",e)}});e.watch(w,(()=>B()));const _=e=>{const n=!!a.maxDate&&Y(G(e),G(new Date(a.maxDate))),l=!!a.minDate&&F(G(e),G(new Date(a.minDate))),o="function"==typeof a.disabledDates?a.disabledDates(e):a.disabledDates.some((t=>j(G(new Date(t)),G(e)))),r=(a.filters.months.length?a.filters.months.map((e=>+e)):[]).includes(t.getMonth(e)),s=!!a.disabledWeekDays.length&&a.disabledWeekDays.some((a=>+a===t.getDay(e))),u=!!a.allowedDates.length&&!a.allowedDates.some((t=>j(G(new Date(t)),G(e)))),i=t.getYear(e),c=i<+a.yearRange[0]||i>+a.yearRange[1];return n||l||o||r||c||s||u},b=e=>!(!w.value||a.hideOffsetDates&&!e.current||a.range)&&(a.multiDates&&Array.isArray(w.value)?w.value.some((t=>j(t,e.value))):j(e.value,w.value?w.value:s.value)),C=e=>{if(f(0,t.getMonth(e)),h(0,t.getYear(e)),a.multiCalendars)for(let n=1;n<a.multiCalendars;n++){const e=t.set(new Date,{month:p.value(n-1),year:v.value(n-1)}),a=t.add(e,{months:1});i.value.push({month:t.getMonth(a),year:t.getYear(a)})}},D=e=>{C(e),c.value=t.getHours(e),d.value=t.getMinutes(e),m.value=t.getSeconds(e)},B=()=>{if(w.value)if(Oe(w.value)){if(2!==w.value.length||a.multiDates){if(Oe(w.value)&&a.multiDates){const e=w.value[w.value.length-1];e&&D(e)}}else C(w.value[0]),c.value=[t.getHours(w.value[0]),w.value[1]?t.getHours(w.value[1]):t.getHours(new Date)],d.value=[t.getMinutes(w.value[0]),w.value[1]?t.getMinutes(w.value[1]):t.getMinutes(new Date)],m.value=[t.getSeconds(w.value[0]),w.value[1]?t.getSeconds(w.value[1]):t.getSeconds(new Date)];a.multiCalendars&&a.multiCalendarsSolo&&(()=>{if(Array.isArray(w.value)&&2===w.value.length){const e=new Date(w.value[1]?w.value[1]:t.addMonths(w.value[0],1)),[n,l]=[t.getMonth(w.value[0]),t.getYear(w.value[0])],[o,r]=[t.getMonth(w.value[1]),t.getYear(w.value[1])];(n!==o||n===o&&l!==r)&&a.multiCalendarsSolo&&(f(1,t.getMonth(e)),h(1,t.getYear(e)))}})()}else D(w.value);else a.timePicker?(k(),a.range?Ie(c.value)&&Ie(d.value)&&(w.value=[V(new Date,c.value[0],d.value[0],g()),V(new Date,c.value[1],d.value[1],g(!1))]):w.value=V(new Date,c.value,d.value,g())):a.monthPicker&&!a.range?w.value=M(new Date,p.value(0),v.value(0)):a.multiCalendars&&C(new Date)},S=()=>{a.autoApply&&n("autoApply")},x=e=>{for(let a=e-1;a>=0;a--){const e=t.subMonths(t.set(new Date,{month:p.value(a+1),year:v.value(a+1)}),1);y(a,t.getMonth(e),t.getYear(e))}for(let n=e+1;n<=a.multiCalendars-1;n++){const e=t.addMonths(t.set(new Date,{month:p.value(n-1),year:v.value(n-1)}),1);y(n,t.getMonth(e),t.getYear(e))}},$=e=>M(new Date,p.value(e),v.value(e)),P=e=>V(e,c.value,d.value,g()),E=e=>{Oe(e)&&Oe(w.value)&&Ie(c.value)&&Ie(d.value)?(e[0]&&w.value[0]&&(w.value[0]=V(e[0],c.value[0],d.value[0],g())),e[1]&&w.value[1]&&(w.value[1]=V(e[1],c.value[1],d.value[1],g(!1)))):a.multiDates&&Array.isArray(w.value)?w.value[w.value.length-1]=P(e):!a.range&&!Re(e)&&(w.value=P(e)),n("timeUpdate")},A=(e,t=!0)=>(a.range||a.weekPicker)&&Re(w.value)?!(a.hideOffsetDates&&!e.current)&&j(new Date(e.value),w.value[t?0:1]):!!a.range&&(j(new Date(e.value),w.value&&Array.isArray(w.value)?t?w.value[0]||null:w.value[1]:null)&&(!t||!F(u.value||null,Array.isArray(w.value)?w.value[0]:null))||j(e.value,Array.isArray(w.value)?w.value[0]:null)&&(e=>!(Te(w.value,a.range)&&w.value[0]&&u.value)||(e?Y(u.value,w.value[0]):F(u.value,w.value[0])))(t)),T=(e,n)=>{const l=t.set(new Date,{month:p.value(n),year:v.value(n)}),o=e<0?t.addMonths(l,1):t.subMonths(l,1);y(n,t.getMonth(o),t.getYear(o)),a.multiCalendars&&!a.multiCalendarsSolo&&x(n)},O=(e,t)=>{T("right"===e?-1:1,t),I()},I=e=>{e||0===e?o.value[e].triggerTransition(p.value(e),v.value(e)):o.value.forEach(((e,t)=>e.triggerTransition(p.value(t),v.value(t))))};return{today:s,hours:c,minutes:d,seconds:m,month:p,year:v,monthYearSelect:(e=!1)=>{a.autoApply&&a.monthPicker&&n("autoApply",e)},isDisabled:_,updateTime:(e,n=!0,o=!1)=>{const r=n?e:c.value,s=n||o?d.value:e,u=o?e:m.value;if(a.range&&Re(w.value)&&Ie(r)&&Ie(s)&&Ie(u)){const e=e=>V(w.value[e],r[e],s[e],u[e]),a=e=>t.setMilliseconds(w.value[e],0);if(j(w.value[0],w.value[1])&&(t.isAfter(e(0),a(1))||t.isBefore(e(1),a(0))))return}if(c.value=r,d.value=s,m.value=u,w.value)if(a.multiDates){const e=Array.isArray(w.value)&&w.value.length?w.value[w.value.length-1]:null;e&&E(e)}else E(w.value);else a.timePicker&&E(a.range?[new Date,new Date]:new Date);l()},setHoverDate:e=>{!e.current&&a.hideOffsetDates||(u.value=e.value)},getWeekNum:e=>{const a=e.find((e=>e.current));return a?t.getISOWeek(a.value):""},selectDate:(e,o=!1)=>{if(!_(e.value)&&(e.current||!a.hideOffsetDates)){if(a.weekPicker)return w.value=q(new Date(e.value),+a.weekStart),S();if(a.range||Ie(c.value)||Ie(d.value)){if(Ie(c.value)&&Ie(d.value)&&!a.multiDates){let r=w.value?w.value.slice():[];2===r.length&&!(a.fixedStart||a.fixedEnd)&&(r=[]),a.autoRange?(o&&(e=>{const n=t.getMonth(new Date(e)),l=t.getYear(new Date(e));if(f(0,n),h(0,l),a.multiCalendars>0)for(let o=1;o<a.multiCalendars;o++){const a=N(t.set(new Date(e),{year:p.value(o-1),month:v.value(o-1)}));f(o,a.month),h(o,a.year)}})(e.value),r=[new Date(e.value),t.addDays(new Date(e.value),+a.autoRange)]):a.fixedStart||a.fixedEnd?r=(e=>Array.isArray(w.value)&&2===w.value.length?a.fixedStart&&(Y(e,w.value[0])||j(e,w.value[0]))?[w.value[0],e]:a.fixedEnd&&(F(e,w.value[1])||j(e,w.value[1]))?[e,w.value[1]]:w.value:[])(new Date(e.value)):r[0]?(e=>{if(Array.isArray(w.value)&&w.value[0]){const n=t.differenceInCalendarDays(e,w.value[0]),l=Math.abs(n<0?n+1:n-1);if(a.minRange&&a.maxRange)return l>=+a.minRange&&l<=+a.maxRange;if(a.minRange)return l>=+a.minRange;if(a.maxRange)return l<=+a.maxRange}return!0})(new Date(e.value))&&(F(new Date(e.value),new Date(r[0]))?r.unshift(new Date(e.value)):r[1]=new Date(e.value)):r[0]=new Date(e.value),r[0]&&!r[1]?r[0]=V(r[0],c.value[0],d.value[0],g()):(r[0]=V(r[0],c.value[0],d.value[0],g()),r[1]=V(r[1],c.value[1],d.value[1],g(!1)),l()),w.value=r,r[0]&&r[1]&&a.autoApply&&n("autoApply")}}else{const t=V(new Date(e.value),c.value,d.value,g());a.multiDates?(e=>{if(w.value&&Array.isArray(w.value))if(w.value.some((t=>j(e,t)))){const t=w.value.filter((t=>!j(t,e)));w.value=t.length?t:null}else(a.multiDatesLimit&&+a.multiDatesLimit>w.value.length||!a.multiDatesLimit)&&w.value.push(e);else w.value=[e]})(t):w.value=t,l(),S()}}},rangeActive:e=>X(w.value,u.value,e.value),isActiveDate:b,updateMonthYear:(e,t,o=!0)=>{if(o?f(e,t):h(e,t),a.multiCalendars&&!a.multiCalendarsSolo&&x(e),a.monthPicker)if(a.range){if(o){let t=w.value?w.value.slice():[];2===t.length&&(t=[]),t.length?F($(e),t[0])?t.unshift($(e)):t.push($(e)):t=[$(e)],w.value=t}}else w.value=$(e);l(),n("updateMonthYear",{instance:e,value:t,isMonth:o}),I(a.multiCalendarsSolo?e:void 0)},isHoverRangeEnd:e=>{if(a.autoRange||a.weekPicker){if(u.value){if(a.hideOffsetDates&&!e.current)return!1;const n=t.addDays(u.value,+a.autoRange),l=q(new Date(u.value),+a.weekStart);return a.weekPicker?j(l[1],new Date(e.value)):j(n,new Date(e.value))}return!1}return!1},isAutoRangeInBetween:e=>{if(a.autoRange||a.weekPicker){if(u.value){const n=t.addDays(u.value,+a.autoRange);if(a.hideOffsetDates&&!e.current)return!1;const l=q(new Date(u.value),+a.weekStart);return a.weekPicker?Y(e.value,l[0])&&F(e.value,l[1]):Y(e.value,u.value)&&F(e.value,n)}return!1}return!1},isAutoRangeStart:e=>{if(a.autoRange||a.weekPicker){if(u.value){if(a.hideOffsetDates&&!e.current)return!1;const t=q(new Date(u.value),+a.weekStart);return a.weekPicker?j(t[0],e.value):j(u.value,e.value)}return!1}return!1},clearHoverDate:()=>{u.value=null},rangeActiveStartEnd:A,handleScroll:(e,t)=>{a.monthChangeOnScroll&&(T("inverse"!==a.monthChangeOnScroll?-e.deltaY:e.deltaY,t),I())},getMarker:e=>a.markers.find((t=>j(G(new Date(e.value)),G(new Date(t.date))))),handleArrow:(e,t,n=!1)=>{a.monthChangeOnArrows&&a.vertical===n&&O(e,t)},handleSwipe:O,selectCurrentDate:()=>{a.range?Te(w.value,a.range)&&(w.value&&w.value[0]?w.value=F(new Date,w.value[0])?[new Date,w.value[0]]:[w.value[0],new Date]:w.value=[new Date]):n("update:internalModelValue",new Date),a.autoApply&&n("selectDate")},isHoverDate:(e,t)=>!(Array.isArray(a.internalModelValue)&&a.internalModelValue.length||a.weekPicker)&&!(e||b(t)||!t.current&&a.hideOffsetDates||a.range&&(A(t)||A(t,!1))),isHoverDateStartEnd:(e,t,n)=>!(!Array.isArray(a.internalModelValue)||!a.internalModelValue[0]||1!==a.internalModelValue.length)&&(!e&&(n?Y(a.internalModelValue[0],t.value):F(a.internalModelValue[0],t.value))),presetDateRange:e=>{e.length&&e.length<=2&&a.range&&(w.value=e.map((e=>new Date(e))),a.autoApply&&n("selectDate"))}}},St=["id","aria-label","onKeydown"],Vt={key:0,class:"dp__preset_ranges"},Nt=["onClick"],xt={key:1,class:"dp__now_wrap"},Mt=e.defineComponent({props:x(L(L(L({},fe),se),re),{internalModelValue:{type:[Date,Array],default:null},multiCalendars:{type:Number,default:0},openOnTop:{type:Boolean,default:!1}}),emits:["update:internalModelValue","closePicker","selectDate","dpOpen","autoApply","timeUpdate","flow-step","updateMonthYear"],setup(t,{emit:a}){const n=t,l=e.useSlots(),o=e.ref(null),r=e.reactive({timePicker:!n.enableTimePicker,monthYearInput:!1,calendar:!1}),s=e.ref([]),u=e.ref([]),i=e.ref(null),c=e.ref(null),d=e.ref(0),m=e.ref(!1),p=e.ref(0),v=e.inject(ae),y=e.inject(te);e.onMounted((()=>{var e;m.value=!0,null!=(e=n.presetRanges)&&e.length||oe();const t=Q(c);if(t&&!n.textInput&&!n.inline&&t.focus({preventScroll:!0}),t){const e=e=>{e.stopImmediatePropagation(),e.stopPropagation()};t.addEventListener("pointerdown",e),t.addEventListener("mousedown",e)}document.addEventListener("resize",oe)})),e.onUnmounted((()=>{document.removeEventListener("resize",oe)}));const f=()=>{p.value=-1},{updateTime:h,updateMonthYear:g,today:k,month:w,year:_,hours:b,minutes:C,seconds:D,isDisabled:B,isActiveDate:S,selectDate:V,getWeekNum:N,setHoverDate:M,isHoverRangeEnd:$,isAutoRangeInBetween:P,isAutoRangeStart:E,rangeActive:A,clearHoverDate:T,rangeActiveStartEnd:O,monthYearSelect:I,handleScroll:R,handleArrow:Y,handleSwipe:F,getMarker:z,selectCurrentDate:K,isHoverDateStartEnd:H,isHoverDate:U,presetDateRange:W}=Bt(n,a,(()=>{var e;(null==(e=n.flow)?void 0:e.length)&&-1!==p.value&&(p.value+=1,a("flow-step",p.value),_e())}),u),G=st(l,"calendar"),X=st(l,"action"),q=st(l,"timePicker"),Z=st(l,"monthYear"),ee=e.computed((()=>n.openOnTop?"dp__arrow_bottom":"dp__arrow_top")),ne=e.computed((()=>(e=>{const t=[];for(let a=+e[0];a<=+e[1];a++)t.push({value:+a,text:`${a}`});return t})(n.yearRange))),le=e.computed((()=>((e,t)=>{const a=new Intl.DateTimeFormat(e,{month:t,timeZone:"UTC"});return[1,2,3,4,5,6,7,8,9,10,11,12].map((e=>new Date(`2017-${e<10?`0${e}`:e}-01T00:00:00+00:00`))).map(((e,t)=>({text:a.format(e),value:t})))})(n.locale,n.monthNameFormat))),oe=()=>{const e=Q(o);e&&(d.value=e.getBoundingClientRect().width)},re=e.computed((()=>e=>J(w.value(e),_.value(e),+n.weekStart,n.hideOffsetDates))),se=e.computed((()=>n.multiCalendars>0&&n.range?[...Array(n.multiCalendars).keys()]:[0])),ue=e.computed((()=>e=>1===e)),ie=e.computed((()=>n.monthPicker||n.timePicker)),ce=e.computed((()=>({dp__flex_display:n.multiCalendars>0}))),de=e.computed((()=>({dp__instance_calendar:n.multiCalendars>0}))),me=e.computed((()=>({dp__menu_disabled:n.disabled,dp__menu_readonly:n.readonly}))),pe=e.computed((()=>e=>fe(re,e))),ve=e.computed((()=>({locale:n.locale,weekNumName:n.weekNumName,weekStart:n.weekStart,weekNumbers:n.weekNumbers,customProps:n.customProps,calendarClassName:n.calendarClassName,specificMode:ie.value,getWeekNum:N,multiCalendars:n.multiCalendars,modeHeight:n.modeHeight,internalModelValue:n.internalModelValue,noSwipe:n.noSwipe,vertical:n.vertical}))),ye=e.computed((()=>({dp__menu:!0,dp__menu_index:!n.inline,dp__relative:n.inline,[n.menuClassName]:!!n.menuClassName}))),fe=(e,t)=>e.value(t).map((e=>x(L({},e),{days:e.days.map((e=>{const t=B(e.value),a=U(t,e);return e.marker=z(e),e.classData={dp__cell_offset:!e.current,dp__pointer:!(t||!e.current&&n.hideOffsetDates),dp__active_date:!n.range&&S(e),dp__date_hover:a,dp__date_hover_start:H(a,e,!0),dp__date_hover_end:H(a,e,!1),dp__range_between:!(!n.range&&!n.weekPicker||n.multiCalendars>0&&!e.current||t||!e.current&&n.hideOffsetDates||S(e))&&A(e),dp__today:!n.noToday&&j(e.value,k.value)&&e.current,dp__cell_disabled:t,dp__cell_auto_range:P(e),dp__cell_auto_range_start:E(e),dp__cell_auto_range_end:$(e),dp__range_start:n.multiCalendars>0?e.current&&O(e):O(e),dp__range_end:n.multiCalendars>0?e.current&&O(e,!1):O(e,!1),[n.calendarCellClassName]:!!n.calendarCellClassName},e}))}))),he=e=>{e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation()},ge=()=>{n.escClose&&a("closePicker")},ke=e=>{e.stopImmediatePropagation(),e.preventDefault(),n.spaceConfirm&&a("selectDate")},we=e=>{var t;null!=(t=n.flow)&&t.length&&(r[e]=!0,Object.keys(r).filter((e=>!r[e])).length||_e())},_e=()=>{"month"===n.flow[p.value]&&s.value[0]&&s.value[0].toggleMonthPicker(!0),"year"===n.flow[p.value]&&s.value&&s.value[0].toggleYearPicker(!0),"calendar"===n.flow[p.value]&&i.value&&i.value.toggleTimePicker(!1,!0),"time"===n.flow[p.value]&&i.value&&i.value.toggleTimePicker(!0,!0);const e=n.flow[p.value];("hours"===e||"minutes"===e||"seconds"===e)&&i.value&&i.value.toggleTimePicker(!0,!0,e)};return(a,n)=>(e.openBlock(),e.createBlock(e.Transition,{appear:"",name:e.unref(v).menuAppear,mode:"out-in",css:!!e.unref(v)},{default:e.withCtx((()=>[e.createElementVNode("div",{id:a.uid?`dp-menu-${a.uid}`:void 0,tabindex:"0",ref_key:"dpMenuRef",ref:c,role:"dialog","aria-label":e.unref(y).menu,class:e.normalizeClass(e.unref(ye)),onMouseleave:n[11]||(n[11]=(...t)=>e.unref(T)&&e.unref(T)(...t)),onClick:he,onKeydown:[e.withKeys(ge,["esc"]),e.withKeys(ke,["space"]),n[12]||(n[12]=e.withKeys((t=>e.unref(Y)("left",0)),["left"])),n[13]||(n[13]=e.withKeys((t=>e.unref(Y)("left",0,!0)),["up"])),n[14]||(n[14]=e.withKeys((t=>e.unref(Y)("right",0,!0)),["down"])),n[15]||(n[15]=e.withKeys((t=>e.unref(Y)("right",0)),["right"]))]},[(a.disabled||a.readonly)&&a.inline?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(e.unref(me))},null,2)):e.createCommentVNode("",!0),a.inline?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(e.unref(ee))},null,2)),e.createElementVNode("div",{class:e.normalizeClass(a.presetRanges.length?"dp__menu_content_wrapper":null)},[a.presetRanges.length?(e.openBlock(),e.createElementBlock("div",Vt,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.presetRanges,((t,a)=>(e.openBlock(),e.createElementBlock("div",{key:a,class:"dp__preset_range",onClick:a=>e.unref(W)(t.range)},e.toDisplayString(t.label),9,Nt)))),128))])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:"dp__instance_calendar",ref_key:"calendarWrapperRef",ref:o,role:"document"},[e.createElementVNode("div",{class:e.normalizeClass(e.unref(ce))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(se),((l,o)=>(e.openBlock(),e.createElementBlock("div",{key:l,class:e.normalizeClass(e.unref(de))},[a.disableMonthYearSelect||a.timePicker?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(a.monthYearComponent?a.monthYearComponent:Dt),e.mergeProps({key:0,ref_for:!0,ref:e=>{e&&(s.value[o]=e)}},{months:e.unref(le),years:e.unref(ne),filters:a.filters,monthPicker:a.monthPicker,month:e.unref(w)(l),year:e.unref(_)(l),customProps:a.customProps,multiCalendars:t.multiCalendars,multiCalendarsSolo:a.multiCalendarsSolo,instance:l,minDate:a.minDate,maxDate:a.maxDate,preventMinMaxNavigation:a.preventMinMaxNavigation,internalModelValue:t.internalModelValue,range:a.range,reverseYears:a.reverseYears,vertical:a.vertical},{onMount:n[0]||(n[0]=e=>we("monthYearInput")),onResetFlow:f,"onUpdate:month":t=>e.unref(g)(l,t,!0),"onUpdate:year":t=>e.unref(g)(l,t,!1),onMonthYearSelect:e.unref(I)}),e.createSlots({_:2},[e.renderList(e.unref(Z),((t,n)=>({name:t,fn:e.withCtx((n=>[e.renderSlot(a.$slots,t,e.normalizeProps(e.guardReactiveProps(n)))]))})))]),1040,["onUpdate:month","onUpdate:year","onMonthYearSelect"])),e.createVNode(Ae,e.mergeProps({ref_for:!0,ref:e=>{e&&(u.value[o]=e)}},e.unref(ve),{"flow-step":p.value,"onUpdate:flow-step":n[1]||(n[1]=e=>p.value=e),instance:l,"mapped-dates":e.unref(pe)(l),month:e.unref(w)(l),year:e.unref(_)(l),onSelectDate:t=>e.unref(V)(t,!e.unref(ue)(l)),onSetHoverDate:n[2]||(n[2]=t=>e.unref(M)(t)),onHandleScroll:t=>e.unref(R)(t,l),onHandleSwipe:t=>e.unref(F)(t,l),onMount:n[3]||(n[3]=e=>we("calendar")),onResetFlow:f}),e.createSlots({_:2},[e.renderList(e.unref(G),((t,n)=>({name:t,fn:e.withCtx((n=>[e.renderSlot(a.$slots,t,e.normalizeProps(e.guardReactiveProps(L({},n))))]))})))]),1040,["flow-step","instance","mapped-dates","month","year","onSelectDate","onHandleScroll","onHandleSwipe"])],2)))),128))],2),e.createElementVNode("div",null,[!a.enableTimePicker||a.monthPicker||a.weekPicker?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(a.timePickerComponent?a.timePickerComponent:pt),e.mergeProps({key:0,ref_key:"timePickerRef",ref:i},{is24:a.is24,hoursIncrement:a.hoursIncrement,minutesIncrement:a.minutesIncrement,hoursGridIncrement:a.hoursGridIncrement,secondsIncrement:a.secondsIncrement,minutesGridIncrement:a.minutesGridIncrement,secondsGridIncrement:a.secondsGridIncrement,noHoursOverlay:a.noHoursOverlay,noMinutesOverlay:a.noMinutesOverlay,noSecondsOverlay:a.noSecondsOverlay,range:a.range,filters:a.filters,timePicker:a.timePicker,hours:e.unref(b),minutes:e.unref(C),seconds:e.unref(D),customProps:a.customProps,enableSeconds:a.enableSeconds,fixedStart:a.fixedStart,fixedEnd:a.fixedEnd},{onMount:n[4]||(n[4]=e=>we("timePicker")),"onUpdate:hours":n[5]||(n[5]=t=>e.unref(h)(t)),"onUpdate:minutes":n[6]||(n[6]=t=>e.unref(h)(t,!1)),"onUpdate:seconds":n[7]||(n[7]=t=>e.unref(h)(t,!1,!0)),onResetFlow:f}),e.createSlots({_:2},[e.renderList(e.unref(q),((t,n)=>({name:t,fn:e.withCtx((n=>[e.renderSlot(a.$slots,t,e.normalizeProps(e.guardReactiveProps(n)))]))})))]),1040))])],512),a.showNowButton?(e.openBlock(),e.createElementBlock("div",xt,[a.$slots["now-button"]?e.renderSlot(a.$slots,"now-button",{key:0,selectCurrentDate:e.unref(K)}):e.createCommentVNode("",!0),a.$slots["now-button"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",role:"button",class:"dp__now_button",onClick:n[8]||(n[8]=(...t)=>e.unref(K)&&e.unref(K)(...t))},e.toDisplayString(a.nowButtonLabel),1))])):e.createCommentVNode("",!0)],2),!a.autoApply||a.keepActionRow?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(a.actionRowComponent?a.actionRowComponent:ze),e.mergeProps({key:2},{calendarWidth:d.value,selectText:a.selectText,cancelText:a.cancelText,internalModelValue:t.internalModelValue,range:a.range,previewFormat:a.previewFormat,inline:a.inline,monthPicker:a.monthPicker,timePicker:a.timePicker,customProps:a.customProps,multiCalendars:t.multiCalendars,menuMount:m.value,maxTime:a.maxTime,minTime:a.minTime,enableTimePicker:a.enableTimePicker,minDate:a.minDate,maxDate:a.maxDate,multiDates:a.multiDates},{onClosePicker:n[9]||(n[9]=e=>a.$emit("closePicker")),onSelectDate:n[10]||(n[10]=e=>a.$emit("selectDate"))}),e.createSlots({_:2},[e.renderList(e.unref(X),((t,n)=>({name:t,fn:e.withCtx((n=>[e.renderSlot(a.$slots,t,e.normalizeProps(e.guardReactiveProps(L({},n))))]))})))]),1040)):e.createCommentVNode("",!0)],42,St)])),_:3},8,["name","css"]))}});var $t,Pt=(($t=Pt||{}).center="center",$t.left="left",$t.right="right",$t);const Et=(t,a,n,l,o,r,s,u,i,c,d,m,p,v)=>{const y=e.ref(""),f=e.ref();e.watch(f,(()=>{v("internalModelChange",f.value)}));const h=()=>{if(f.value)if(t&&"string"!=typeof t)y.value=t(a?O(f.value):n?T(f.value):f.value);else{const e=P(t,r,u,n,a,m,s);Array.isArray(f.value)&&c?y.value=f.value.map((t=>R(t,e,null==i?void 0:i.value))).join("; "):y.value=R(f.value,e,null==i?void 0:i.value,null==p?void 0:p.rangeSeparator)}else y.value=""};return{parseExternalModelValue:e=>{let t=null;e?a?(e=>Array.isArray(e)&&2===e.length)(e)&&"hours"in e[0]&&"minutes"in e[0]?t=[V(null,+e[0].hours,+e[0].minutes,+e[0].seconds),V(null,+e[1].hours,+e[1].minutes,+e[1].seconds)]:(e=>"object"==typeof e)(e)&&(t=V(null,+e.hours,+e.minutes,+e.seconds)):n?(e=>Array.isArray(e))(e)&&"month"in e[0]&&"year"in e[0]?t=[M(null,+e[0].month,+e[0].year),e[1]?M(null,+e[1].month,+e[1].year):null]:(e=>"object"==typeof e)(e)&&"month"in e&&"year"in e&&(t=M(null,+e.month,+e.year)):c&&Array.isArray(e)?t=e.map((e=>new Date(e))):m&&Array.isArray(e)?t=[new Date(e[0]),new Date(e[1])]:l?((e,t)=>t?Array.isArray(e):Re(e))(e,o)&&(t=[new Date(e[0]),e[1]?new Date(e[1]):null]):(e=>"string"==typeof e||"object"==typeof e)(e)&&(t=new Date(e)):t=null,S(t)?(f.value=t,h()):(f.value=null,y.value="")},formatInputValue:h,internalModelValue:f,inputValue:y,emitModelValue:()=>{if(n)v("update:modelValue",T(f.value));else if(a)v("update:modelValue",O(f.value));else if(m)v("update:modelValue",f.value);else{f.value&&l&&o&&1===f.value.length&&f.value.push(null);const e=d?Array.isArray(f.value)?f.value.map((e=>e&&G(e))):G(f.value):f.value;v("update:modelValue",e)}h()},checkBeforeEmit:()=>!!f.value&&(l?o?f.value.length>=1:2===f.value.length:!!f.value)}},At=typeof window<"u"?window:void 0,Tt=()=>{},Ot=(t,a,n,l)=>{if(!t)return Tt;let o=Tt;const r=e.watch((()=>e.unref(t)),(e=>{o(),e&&(e.addEventListener(a,n,l),o=()=>{e.removeEventListener(a,n,l),o=Tt})}),{immediate:!0,flush:"post"}),s=()=>{r(),o()};return(t=>{!!e.getCurrentScope()&&e.onScopeDispose(t)})(s),s},It=e.defineComponent({props:L({},he),emits:["update:modelValue","textSubmit","closed","cleared","open","focus","blur","internalModelChange","recalculatePosition","flow-step","updateMonthYear"],setup(a,{expose:n,emit:l}){const o=a,r=e.useSlots(),s=e.ref(!1),u=e.toRef(o,"modelValue"),i=e.ref(null),c=e.ref(null),d=e.ref(null);e.provide(ne,o.autoApply);const m=e.computed((()=>o.formatLocale));e.provide(oe,m),e.provide(le,e.toRef(o,"textInput")),e.onMounted((()=>{b(o.modelValue),o.inline||(window.addEventListener("scroll",I),window.addEventListener("resize",R)),o.inline&&(s.value=!0)})),e.onUnmounted((()=>{o.inline||(window.removeEventListener("scroll",I),window.removeEventListener("resize",R))}));const p=st(r,"all"),v=st(r,"input");e.watch(u,(()=>{b(u.value)}),{deep:!0});const{openOnTop:y,menuPosition:f,setMenuPosition:h,recalculatePosition:g,setInitialPosition:k}=((t,a,n,l,o,r,s)=>{const u=e.ref({top:"0",left:"0",transform:"none"}),i=e.ref(!1),c=e=>{const t=e.getBoundingClientRect();return{left:t.left+window.scrollX,top:t.top+window.scrollY}},d=e=>{let t=0,a=0;for(;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)t+=e.offsetLeft-e.scrollLeft,a+=e.offsetTop-e.scrollTop,e=e.offsetParent;return{top:a,left:t}},m=(e,t)=>{u.value.left=`${e+t}px`,u.value.transform="translateX(-100%)"},p=e=>{u.value.left=`${e}px`,u.value.transform="translateX(0)"},v=(e,a)=>{t===Pt.left&&p(e),t===Pt.right&&m(e,a),t===Pt.center&&(u.value.left=`${e+a/2}px`,u.value.transform="translateX(-50%)")},y=(e=!0)=>{if(!r){const t=Q(o);if(a&&"boolean"!=typeof a)u.value=a(t);else if(t){const{left:l,width:o,height:r}=t.getBoundingClientRect(),{top:s}=a?d(t):c(t);u.value.top=`${r+s+10}px`,v(l,o),e&&n&&f()}}},f=()=>{const e=Q(o);if(e&&n&&!r){const{height:t,top:n,left:o,width:r}=e.getBoundingClientRect(),{top:s}=a?d(e):c(e),v=window.innerHeight-n-t,f=Q(l);if(f){const{height:e,left:a,right:l}=f.getBoundingClientRect(),c=e+t;c>n&&c>v?n<v&&(y(!1),i.value=!1):c>v?(u.value.top=s-e-10+"px",i.value=!0):(y(!1),i.value=!1),a<0?p(o):l>document.documentElement.clientWidth&&m(o,r)}}s("recalculatePosition")};return{openOnTop:i,menuPosition:u,setMenuPosition:y,setInitialPosition:()=>{const e=Q(o);if(e){const{top:t}=a?d(e):c(e),{left:n,width:l}=e.getBoundingClientRect();u.value.top=`${t}px`,v(n,l)}},recalculatePosition:f}})(o.position,o.altPosition,o.autoPosition,i,c,o.inline,l),{internalModelValue:w,inputValue:_,parseExternalModelValue:b,emitModelValue:C,checkBeforeEmit:D,formatInputValue:B}=Et(o.format,o.timePicker,o.monthPicker,o.range,o.partialRange,o.is24,o.enableTimePicker,o.enableSeconds,m,o.multiDates,o.utc,o.weekPicker,o.textInputOptions,l),S=e.computed((()=>({dp__main:!0,dp__theme_dark:o.dark,dp__theme_light:!o.dark,dp__flex_display:o.inline,dp__flex_display_with_input:o.inlineWithInput}))),V=e.computed((()=>Le(o.format)?o.format:P(null,o.is24,o.enableSeconds,o.monthPicker,o.timePicker,o.weekPicker,o.enableTimePicker))),N=e.computed((()=>o.previewFormat?o.previewFormat:Le(V.value)?V.value:o.format)),x=e.computed((()=>"boolean"==typeof o.transitions?!!o.transitions&&ee({}):ee(o.transitions)));e.provide(ae,x);const M=e.computed((()=>o.dark?"dp__theme_dark":"dp__theme_light")),$=e.computed((()=>Object.assign({enterSubmit:!0,tabSubmit:!0,openMenu:!0,rangeSeparator:" - "},o.textInputOptions))),E=e.computed((()=>(e=>Object.assign({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:e=>`Increment ${e}`,decrementValue:e=>`Decrement ${e}`,openTpOverlay:e=>`Open ${e} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month"},e))(o.ariaLabels)));e.provide(te,E);const A=e.computed((()=>(e=>Object.assign({months:[],years:[],times:{hours:[],minutes:[],seconds:[]}},e))(o.filters))),T=e.computed((()=>{const e=e=>{const a={hours:t.getHours(new Date),minutes:t.getMinutes(new Date),seconds:t.getSeconds(new Date)};return Object.assign(a,e)};return o.range?o.startTime&&Array.isArray(o.startTime)?[e(o.startTime[0]),e(o.startTime[1])]:null:o.startTime&&!Array.isArray(o.startTime)?e(o.startTime):null})),O=e.computed((()=>null===o.multiCalendars?0:"boolean"==typeof o.multiCalendars?o.multiCalendars?2:0:+o.multiCalendars>=2?+o.multiCalendars:2)),I=()=>{s.value&&(o.closeOnScroll?H():o.autoPosition?h():window.removeEventListener("scroll",I))},R=()=>{s.value&&h()},Y=()=>{!o.disabled&&!o.readonly&&(k(),s.value=!0,e.nextTick().then((()=>h())),s.value||K(),s.value&&(l("open"),l("focus")),b(o.modelValue))},F=()=>{_.value="",K(),l("update:modelValue",null),l("cleared"),H()},j=()=>{D()&&(C(),H())},z=(e=!1)=>{o.autoApply&&(!o.enableTimePicker||W(w.value,o.maxTime,o.minTime))&&(C(),o.closeOnAutoApply&&!e&&H())},K=()=>{w.value=null},H=()=>{o.inline||(s.value&&(s.value=!1,l("closed"),l("blur"),k(),_.value&&b(u.value)),K(),c.value&&c.value.unFocus(),X())},U=(e,t)=>{e?(w.value=e,t&&(j(),l("textSubmit"))):w.value=null},G=()=>{o.autoApply&&W(w.value,o.maxTime,o.minTime)&&C()},X=()=>{d.value&&d.value.focus({preventScroll:!0})};return((e,t,a,n={})=>{const{window:l=At,event:o="pointerdown"}=n;l&&Ot(l,o,(n=>{const l=Q(e),o=Q(t);!l||!o||l===n.target||n.composedPath().includes(l)||n.composedPath().includes(o)||a(n)}),{passive:!0})})(i,c,H),n({closeMenu:H,selectDate:j,clearValue:F,openMenu:Y,onScroll:I,formatInputValue:B}),(t,a)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(e.unref(S))},[e.createVNode(De,e.mergeProps({ref_key:"inputRef",ref:c},{placeholder:t.placeholder,hideInputIcon:t.hideInputIcon,readonly:t.readonly,disabled:t.disabled,inputClassName:t.inputClassName,clearable:t.clearable,state:t.state,inline:t.inline,inlineWithInput:t.inlineWithInput,textInput:t.textInput,textInputOptions:e.unref($),range:t.range,isMenuOpen:s.value,pattern:e.unref(V),autoApply:t.autoApply,uid:t.uid,openMenuOnFocus:t.openMenuOnFocus,required:t.required,name:t.name,autocomplete:t.autocomplete},{"input-value":e.unref(_),"onUpdate:input-value":a[0]||(a[0]=t=>e.isRef(_)?_.value=t:null),onClear:F,onOpen:Y,onSetInputDate:U,onSetEmptyDate:e.unref(C),onSelectDate:j,onClose:H}),e.createSlots({_:2},[e.renderList(e.unref(v),((a,n)=>({name:a,fn:e.withCtx((n=>[e.renderSlot(t.$slots,a,e.normalizeProps(e.guardReactiveProps(n)))]))})))]),1040,["input-value","onSetEmptyDate"]),e.createElementVNode("span",{tabindex:"-1",ref_key:"focusRef",ref:d},null,512),s.value?(e.openBlock(),e.createBlock(e.Teleport,{key:0,to:t.teleport,disabled:t.inline},[s.value?(e.openBlock(),e.createBlock(Mt,e.mergeProps({key:0,ref_key:"dpMenuRef",ref:i,class:e.unref(M),style:e.unref(f)},{weekNumbers:t.weekNumbers,weekStart:t.weekStart,disableMonthYearSelect:t.disableMonthYearSelect,menuClassName:t.menuClassName,calendarClassName:t.calendarClassName,yearRange:t.yearRange,range:t.range,multiCalendars:e.unref(O),multiCalendarsSolo:t.multiCalendarsSolo,calendarCellClassName:t.calendarCellClassName,enableTimePicker:t.enableTimePicker,is24:t.is24,hoursIncrement:t.hoursIncrement,minutesIncrement:t.minutesIncrement,hoursGridIncrement:t.hoursGridIncrement,minutesGridIncrement:t.minutesGridIncrement,minDate:t.minDate,maxDate:t.maxDate,autoApply:t.autoApply,selectText:t.selectText,cancelText:t.cancelText,previewFormat:e.unref(N),locale:t.locale,weekNumName:t.weekNumName,disabledDates:t.disabledDates,filters:e.unref(A),minTime:t.minTime,maxTime:t.maxTime,inline:t.inline,openOnTop:e.unref(y),monthPicker:t.monthPicker,timePicker:t.timePicker,monthNameFormat:t.monthNameFormat,startDate:t.startDate,startTime:e.unref(T),monthYearComponent:t.monthYearComponent,timePickerComponent:t.timePickerComponent,actionRowComponent:t.actionRowComponent,customProps:t.customProps,hideOffsetDates:t.hideOffsetDates,autoRange:t.autoRange,noToday:t.noToday,noHoursOverlay:t.noHoursOverlay,noMinutesOverlay:t.noMinutesOverlay,disabledWeekDays:t.disabledWeekDays,allowedDates:t.allowedDates,showNowButton:t.showNowButton,nowButtonLabel:t.nowButtonLabel,monthChangeOnScroll:t.monthChangeOnScroll,markers:t.markers,uid:t.uid,modeHeight:t.modeHeight,enableSeconds:t.enableSeconds,secondsIncrement:t.secondsIncrement,secondsGridIncrement:t.secondsGridIncrement,noSecondsOverlay:t.noSecondsOverlay,escClose:t.escClose,spaceConfirm:t.spaceConfirm,monthChangeOnArrows:t.monthChangeOnArrows,textInput:t.textInput,disabled:t.disabled,readonly:t.readonly,multiDates:t.multiDates,presetRanges:t.presetRanges,flow:t.flow,preventMinMaxNavigation:t.preventMinMaxNavigation,minRange:t.minRange,maxRange:t.maxRange,fixedStart:t.fixedStart,fixedEnd:t.fixedEnd,multiDatesLimit:t.multiDatesLimit,reverseYears:t.reverseYears,keepActionRow:t.keepActionRow,weekPicker:t.weekPicker,noSwipe:t.noSwipe,vertical:t.vertical},{internalModelValue:e.unref(w),"onUpdate:internalModelValue":a[1]||(a[1]=t=>e.isRef(w)?w.value=t:null),onClosePicker:H,onSelectDate:j,onDpOpen:e.unref(g),onAutoApply:z,onTimeUpdate:G,onFlowStep:a[2]||(a[2]=e=>t.$emit("flow-step",e)),onUpdateMonthYear:a[3]||(a[3]=e=>t.$emit("updateMonthYear",e))}),e.createSlots({_:2},[e.renderList(e.unref(p),((a,n)=>({name:a,fn:e.withCtx((n=>[e.renderSlot(t.$slots,a,e.normalizeProps(e.guardReactiveProps(L({},n))))]))})))]),1040,["class","style","internalModelValue","onDpOpen"])):e.createCommentVNode("",!0)],8,["to","disabled"])):e.createCommentVNode("",!0)],2))}});var Rt=(()=>{const e=It;return e.install=t=>{t.component("Vue3DatePicker",e)},e})(),Lt=Object.freeze(Object.defineProperty({__proto__:null,default:Rt},Symbol.toStringTag,{value:"Module"}));return Object.entries(Lt).forEach((([e,t])=>{"default"!==e&&(Rt[e]=t)})),Rt}));
