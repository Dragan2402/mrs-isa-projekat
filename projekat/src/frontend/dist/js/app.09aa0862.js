(function(){"use strict";var e={6390:function(e,t,a){var s=a(3396),i=a(7139);const n={class:"navbar"},o={class:"navbar-top",style:{"min-width":"1000px"}},l={class:"nav-left"},r={key:0,class:"nav-right"},d={key:1,class:"nav-right"},u=["src"],c=(0,s.uE)('<footer class="text-white text-center text-lg-start" style="background-color:#004661;maring-top:5%;" data-v-3e57e94a><div class="container p-4" style="background-color:#004661;" data-v-3e57e94a><div class="row mt-4" data-v-3e57e94a><div class="col-lg-4 col-md-12 mb-4 mb-md-0" data-v-3e57e94a><h5 class="text-uppercase mb-4" data-v-3e57e94a>About company</h5><p data-v-3e57e94a> Our company was founded in 2010 and it has been the leader in the region ever since. We are here to make your dreams come true and make it easier for you to choose where to spend your vacation. </p><div class="mt-4" data-v-3e57e94a><a type="button" href="mailto:renting.buddy.co@gmail.com" class="btn btn-floating btn-light btn-lg" data-v-3e57e94a><i class="bi bi-google" data-v-3e57e94a></i></a></div></div><div class="col-lg-4 col-md-6 mb-4 mb-md-0" style="margin-top:5%;" data-v-3e57e94a><ul class="fa-ul" style="margin-left:1.65em;" data-v-3e57e94a><li class="mb-3" data-v-3e57e94a><span class="fa-li" data-v-3e57e94a><i class="fas fa-home" data-v-3e57e94a></i></span><span class="ms-2" data-v-3e57e94a>Novi Sad, 21000, Serbia</span></li><li class="mb-3" data-v-3e57e94a><span class="fa-li" data-v-3e57e94a><i class="fas fa-envelope" data-v-3e57e94a></i></span><span class="ms-2" data-v-3e57e94a>renting.buddy.co@gmail.com</span></li><li class="mb-3" data-v-3e57e94a><span class="fa-li" data-v-3e57e94a><i class="fas fa-phone" data-v-3e57e94a></i></span><span class="ms-2" data-v-3e57e94a>+ 69 00 00 000</span></li></ul></div><div class="col-lg-4 col-md-6 mb-4 mb-md-0" data-v-3e57e94a><h5 class="text-uppercase mb-4" data-v-3e57e94a>Opening hours</h5><table class="table text-center text-white" data-v-3e57e94a><tbody class="fw-normal" data-v-3e57e94a><tr data-v-3e57e94a><td data-v-3e57e94a>Mon - Thu:</td><td data-v-3e57e94a>8am - 5pm</td></tr><tr data-v-3e57e94a><td data-v-3e57e94a>Fri - Sat:</td><td data-v-3e57e94a>8am - 3pm</td></tr><tr data-v-3e57e94a><td data-v-3e57e94a>Sunday:</td><td data-v-3e57e94a>Not working</td></tr></tbody></table></div></div></div><div class="text-center p-3" style="background-color:rgba(0, 0, 0, 0.2);" data-v-3e57e94a> © 2020 Copyright: <a class="text-white" href="http://www.trademarks-serbia.com/" data-v-3e57e94a>Trademarks Serbia</a></div></footer>',1);function p(e,t,a,p,m,h){const g=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("nav",n,[(0,s._)("div",o,[(0,s._)("div",l,[(0,s._)("h4",{class:"brand pointer",onClick:t[0]||(t[0]=e=>h.jumpToHomePage())},"Renting Buddy")]),0==this.signedIn?((0,s.wg)(),(0,s.iD)("div",r,[m.signIn?((0,s.wg)(),(0,s.iD)("button",{key:0,type:"button",onClick:t[1]||(t[1]=e=>h.jmpToLoginPage()),class:"custom-btn button-primary"},"Sign in")):(0,s.kq)("",!0),m.signUp?((0,s.wg)(),(0,s.iD)("button",{key:1,type:"button",onClick:t[2]||(t[2]=e=>h.jmpToRegistrationPage()),style:{"margin-right":"0"},class:"custom-btn button-primary"},"Register")):(0,s.kq)("",!0)])):((0,s.wg)(),(0,s.iD)("div",d,[(0,s._)("img",{class:"pointer",src:"data:image/jpeg;base64,"+m.loggedPicture,style:{width:"50px",height:"40px"},onClick:t[3]||(t[3]=e=>h.jmpToUserProfile())},null,8,u),(0,s._)("label",{class:"link-light text-decoration-none pointer",id:"username-label",onClick:t[4]||(t[4]=e=>h.jmpToUserProfile())},(0,i.zw)(m.loggedUser.username),1),(0,s._)("button",{type:"button",onClick:t[5]||(t[5]=e=>h.logout()),class:"custom-btn button-outline"},"Logout")]))])]),(0,s.Wm)(g),c],64)}var m=a(6265),h=a.n(m),g={name:"App",data(){return{signIn:!0,signUp:!0,signedIn:!1,loggedUser:{},loggedPicture:null,accessToken:null,accountType:""}},mounted(){"null"!=localStorage.getItem("jwt")?(h().get("https://renting-buddy-spring.herokuapp.com/api/users/loggedUser",{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>{this.loggedUser=e.data,this.accountType=e.data.accountType,this.signIn=!1,this.signUp=!1,this.signedIn=!0})).catch((e=>{403!==e.response.status&&402!==e.response.status&&401!==e.response.status&&401!==e.response.status||this.logout()})),h().get("https://renting-buddy-spring.herokuapp.com/api/users/loggedUser/picture",{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>this.loggedPicture=e.data)).catch((e=>{403!==e.response.status&&402!==e.response.status&&401!==e.response.status&&401!==e.response.status||this.logout()}))):(this.signIn=!0,this.signUp=!0,this.signedIn=!1)},methods:{jumpToHomePage(){this.$router.push("/"),this.signIn=!0,this.signUp=!0},jmpToRegistrationPage(){this.$router.push("/registrationPage")},jmpToLoginPage(){this.$router.push("/loginPage")},jmpToUserProfile(){"CLIENT"===this.loggedUser.accountType?this.$router.push({name:"clientProfile"}):"VH_OWNER"===this.loggedUser.accountType?this.$router.push({name:"ownerHome"}):"ADMIN"===this.loggedUser.accountType&&this.$router.push({name:"adminHome"})},logout(){this.accessToken=null,localStorage.setItem("jwt",null),this.signIn=!0,this.signUp=!0,this.signedIn=!1,this.$router.push("/")}}},v=a(89);const b=(0,v.Z)(g,[["render",p],["__scopeId","data-v-3e57e94a"]]);var f=b,y=a(9242),w=a(678);a(2262),a(4506);const _=e=>((0,s.dD)("data-v-3c867ece"),e=e(),(0,s.Cn)(),e),k=_((()=>(0,s._)("head",null,[(0,s._)("title",null,"User Profile")],-1))),x={class:"main-client-container",style:{"min-height":"900px"}},P={class:"profile-main-container"},C={class:"top-user-container"},U=_((()=>(0,s._)("button",{class:"custom-icon bi bi-trash3","data-bs-toggle":"modal","data-bs-target":"#modalRequest"},null,-1))),I={class:"info-container"},$={key:0},D=["src"],N=_((()=>(0,s._)("br",null,null,-1))),R=_((()=>(0,s._)("br",null,null,-1))),E={style:{}},A={style:{"max-width":"250px"}},z={style:{"max-width":"250px"}},S={style:{"max-width":"250px"}},T={style:{"max-width":"250px"}},V={style:{"max-width":"250px"}},H={style:{"max-width":"250px"}},j={key:1},L=["src"],B=_((()=>(0,s._)("br",null,null,-1))),F=_((()=>(0,s._)("br",null,null,-1))),O={style:{display:"flex","flex-direction":"column","max-width":"250px","margin-top":"10px","margin-bottom":"10px"}},q={class:"input-group mb-3"},M={class:"input-group mb-3"},Y={class:"input-group mb-3"},W={class:"input-group mb-3"},Z={class:"input-group mb-3"},G={class:"input-group mb-3"},K={class:"save-cancel-container",style:{display:"flex","flex-direction":"row"}},Q=_((()=>(0,s._)("div",{class:"bot-user-container"},[(0,s._)("button",{class:"custom-btn button-primary",style:{"min-width":"200px","margin-bottom":"20px","margin-top":"20px"},"data-bs-toggle":"modal","data-bs-target":"#modalSubscriptions"},"My Subscriptions"),(0,s._)("button",{class:"custom-btn button-primary",style:{"min-width":"200px"},"data-bs-toggle":"modal","data-bs-target":"#modalDelete"},"Change Password")],-1))),J={class:"reservation-container"},X={style:{"margin-bottom":"50px"}},ee=_((()=>(0,s._)("h3",{class:"main-heading"},"Active Reservations",-1))),te={style:{display:"flex","align-content":"space-between",margin:"15px 0 15px 0"}},ae={style:{width:"70%"}},se=_((()=>(0,s._)("br",null,null,-1))),ie={style:{width:"30%"}},ne={style:{width:"95%",float:"right"}},oe=_((()=>(0,s._)("option",{value:"0"},"Place descending",-1))),le=_((()=>(0,s._)("option",{value:"1"},"Place ascending",-1))),re=_((()=>(0,s._)("option",{value:"2"},"Price descending",-1))),de=_((()=>(0,s._)("option",{value:"3"},"Price ascending",-1))),ue=[oe,le,re,de],ce=["index"],pe={class:"reservation-picture"},me=["src"],he={style:{display:"flex"}},ge={class:"reservation-left"},ve={style:{"font-weight":"bold"}},be=_((()=>(0,s._)("b",null,"Address: ",-1))),fe=_((()=>(0,s._)("b",null,"Price: ",-1))),ye=_((()=>(0,s._)("b",null,"Starting Date: ",-1))),we=_((()=>(0,s._)("b",null,"Duration: ",-1))),_e={key:0},ke=_((()=>(0,s._)("b",null,"Additional Services: ",-1))),xe={class:"reservation-right"},Pe=["onClick"],Ce=_((()=>(0,s._)("h3",{class:"main-heading"},"Reservation History",-1))),Ue={style:{display:"flex","align-content":"space-between",margin:"15px 0 15px 0"}},Ie={style:{width:"70%"}},$e=_((()=>(0,s._)("br",null,null,-1))),De={style:{width:"30%"}},Ne={style:{width:"95%",float:"right"}},Re=_((()=>(0,s._)("option",{value:"0"},"Place descending",-1))),Ee=_((()=>(0,s._)("option",{value:"1"},"Place ascending",-1))),Ae=_((()=>(0,s._)("option",{value:"2"},"Price descending",-1))),ze=_((()=>(0,s._)("option",{value:"3"},"Price ascending",-1))),Se=[Re,Ee,Ae,ze],Te=["index"],Ve={class:"reservation-picture"},He=["src"],je={style:{display:"flex"}},Le={class:"reservation-left"},Be={style:{"font-weight":"bold"}},Fe=_((()=>(0,s._)("b",null,"Address: ",-1))),Oe=_((()=>(0,s._)("b",null,"Price: ",-1))),qe=_((()=>(0,s._)("b",null,"Starting Date: ",-1))),Me=_((()=>(0,s._)("b",null,"Duration: ",-1))),Ye={key:0},We=_((()=>(0,s._)("b",null,"Additional Services: ",-1))),Ze={class:"reservation-right"},Ge=["onClick"],Ke=["onClick"],Qe={class:"modal fade",id:"modalRate",tabindex:"-1","aria-hidden":"true"},Je={class:"modal-dialog"},Xe={class:"modal-content"},et={class:"modal-body"},tt={class:"rating"},at=_((()=>(0,s._)("label",{for:"5"},"☆",-1))),st=_((()=>(0,s._)("label",{for:"4"},"☆",-1))),it=_((()=>(0,s._)("label",{for:"3"},"☆",-1))),nt=_((()=>(0,s._)("label",{for:"2"},"☆",-1))),ot=_((()=>(0,s._)("label",{for:"1"},"☆",-1))),lt=_((()=>(0,s._)("br",null,null,-1))),rt={style:{display:"flex","flex-direction":"row","align-items":"center","justify-content":"center"}},dt=_((()=>(0,s._)("div",{class:"modal-footer"},[(0,s._)("button",{type:"button",class:"custom-btn button-primary","data-bs-dismiss":"modal"},"Close")],-1))),ut={class:"modal fade",id:"modalReport",tabindex:"-1","aria-hidden":"true"},ct={class:"modal-dialog"},pt={class:"modal-content"},mt={class:"modal-body"},ht=_((()=>(0,s._)("label",null,"Reason for report:",-1))),gt=_((()=>(0,s._)("br",null,null,-1))),vt={style:{display:"flex","flex-direction":"row","align-items":"center","justify-content":"center"}},bt=_((()=>(0,s._)("br",null,null,-1))),ft=_((()=>(0,s._)("div",{class:"modal-footer"},[(0,s._)("button",{type:"button",class:"custom-btn button-primary","data-bs-dismiss":"modal"},"Close")],-1))),yt={class:"modal fade",id:"modalRequest",tabindex:"-1","aria-hidden":"true"},wt={class:"modal-dialog"},_t={class:"modal-content"},kt={class:"modal-body"},xt=_((()=>(0,s._)("div",{class:"modal-footer"},[(0,s._)("button",{type:"button",class:"custom-btn button-primary","data-bs-dismiss":"modal"},"Close")],-1))),Pt={class:"modal fade",id:"modalSubscriptions",tabindex:"-1","aria-hidden":"true"},Ct={class:"modal-dialog"},Ut={class:"modal-content"},It={class:"modal-body"},$t={class:"subscriptions"},Dt=["index"],Nt={class:"subscription-picture"},Rt=["src"],Et={style:{display:"flex","margin-top":"20px"}},At={class:"reservation-left"},zt={clas:"reservation-right"},St=["onClick"],Tt=_((()=>(0,s._)("div",{class:"modal-footer"},[(0,s._)("button",{type:"button",class:"custom-btn button-primary","data-bs-dismiss":"modal"},"Close")],-1))),Vt={class:"modal fade",id:"modalDelete",tabindex:"-1","aria-hidden":"true"},Ht={class:"modal-dialog"},jt={class:"modal-content"},Lt={class:"modal-body"},Bt={style:{display:"flex","flex-direction":"column","margin-top":"20px","margin-bottom":"20px"}},Ft={class:"input-group mb-3"},Ot={class:"input-group mb-3"},qt={class:"input-group mb-3"},Mt=_((()=>(0,s._)("div",{class:"modal-footer"},[(0,s._)("button",{type:"button",class:"custom-btn button-primary","data-bs-dismiss":"modal"},"Close")],-1)));function Yt(e,t,a,n,o,l){const r=(0,s.up)("country-select");return(0,s.wg)(),(0,s.iD)(s.HY,null,[k,(0,s._)("body",null,[(0,s._)("div",x,[(0,s._)("div",P,[(0,s._)("div",C,[U,this.editing?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:0,style:{"margin-right":"16%","margin-left":"auto"},onClick:t[0]||(t[0]=e=>l.toggleEdit()),class:"custom-icon bi bi-pencil-square"}))]),(0,s._)("div",I,[this.editing?((0,s.wg)(),(0,s.iD)("div",j,[(0,s._)("img",{src:"data:image/jpeg;base64,"+o.picture,style:{width:"300px",height:"200px"}},null,8,L),B,F,(0,s._)("div",O,[(0,s._)("input",{class:"form-control",type:"file",style:{"margin-bottom":"10px"},onChange:t[1]||(t[1]=(...e)=>l.onFileSelected&&l.onFileSelected(...e)),"aria-describedby":"inputGroupFileAddon04","aria-label":"Upload",accept:"image/png, image/jpeg"},null,32),(0,s._)("button",{class:"custom-btn button-primary",style:{"margin-bottom":"20px"},onClick:t[2]||(t[2]=(...e)=>l.onUpload&&l.onUpload(...e))},"Upload")]),(0,s._)("div",q,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>o.user.firstName=e),style:{"max-width":"250px"},placeholder:"First Name:",type:"text",class:"form-control","aria-label":"Username","aria-describedby":"firstName"},null,512),[[y.nr,o.user.firstName]])]),(0,s._)("div",M,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>o.user.lastName=e),style:{"max-width":"250px"},placeholder:"Last Name:",type:"text",class:"form-control","aria-label":"Username","aria-describedby":"lastName"},null,512),[[y.nr,o.user.lastName]])]),(0,s._)("div",Y,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>o.user.address=e),style:{"max-width":"250px"},placeholder:"Address:",type:"text",class:"form-control","aria-label":"Username","aria-describedby":"address"},null,512),[[y.nr,o.user.address]])]),(0,s._)("div",W,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>o.user.city=e),style:{"max-width":"250px"},type:"text",placeholder:"City:",class:"form-control","aria-label":"Username","aria-describedby":"city"},null,512),[[y.nr,o.user.city]])]),(0,s._)("div",Z,[(0,s.Wm)(r,{class:"form-select",style:{"max-width":"250px"},modelValue:o.user.country,"onUpdate:modelValue":t[7]||(t[7]=e=>o.user.country=e),usei18n:!1,autocomplete:!0,countryName:!0},null,8,["modelValue"])]),(0,s._)("div",G,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>o.user.phoneNum=e),style:{"max-width":"250px"},type:"text",placeholder:"Phone Number:",class:"form-control","aria-label":"Username","aria-describedby":"city"},null,512),[[y.nr,o.user.phoneNum]])]),(0,s._)("div",K,[(0,s._)("button",{class:"custom-btn button-primary",onClick:t[9]||(t[9]=e=>l.saveEdit())},"Save"),(0,s._)("button",{class:"custom-btn button-primary",style:{"margin-left":"115px"},onClick:t[10]||(t[10]=e=>l.cancelEdit())},"Cancel")])])):((0,s.wg)(),(0,s.iD)("div",$,[(0,s._)("img",{src:"data:image/jpeg;base64,"+o.picture,style:{width:"300px",height:"200px"}},null,8,D),N,R,(0,s._)("h1",E,(0,i.zw)(o.user.firstName)+" "+(0,i.zw)(o.user.lastName),1),(0,s._)("p",A,"E-mail: "+(0,i.zw)(o.user.email),1),(0,s._)("p",z,"Address: "+(0,i.zw)(o.user.address),1),(0,s._)("p",S,"City: "+(0,i.zw)(o.user.city),1),(0,s._)("p",T,"Country: "+(0,i.zw)(o.user.country),1),(0,s._)("p",V,"Phone Number: "+(0,i.zw)(o.user.phoneNum),1),(0,s._)("p",H,"Penalties: "+(0,i.zw)(o.user.penalties),1)]))]),Q]),(0,s._)("div",J,[(0,s._)("div",X,[ee,(0,s._)("div",te,[(0,s._)("div",ae,[(0,s.wy)((0,s._)("input",{class:"input-group-text",type:"text",placeholder:"Filter by name, Renting Entity, Price...","onUpdate:modelValue":t[11]||(t[11]=e=>o.filterR=e)},null,512),[[y.nr,o.filterR]])]),se,(0,s._)("div",ie,[(0,s._)("div",ne,[(0,s.wy)((0,s._)("select",{class:"form-select","onUpdate:modelValue":t[12]||(t[12]=e=>o.sortTypeR=e),name:"example"},ue,512),[[y.bM,o.sortTypeR]])])])]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(this.filteredReservations,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"reservation",index:t,key:e.id},[(0,s._)("div",pe,[(0,s._)("img",{src:"data:image/jpeg;base64,"+e.img},null,8,me)]),(0,s._)("div",he,[(0,s._)("div",ge,[(0,s._)("div",null,[(0,s._)("h5",ve,(0,i.zw)(e.rentingEntityName),1)]),(0,s._)("div",null,[be,(0,s.Uk)(" "+(0,i.zw)(e.place),1)]),(0,s._)("div",null,[fe,(0,s.Uk)(" "+(0,i.zw)(e.price),1)]),(0,s._)("div",null,[ye,(0,s.Uk)(" "+(0,i.zw)(e.start),1)]),(0,s._)("div",null,[we,(0,s.Uk)(" "+(0,i.zw)(l.msToTime(e.duration)),1)]),0!=e.additionalServices.length?((0,s.wg)(),(0,s.iD)("div",_e,[ke,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.additionalServices.slice(0,-1),(e=>((0,s.wg)(),(0,s.iD)("span",{key:e},(0,i.zw)(e)+", ",1)))),128)),(0,s._)("span",null,(0,i.zw)(e.additionalServices.at(-1)),1)])):(0,s.kq)("",!0)]),(0,s._)("div",xe,[(0,s._)("button",{class:"custom-btn button-primary",onClick:a=>l.cancelReservation(e,t)},"Cancel Reservation",8,Pe)])])],8,ce)))),128))]),Ce,(0,s._)("div",Ue,[(0,s._)("div",Ie,[(0,s.wy)((0,s._)("input",{class:"input-group-text",type:"text",placeholder:"Filter by name, Renting Entity, Price...","onUpdate:modelValue":t[13]||(t[13]=e=>o.filterH=e)},null,512),[[y.nr,o.filterH]])]),$e,(0,s._)("div",De,[(0,s._)("div",Ne,[(0,s.wy)((0,s._)("select",{class:"form-select","onUpdate:modelValue":t[14]||(t[14]=e=>o.sortTypeH=e),name:"example"},Se,512),[[y.bM,o.sortTypeH]])])])]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(this.filteredReservationsHistory,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"reservation",index:t,key:e.id},[(0,s._)("div",Ve,[(0,s._)("img",{src:"data:image/jpeg;base64,"+e.img},null,8,He)]),(0,s._)("div",je,[(0,s._)("div",Le,[(0,s._)("div",null,[(0,s._)("h5",Be,(0,i.zw)(e.rentingEntityName),1)]),(0,s._)("div",null,[Fe,(0,s.Uk)(" "+(0,i.zw)(e.place),1)]),(0,s._)("div",null,[Oe,(0,s.Uk)(" "+(0,i.zw)(e.price),1)]),(0,s._)("div",null,[qe,(0,s.Uk)(" "+(0,i.zw)(e.start),1)]),(0,s._)("div",null,[Me,(0,s.Uk)(" "+(0,i.zw)(l.msToTime(e.duration)),1)]),0!=e.additionalServices.length?((0,s.wg)(),(0,s.iD)("div",Ye,[We,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.additionalServices.slice(0,-1),(e=>((0,s.wg)(),(0,s.iD)("span",{key:e},(0,i.zw)(e)+", ",1)))),128)),(0,s._)("span",null,(0,i.zw)(e.additionalServices.at(-1)),1)])):(0,s.kq)("",!0)]),(0,s._)("div",Ze,[(0,s._)("button",{style:{"margin-right":"10px"},class:"custom-btn button-primary","data-bs-toggle":"modal","data-bs-target":"#modalRate",onClick:t=>l.selectRE(e)},"Rate",8,Ge),(0,s._)("button",{class:"custom-btn button-primary","data-bs-toggle":"modal","data-bs-target":"#modalReport",onClick:t=>l.selectRE(e)},"Report",8,Ke)])])],8,Te)))),128))]),(0,s._)("div",Qe,[(0,s._)("div",Je,[(0,s._)("div",Xe,[(0,s._)("div",et,[(0,s._)("div",null,[(0,s._)("div",tt,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[15]||(t[15]=e=>o.rating=e),type:"radio",name:"ratingRE",value:"5",id:"5"},null,512),[[y.G2,o.rating]]),at,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[16]||(t[16]=e=>o.rating=e),type:"radio",name:"ratingRE",value:"4",id:"4"},null,512),[[y.G2,o.rating]]),st,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[17]||(t[17]=e=>o.rating=e),type:"radio",name:"ratingRE",value:"3",id:"3"},null,512),[[y.G2,o.rating]]),it,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[18]||(t[18]=e=>o.rating=e),type:"radio",name:"ratingRE",value:"2",id:"2"},null,512),[[y.G2,o.rating]]),nt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[19]||(t[19]=e=>o.rating=e),type:"radio",name:"ratingRE",value:"1",id:"1"},null,512),[[y.G2,o.rating]]),ot]),(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":t[20]||(t[20]=e=>o.comment=e),style:{height:"100px"},type:"text",class:"form-control",placeholder:"Comment..."},null,512),[[y.nr,o.comment]]),lt,(0,s._)("div",rt,[(0,s._)("button",{class:"custom-btn button-primary",style:{"margin-right":"10px"},onClick:t[21]||(t[21]=t=>l.rateRE(e.reservationHistory))},"Rate renting entity"),(0,s._)("button",{class:"custom-btn button-primary",onClick:t[22]||(t[22]=t=>l.rateRO(e.reservationHistory))},"Rate owner")])])]),dt])])]),(0,s._)("div",ut,[(0,s._)("div",ct,[(0,s._)("div",pt,[(0,s._)("div",mt,[ht,(0,s._)("div",null,[(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":t[23]||(t[23]=e=>o.commentReport=e),style:{height:"100px"},type:"text",class:"form-control",placeholder:"Comment..."},null,512),[[y.nr,o.commentReport]]),gt,(0,s._)("div",vt,[(0,s._)("button",{class:"custom-btn button-primary",style:{"margin-right":"10px"},onClick:t[24]||(t[24]=t=>l.reportRE(e.reservationHistory))},"Report renting entity"),(0,s._)("button",{class:"custom-btn button-primary",onClick:t[25]||(t[25]=t=>l.reportRO(e.reservationHistory))},"Report owner"),bt])])]),ft])])])]),(0,s._)("div",yt,[(0,s._)("div",wt,[(0,s._)("div",_t,[(0,s._)("div",kt,[(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":t[26]||(t[26]=e=>o.text=e),class:"form-control",rows:"4",cols:"50",placeholder:"Reason..."},null,512),[[y.nr,o.text]]),(0,s._)("button",{style:{"margin-right":"20px","margin-top":"5px"},class:"custom-btn button-primary",onClick:t[27]||(t[27]=e=>l.sendDeleteRequest())},"Submit")]),xt])])]),(0,s._)("div",Pt,[(0,s._)("div",Ct,[(0,s._)("div",Ut,[(0,s._)("div",It,[(0,s._)("div",$t,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(this.subscriptions,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{index:t,key:e.id,class:"subscription"},[(0,s._)("div",Nt,[(0,s._)("img",{src:"data:image/jpeg;base64,"+e.img},null,8,Rt)]),(0,s._)("div",Et,[(0,s._)("div",At,[(0,s._)("h3",null,(0,i.zw)(e.name),1)]),(0,s._)("div",zt,[(0,s._)("button",{class:"custom-btn button-primary",onClick:a=>l.unsubscribe(e,t)},"Unsubscribe",8,St)])])],8,Dt)))),128))])]),Tt])])]),(0,s._)("div",Vt,[(0,s._)("div",Ht,[(0,s._)("div",jt,[(0,s._)("div",Lt,[(0,s._)("div",Bt,[(0,s._)("div",Ft,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[28]||(t[28]=e=>o.oldPassword=e),class:"form-control",type:"password",placeholder:"Old password"},null,512),[[y.nr,o.oldPassword]])]),(0,s._)("div",Ot,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[29]||(t[29]=e=>o.newPassword=e),class:"form-control",type:"password",placeholder:"New password"},null,512),[[y.nr,o.newPassword]])]),(0,s._)("div",qt,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[30]||(t[30]=e=>o.confirmPassword=e),class:"form-control",type:"password",placeholder:"Confirm new password"},null,512),[[y.nr,o.confirmPassword]])]),(0,s._)("button",{style:{float:"left",margin:"auto"},class:"custom-btn button-primary",onClick:t[31]||(t[31]=e=>l.changePassword())},"Change")])]),Mt])])])])],64)}var Wt={name:"ClientProfile",data(){return{user:{},backUp:{},selectedFile:null,picture:null,editing:!1,validNumber:"",phoneNum:null,oldPassword:"",newPassword:"",confirmPassword:"",subscriptions:[],text:"",reservationsHistory:[],selectedReservationHistory:{},reservations:[],filterR:"",filterH:"",comment:"",rating:5,sortTypeR:0,sortTypeH:0,commentReport:""}},mounted(){h().get("https://renting-buddy-spring.herokuapp.com/api/clients/loggedClient",{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>this.user=e.data)).catch((e=>{401===e.response.status&&(this.$root.accessToken=null,localStorage.setItem("jwt",null),this.$router.push("/loginPage"))})),h().get("https://renting-buddy-spring.herokuapp.com/api/users/loggedUser/picture",{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>this.picture=e.data)).catch((e=>{401===e.response.status&&(this.$root.accessToken=null,localStorage.setItem("jwt",null),this.$router.push("/loginPage"))})),h().get("https://renting-buddy-spring.herokuapp.com/api/clients/subscriptions",{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>this.subscriptions=e.data)).catch((e=>{401===e.response.status&&(this.$root.accessToken=null,localStorage.setItem("jwt",null),this.$router.push("/loginPage"))})),h().get("https://renting-buddy-spring.herokuapp.com/api/clients/loggedClient/reservations",{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>this.reservations=e.data)).catch((e=>{401===e.response.status&&(this.$root.accessToken=null,localStorage.setItem("jwt",null),this.$router.push("/loginPage"))})),h().get("https://renting-buddy-spring.herokuapp.com/api/clients/loggedClient/reservationHistory",{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>this.reservationsHistory=e.data)).catch((e=>{401===e.response.status&&(this.$root.accessToken=null,localStorage.setItem("jwt",null),this.$router.push("/loginPage"))}))},computed:{filteredReservationsHistory(){return this.reservationsHistory.filter((e=>this.includesH(e))).sort(((e,t)=>this.sort(e,t,this.sortTypeH)))},filteredReservations(){return this.reservations.filter((e=>this.includesH(e))).sort(((e,t)=>this.sort(e,t,this.sortTypeR)))}},methods:{toggleEdit(){this.backUp={firstName:this.user.firstName,lastName:this.user.lastName,address:this.user.address,city:this.user.city,country:this.user.country,phoneNum:this.user.phoneNum},this.editing=!0},changePassword(){var e=/^[0-9A-Za-z]+$/;if(this.newPassword.length<5||this.newPassword.length>20)return void this.$toast.error("Password must be between 5-20 characters");if(!e.test(this.newPassword))return void this.$toast.error("Password must only contain letters and numbers");if(!e.test(this.oldPassword))return void this.$toast.error("Password must only contain letters and numbers");if(this.newPassword!==this.confirmPassword)return void this.$toast.error("Passwords must match");const t={oldPassword:this.oldPassword,newPassword:this.newPassword,newPasswordConfirm:this.confirmPassword};console.log(t),h().put("https://renting-buddy-spring.herokuapp.com/api/clients/changePassword",t,{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>{1==e.data?(this.$root.accessToken=null,this.$root.signedIn=!1,localStorage.setItem("jwt",null),this.$router.push("/loginPage")):this.$toast.error("Error")}))},sendDeleteRequest(){if(this.text.length<5)return void this.$toast.error("Provide a reason");const e={id:0,submitterId:this.user.id,submitterUsername:this.user.username,text:this.text,type:0};h().post("https://renting-buddy-spring.herokuapp.com/api/users/submitRequest",e,{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>{1==e.data?this.$toast.success("Request Sent"):this.$toast.error("Error")}))},unsubscribe(e,t){h().put("https://renting-buddy-spring.herokuapp.com/api/clients/unSubscribeDTO",e,{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>{1==e.data?(this.$toast.success("Unsubscribed"),this.subscriptions.splice(t,1)):this.$toast.error("Error")}))},saveEdit(){var e=/^[A-Za-z]+$/;if(this.user.firstName.length<2||this.user.firstName.length>20)this.$toast.error("First name must be between 2-20 characters");else if(0!=e.test(this.user.firstName))if(this.user.firstName=this.user.firstName.charAt(0).toUpperCase()+this.user.firstName.slice(1),this.user.lastName.length<2||this.user.lastName.length>20)this.$toast.error("Last name must be between 2-20 characters");else if(0!=e.test(this.user.lastName))if(this.user.lastName=this.user.lastName.charAt(0).toUpperCase()+this.user.lastName.slice(1),""!==this.user.address)if(""!==this.user.city)if(""!=this.country){var t=/^\+?\d{8,13}$/;""!==this.user.phoneNum?!1!==t.test(this.user.phoneNum)?(h().put("https://renting-buddy-spring.herokuapp.com/api/clients/loggedClient",this.user,{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>this.user=e.data)).then(this.toastMessage()),this.editing=!1):this.$toast.error("Invalid phone number"):this.$toast.error("Provide a phone number")}else this.$toast.error("Provide country");else this.$toast.error("Provide city name");else this.$toast.error("Provide address");else this.$toast.error("Last name must contain only letters");else this.$toast.error("First name must contain only letters")},cancelEdit(){this.user.firstName=this.backUp.firstName,this.user.lastName=this.backUp.lastName,this.user.address=this.backUp.address,this.user.city=this.backUp.city,this.user.country=this.backUp.country,this.user.phoneNum=this.backUp.phoneNum,this.editing=!1},toastMessage(){this.$toast.success("Info updated")},onFileSelected(e){this.selectedFile=e.target.files[0]},onUpload(){if(null==this.selectedFile)this.$toast.info("Select a file first ...");else if(this.selectedFile.size>1048576)this.$toast.info("File is too large ...\nMust be smaller than 1Mb");else{const e=new FormData;e.append("image",this.selectedFile,this.selectedFile.name),h().put("https://renting-buddy-spring.herokuapp.com/api/clients/loggedClient/picture",e,{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}},{onUploadProgress:e=>{console.log("Upload Progress: "+Math.round(e.loaded/e.total*100)+"%")}}).then((e=>{this.picture=e.data,this.$root.loggedPicture=e.data}))}},dateFromLocal(e){if(null==e)return new Date;const t=e.split(" ");if(2!=t.length)return new Date;const a=t[0].split(".");if(3!=a.length)return new Date;const s=t[1].split(":");if(2!=s.length)return new Date;const i=a[0],n=a[1],o=a[2],l=s[0],r=s[1],d=new Date(o,n-1,i,l,r);return d},selectRE(e){this.selectedReservationHistory=e},cancelReservation(e,t){const a=this.dateFromLocal(e.start);let s=new Date;s.setDate(s.getDate()+3),a<s?this.$toast.error("You can not cancel the reservation within the 3 days"):h().put("https://renting-buddy-spring.herokuapp.com/api/clients/cancelReservation",e,{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>{1==e.data?(this.$toast.success("You have successfully canceled the reservation"),this.reservations.splice(t,1)):this.$toast.error("You can not cancel the reservation within the 3 days")}))},msToTime(e){e=Number(e)/1e3;var t=Math.floor(e/86400),a=Math.floor(e%86400/3600),s=t>0?t+(1==t?" day ":" days "):"";if(0!=a){s=t>0?t+(1==t?" day, ":" days, "):"";var i=a>0?a+(1==a?" hour ":" hours "):"";return s+i}return s},rateRE(){const e=this.selectedReservationHistory,t={id:0,rentingEntityId:e.rentingEntityId,rentingOwnerId:e.rentingEntityOwnerId,clientId:0,rating:this.rating,comment:this.comment};h().post("https://renting-buddy-spring.herokuapp.com/api/clients/addReviewRE",t,{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>{1==e.data?(this.$toast.success("Review Added"),this.comment=""):this.$toast.error("Error")}))},rateRO(){const e=this.selectedReservationHistory,t={id:0,rentingEntityId:e.rentingEntityId,rentingOwnerId:e.rentingEntityOwnerId,clientId:0,rating:this.rating,comment:this.comment};h().post("https://renting-buddy-spring.herokuapp.com/api/clients/addReviewRO",t,{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>{1==e.data?(this.$toast.success("Review Added"),this.comment=""):this.$toast.error("Error")}))},reportRE(){if(this.commentReport.length<5)return void this.$toast.error("Provide a valid reason");const e=this.selectedReservationHistory,t={id:0,complainantId:0,rentingEntityId:e.rentingEntityId,respodentId:0,text:this.commentReport};h().post("https://renting-buddy-spring.herokuapp.com/api/clients/addComplaintRE",t,{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>{1==e.data?(this.$toast.success("Complaint Sent"),this.commentReport=""):this.$toast.error("Error")}))},reportRO(){if(this.commentReport.length<5)return void this.$toast.error("Provide a valid reason");const e=this.selectedReservationHistory,t={id:0,complainantId:0,rentingEntityId:0,respodentId:e.rentingEntityOwnerId,text:this.commentReport};h().post("https://renting-buddy-spring.herokuapp.com/api/clients/addComplaintRO",t,{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>{1==e.data?(this.$toast.success("Complaint Sent"),this.commentReport=""):this.$toast.error("Error")}))},includesH(e){const t=e.place.toString().toLowerCase(),a=e.rentingEntityName.toString().toLowerCase(),s=e.price.toString().toLowerCase(),i=this.filterH.toLowerCase();return t.includes(i)||a.includes(i)||s.includes(i)},sort(e,t,a){if(0==a){let a=e.place.toLowerCase(),s=t.place.toLowerCase();return a<s?-1:a>s?1:0}if(1==a){let a=e.place.toLowerCase(),s=t.place.toLowerCase();return a>s?-1:a<s?1:0}if(2==a){let a=parseInt(e.price),s=parseInt(t.price);return a>s?-1:a<s?1:0}if(3==a){let a=parseInt(e.price),s=parseInt(t.price);return a<s?-1:a>s?1:0}}}};const Zt=(0,v.Z)(Wt,[["render",Yt],["__scopeId","data-v-3c867ece"]]);var Gt=Zt,Kt=a(5860),Qt=a(5776);const Jt=(0,s._)("head",null,[(0,s._)("title",null,"Fishing Class Profile")],-1),Xt={class:"page"},ea={key:0,class:"user-data-div"},ta={key:1,class:"user-data-div"},aa={class:"input-group mb-3"},sa=(0,s._)("span",{class:"input-group-text",id:"name"},"Name:",-1),ia={class:"input-group mb-3"},na=(0,s._)("span",{class:"input-group-text",id:"address"},"Address:",-1),oa={class:"input-group mb-3"},la=(0,s._)("span",{class:"input-group-text",id:"promoDescription"},"Description:",-1),ra={class:"input-group mb-3"},da=(0,s._)("span",{class:"input-group-text",id:"instructorBiography"},"Instructor biography:",-1),ua={class:"input-group mb-3"},ca=(0,s._)("span",{class:"input-group-text",id:"behaviourRules"},"Behaviour Rules:",-1),pa={class:"input-group mb-3"},ma=(0,s._)("span",{class:"input-group-text",id:"priceList"},"Price list:",-1),ha={class:"input-group mb-3"},ga=(0,s._)("span",{class:"input-group-text",id:"clientLimit"},"Client limit: ",-1),va={class:"input-group mb-3"},ba=(0,s._)("span",{class:"input-group-text",id:"additionalInfo"},"Additional info:",-1),fa={class:"input-group mb-3"},ya=(0,s._)("span",{class:"input-group-text",id:"cancellationConditions"},"Cancellation conditions:",-1),wa={key:0},_a=(0,s._)("br",null,null,-1),ka=(0,s._)("br",null,null,-1),xa={key:3};function Pa(e,t,a,n,o,l){const r=(0,s.up)("Datepicker");return(0,s.wg)(),(0,s.iD)(s.HY,null,[Jt,(0,s._)("body",null,[(0,s._)("div",Xt,[this.editing?((0,s.wg)(),(0,s.iD)("div",ta,[(0,s._)("div",aa,[sa,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.fishingClass.name=e),type:"text",class:"form-control","aria-label":"Username","aria-describedby":"name"},null,512),[[y.nr,o.fishingClass.name]])]),(0,s._)("div",ia,[na,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>o.fishingClass.address=e),type:"text",class:"form-control","aria-label":"Username","aria-describedby":"address"},null,512),[[y.nr,o.fishingClass.address]])]),(0,s._)("div",oa,[la,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>o.fishingClass.promoDescription=e),type:"text",class:"form-control","aria-label":"Username","aria-describedby":"promoDescription"},null,512),[[y.nr,o.fishingClass.promoDescription]])]),(0,s._)("div",ra,[da,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>o.fishingClass.instructorBiography=e),type:"text",class:"form-control","aria-label":"Username","aria-describedby":"instructorBiography"},null,512),[[y.nr,o.fishingClass.instructorBiography]])]),(0,s._)("div",ua,[ca,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>o.fishingClass.behaviourRules=e),type:"text",class:"form-control","aria-label":"Username","aria-describedby":"behaviourRules"},null,512),[[y.nr,o.fishingClass.behaviourRules]])]),(0,s._)("div",pa,[ma,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>o.fishingClass.priceList=e),type:"text",class:"form-control","aria-label":"Username","aria-describedby":"priceList"},null,512),[[y.nr,o.fishingClass.priceList]])]),(0,s._)("div",ha,[ga,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>o.fishingClass.clientLimit=e),type:"text",class:"form-control","aria-label":"Username","aria-describedby":"clientLimit"},null,512),[[y.nr,o.fishingClass.clientLimit]])]),(0,s._)("div",va,[ba,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>o.fishingClass.additionalInfo=e),type:"text",class:"form-control","aria-label":"Username","aria-describedby":"additionalInfo"},null,512),[[y.nr,o.fishingClass.additionalInfo]])]),(0,s._)("div",fa,[ya,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>o.fishingClass.cancellationConditions=e),type:"text",class:"form-control","aria-label":"Username","aria-describedby":"cancellationConditions"},null,512),[[y.nr,o.fishingClass.cancellationConditions]])]),this.editing?((0,s.wg)(),(0,s.iD)("div",wa,[(0,s.Wm)(r,{placeholder:"From",style:{"min-width":"100%"},format:e.format,modelValue:o.dateFrom,"onUpdate:modelValue":t[9]||(t[9]=e=>o.dateFrom=e),vertical:""},null,8,["format","modelValue"]),_a,(0,s.Wm)(r,{placeholder:"To",style:{"min-width":"100%"},format:e.format,modelValue:o.dateTo,"onUpdate:modelValue":t[10]||(t[10]=e=>o.dateTo=e),vertical:""},null,8,["format","modelValue"])])):(0,s.kq)("",!0)])):((0,s.wg)(),(0,s.iD)("div",ea,[(0,s._)("p",null,"Name: "+(0,i.zw)(o.fishingClass.name),1),(0,s._)("p",null,"Address: "+(0,i.zw)(o.fishingClass.address),1),(0,s._)("p",null,"Description: "+(0,i.zw)(o.fishingClass.promoDescription),1),(0,s._)("p",null,"Instructor biography: "+(0,i.zw)(o.fishingClass.instructorBiography),1),(0,s._)("p",null,"Behaviour Rules: "+(0,i.zw)(o.fishingClass.behaviourRules),1),(0,s._)("p",null,"Price list: "+(0,i.zw)(o.fishingClass.priceList),1),(0,s._)("p",null,"Client limit: "+(0,i.zw)(o.fishingClass.clientLimit),1),(0,s._)("p",null,"Additional info: "+(0,i.zw)(o.fishingClass.additionalInfo),1),(0,s._)("p",null,"Cancellation conditions: "+(0,i.zw)(o.fishingClass.cancellationConditions),1),(0,s._)("p",null,"Available from: "+(0,i.zw)(o.fishingClass.availableFrom),1),(0,s._)("p",null,"Available to: "+(0,i.zw)(o.fishingClass.availableTo),1)])),ka,this.editing?((0,s.wg)(),(0,s.iD)("div",xa,[(0,s._)("button",{style:{"margin-right":"20px"},class:"btn btn-primary",onClick:t[12]||(t[12]=e=>l.saveEdit())},"Save")])):((0,s.wg)(),(0,s.iD)("button",{key:2,onClick:t[11]||(t[11]=e=>l.toggleEdit()),class:"btn btn-primary"},"Edit Info"))])])],64)}var Ca={name:"FishingClassProfile",data(){return{fishingClass:{},editing:!1,dateFrom:null,dateTo:null}},mounted(){h().get("https://renting-buddy-spring.herokuapp.com/api/fishingClasses/2").then((e=>this.fishingClass=e.data))},methods:{toggleEdit(){this.editing=!0},parseDate(e){const t=("0"+e.getDate()).slice(-2),a=("0"+(e.getMonth()+1)).slice(-2),s=e.getFullYear(),i=("0"+e.getHours()).slice(-2),n=("0"+e.getMinutes()).slice(-2);return`${t}.${a}.${s} ${i}:${n}`},saveEdit(){this.fishingClass.availableFrom=this.parseDate(this.dateFrom),this.fishingClass.availableTo=this.parseDate(this.dateTo),h().put("https://renting-buddy-spring.herokuapp.com/api/fishingClasses/update",this.fishingClass).then((e=>this.fishingClass=e.data)).then(this.toastMessage()),this.editing=!1},toastMessage(){this.$toast.success("Info updated")}}};const Ua=(0,v.Z)(Ca,[["render",Pa]]);var Ia=Ua;const $a=e=>((0,s.dD)("data-v-219b979c"),e=e(),(0,s.Cn)(),e),Da={class:"main-container",style:{"min-height":"600px"}},Na={class:"left-bar"},Ra=$a((()=>(0,s._)("h5",{style:{color:"white","font-weight":"bold"}},"Search",-1))),Ea=$a((()=>(0,s._)("div",{class:"left-bar-text",style:{"margin-top":"0"}},"Destination name:",-1))),Aa=$a((()=>(0,s._)("div",{class:"left-bar-text"},"Destination address:",-1))),za=$a((()=>(0,s._)("div",{class:"left-bar-text"},"Date:",-1))),Sa=$a((()=>(0,s._)("div",{class:"left-bar-text"},"People:",-1))),Ta=$a((()=>(0,s._)("br",null,null,-1))),Va=$a((()=>(0,s._)("div",{class:"left-bar-text"},"Price €:",-1))),Ha={style:{display:"block","align-content":"space-between","text-align":"center","min-height":"38px"}},ja=["max"],La=$a((()=>(0,s._)("label",{style:{color:"white","margin-top":"5px"}},"-",-1))),Ba=["min"],Fa=$a((()=>(0,s._)("br",null,null,-1))),Oa=$a((()=>(0,s._)("div",{class:"left-bar-text"},"Sort by:",-1))),qa={class:"sort"},Ma=$a((()=>(0,s._)("option",{value:"0"},"Name descending",-1))),Ya=$a((()=>(0,s._)("option",{value:"1"},"Name ascending",-1))),Wa=$a((()=>(0,s._)("option",{value:"2"},"Price descending",-1))),Za=$a((()=>(0,s._)("option",{value:"3"},"Price ascending",-1))),Ga=[Ma,Ya,Wa,Za],Ka={class:"sort"},Qa=$a((()=>(0,s._)("div",{class:"left-bar-text"},"Group by:",-1))),Ja=$a((()=>(0,s._)("option",{value:"1"},"1",-1))),Xa=$a((()=>(0,s._)("option",{value:"5"},"5",-1))),es=$a((()=>(0,s._)("option",{value:"10"},"10",-1))),ts=$a((()=>(0,s._)("option",{value:"15"},"15",-1))),as=[Ja,Xa,es,ts],ss=$a((()=>(0,s._)("br",null,null,-1))),is={class:"radio-div"},ns=$a((()=>(0,s._)("label",{class:"custom-btn button-primary",for:"contactChoice1"},"Houses",-1))),os=$a((()=>(0,s._)("label",{class:"custom-btn button-primary",for:"contactChoice2"},"Boats",-1))),ls=$a((()=>(0,s._)("label",{class:"custom-btn button-primary",for:"contactChoice3"},"Fishing classes ",-1))),rs={class:"home-entities-div"},ds=["onClick","index"],us={class:"entity-picture"},cs=["src","onClick"],ps={class:"entity-name"},ms=["onClick"],hs={class:"entity-description"},gs=$a((()=>(0,s._)("i",{class:"bi bi-geo-alt-fill"},null,-1))),vs=(0,s.Uk)(),bs={class:"entity-description"},fs={style:{color:"#585858"}},ys={class:"entity-price"},ws={style:{"font-weight":"bold"}},_s=["onClick"],ks={style:{"text-align":"center"}},xs=$a((()=>(0,s._)("br",null,null,-1))),Ps=$a((()=>(0,s._)("br",null,null,-1))),Cs=$a((()=>(0,s._)("br",null,null,-1))),Us=$a((()=>(0,s._)("br",null,null,-1))),Is=$a((()=>(0,s._)("br",null,null,-1))),$s=$a((()=>(0,s._)("br",null,null,-1)));function Ds(e,t,a,n,o,l){const r=(0,s.up)("Datepicker"),d=(0,s.up)("Slider");return(0,s.wg)(),(0,s.iD)("div",Da,[(0,s._)("div",Na,[Ra,Ea,(0,s._)("div",null,[(0,s.wy)((0,s._)("input",{class:"input-group-text",type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>o.nameFilter=e)},null,512),[[y.nr,o.nameFilter]])]),Aa,(0,s._)("div",null,[(0,s.wy)((0,s._)("input",{class:"input-group-text",type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>o.addressFilter=e)},null,512),[[y.nr,o.addressFilter]])]),za,(0,s.Wm)(r,{modelValue:o.availabilityInterval,"onUpdate:modelValue":t[2]||(t[2]=e=>o.availabilityInterval=e),format:l.formatRange,range:"",clearable:""},null,8,["modelValue","format"]),Sa,(0,s.wy)((0,s._)("input",{type:"number",class:"input-group-text",style:{"text-align":"left"},min:0,max:50,step:1,"onUpdate:modelValue":t[3]||(t[3]=e=>o.people=e)},null,512),[[y.nr,o.people]]),Ta,(0,s.Wm)(d,{style:{width:"95%",margin:"auto"},modelValue:o.people,"onUpdate:modelValue":t[4]||(t[4]=e=>o.people=e),min:0,max:50,width:100,step:1,tooltips:!1},null,8,["modelValue"]),Va,(0,s._)("div",Ha,[(0,s.wy)((0,s._)("input",{class:"input-group-text",style:{width:"45%",float:"left"},type:"number",min:0,max:o.price[1],step:50,"onUpdate:modelValue":t[5]||(t[5]=e=>o.price[0]=e)},null,8,ja),[[y.nr,o.price[0]]]),La,(0,s.wy)((0,s._)("input",{class:"input-group-text",style:{width:"45%",float:"right"},type:"number",min:o.price[0],max:1e3,step:50,"onUpdate:modelValue":t[6]||(t[6]=e=>o.price[1]=e)},null,8,Ba),[[y.nr,o.price[1]]])]),Fa,(0,s.Wm)(d,{style:{width:"95%",margin:"auto"},modelValue:o.price,"onUpdate:modelValue":t[7]||(t[7]=e=>o.price=e),min:0,max:1e3,width:100,step:50,tooltips:!1},null,8,["modelValue"]),Oa,(0,s._)("div",qa,[(0,s.wy)((0,s._)("select",{class:"form-select","onUpdate:modelValue":t[8]||(t[8]=e=>o.sortType=e),name:"example"},Ga,512),[[y.bM,o.sortType]])]),(0,s._)("div",Ka,[Qa,(0,s.wy)((0,s._)("select",{class:"form-select","onUpdate:modelValue":t[9]||(t[9]=e=>o.groupBy=e)},as,512),[[y.bM,o.groupBy]])]),ss,(0,s._)("div",is,[(0,s._)("div",null,[(0,s.wy)((0,s._)("input",{class:"radio",type:"radio",id:"contactChoice1",name:"choice",value:"0","onUpdate:modelValue":t[10]||(t[10]=e=>o.toDisplay=e)},null,512),[[y.G2,o.toDisplay]]),ns]),(0,s._)("div",null,[(0,s.wy)((0,s._)("input",{class:"radio",type:"radio",id:"contactChoice2",name:"choice",value:"1","onUpdate:modelValue":t[11]||(t[11]=e=>o.toDisplay=e)},null,512),[[y.G2,o.toDisplay]]),os]),(0,s._)("div",null,[(0,s.wy)((0,s._)("input",{class:"radio",type:"radio",id:"contactChoice3",name:"choice",value:"2","onUpdate:modelValue":t[12]||(t[12]=e=>o.toDisplay=e)},null,512),[[y.G2,o.toDisplay]]),ls])]),(0,s._)("div",null,[(0,s._)("button",{style:{"margin-bottom":"7px"},class:"custom-btn button-secondary",onClick:t[13]||(t[13]=e=>l.search(!0))},"Search")])]),(0,s._)("div",rs,[(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(this.entities,((e,t)=>((0,s.wg)(),(0,s.iD)("div",(0,s.dG)({class:"list-entities",onClick:t=>l.selectEntity(e),index:t,key:e.id},{selected:o.selectedEntity.id===e.id}),[(0,s._)("div",us,[(0,s._)("img",{src:"data:image/jpeg;base64,"+e.img,onClick:t=>l.jumpToPreview(e),style:{width:"200px",height:"150px",cursor:"pointer"}},null,8,cs)]),(0,s._)("div",ps,[(0,s._)("h4",{onClick:t=>l.jumpToPreview(e),style:{"font-weight":"bold",cursor:"pointer"}},(0,i.zw)(e.name),9,ms),(0,s._)("div",hs,[gs,vs,(0,s._)("b",null,(0,i.zw)(e.address),1)]),(0,s._)("div",bs,(0,i.zw)(e.promoDescription),1),(0,s._)("label",null,(0,i.zw)(Math.round(10*e.rating)/10)+" ⭐",1),(0,s._)("span",fs,"("+(0,i.zw)(e.reviewsNumber)+")",1)]),(0,s._)("div",ys,[(0,s._)("div",null,[(0,s._)("h5",ws,(0,i.zw)(e.priceList)+"€",1)]),(0,s._)("div",null,[(0,s._)("button",{class:"custom-btn button-primary",onClick:t=>l.jumpToPreview(e)},"Explore",8,_s)])])],16,ds)))),128))]),(0,s._)("div",ks,[(0,s._)("button",{class:"btn btn-light",onClick:t[14]||(t[14]=e=>l.previousPage())},"Prev"),(0,s.Uk)(" "+(0,i.zw)(o.displayCurrentPage)+" ",1),(0,s._)("button",{class:"btn btn-light",onClick:t[15]||(t[15]=e=>l.nextPage())},"Next")]),xs,Ps,Cs,Us,Is,$s])])}var Ns=a(9661),Rs={name:"HomePage",components:{Slider:Ns.Z},data(){return{publicPath:"/",entities:[],selectedEntity:{},selectedRows:[],people:0,currentPage:0,displayCurrentPage:0,maximumPage:null,groupBy:5,price:[0,1e3],availabilityInterval:null,filterData:{type:"vacationHouses",name:"",address:"",start:null,end:null,people:0,priceMin:0,priceMax:100},sortType:0,nameFilter:"",addressFilter:"",selected:!1,toDisplay:0,displayType:0}},mounted(){h().get(`https://renting-buddy-spring.herokuapp.com/api/vacationHouses/anyUser/?page=${this.currentPage}&size=5&sort=name,ASC`).then((e=>this.entities=e.data))},methods:{formatRange(e){let t=e[0],a=e[1];null==t&&(t=new Date);const s=t.getDate(),i=t.getMonth()+1,n=t.getFullYear(),o=t.getHours(),l=t.getMinutes();null==a&&(a=new Date);const r=a.getDate(),d=a.getMonth()+1,u=a.getFullYear(),c=a.getHours(),p=a.getMinutes();return`${s}.${i}.${n} ${o}:${l} - ${r}.${d}.${u} ${c}:${p}`},selectEntity(e){this.selectedEntity=e,this.selected=!0},previousPage(){this.currentPage-1<=0?this.currentPage=0:this.currentPage=this.currentPage-1,this.search(!1)},nextPage(){this.currentPage=this.currentPage+1,this.search(!1)},generateUrl(){let e="https://renting-buddy-spring.herokuapp.com/api/"+this.filterData.type+"/anyUser/?";return""!=this.filterData.name&&(e=e+"&name="+this.filterData.name),""!=this.filterData.address&&(e=e+"&address="+this.filterData.address),null!=this.filterData.start&&(e=e+"&start="+this.filterData.start),null!=this.filterData.end&&(e=e+"&end="+this.filterData.end),e=e+"&people="+this.filterData.people+"&priceMin="+this.filterData.priceMin+"&priceMax="+this.filterData.priceMax+"&page="+this.currentPage+"&size="+this.groupBy+this.getSortType(),e},getSortType(){return 0==this.sortType?"&sort=name,DESC":1==this.sortType?"&sort=name,ASC":3==this.sortType?"&sort=priceList,ASC":"&sort=priceList,DESC"},getType(){return 0==this.toDisplay?"vacationHouses":1==this.toDisplay?"ships":"fishingClasses"},search(e){e&&(this.filterData.type=this.getType(),this.filterData.name=this.nameFilter,this.filterData.address=this.addressFilter,null!=this.availabilityInterval?(this.filterData.start=this.availabilityInterval[0].toISOString(),null!=this.availabilityInterval[1]?this.filterData.end=this.availabilityInterval[1].toISOString():(this.filterData.end=null,this.filterData.start=null)):(this.filterData.start=null,this.filterData.end=null),this.filterData.people=this.people,this.filterData.priceMin=this.price[0],this.filterData.priceMax=this.price[1],this.displayType=this.toDisplay,this.currentPage=0);const t=this.generateUrl();h().get(t).then((t=>{0==t.data.length?(e&&this.$toast.error("No results found"),e||(this.currentPage=this.currentPage-1)):(this.entities=t.data,this.displayCurrentPage=this.currentPage)}))},dateFromLocal(e){if(null==e)return new Date;const t=e.split(" ");if(2!=t.length)return new Date;const a=t[0].split(".");if(3!=a.length)return new Date;const s=t[1].split(":");if(2!=s.length)return new Date;const i=a[0],n=a[1],o=a[2],l=s[0],r=s[1],d=new Date(o,n-1,i,l,r);return d},jumpToPreview(e){this.selectEntity(e),this.$router.push({name:"rentingEntityPreview",params:{id:this.selectedEntity.id,displayType:this.displayType}})}}};const Es=(0,v.Z)(Rs,[["render",Ds],["__scopeId","data-v-219b979c"]]);var As=Es;const zs=e=>((0,s.dD)("data-v-bbc1afb0"),e=e(),(0,s.Cn)(),e),Ss={style:{display:"flex","flex-direction":"column","align-items":"center","justify-content":"center","min-height":"600px"}},Ts={style:{"align-self":"center","background-color":"#00587a",width:"40%","align-items":"center","justify-content":"center",padding:"3%"}},Vs={class:"form-floating input-group-width mb-4"},Hs=zs((()=>(0,s._)("label",{for:"usernameInput"},"Username",-1))),js={class:"form-floating input-group-width mb-5"},Ls=zs((()=>(0,s._)("label",{for:"passwordInput"},"Password",-1))),Bs={style:{"margin-left":"35%"}},Fs=(0,s.Uk)("Forgot your password?");function Os(e,t,a,i,n,o){const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",Ss,[(0,s._)("div",Ts,[(0,s._)("div",Vs,[(0,s.wy)((0,s._)("input",{id:"usernameInput",class:"form-control",type:"text","onUpdate:modelValue":t[0]||(t[0]=t=>e.username=t),placeholder:"Username"},null,512),[[y.nr,e.username]]),Hs]),(0,s._)("div",js,[(0,s.wy)((0,s._)("input",{id:"passwordInput",class:"form-control",type:"password","onUpdate:modelValue":t[1]||(t[1]=t=>e.password=t),placeholder:"Password"},null,512),[[y.nr,e.password]]),Ls]),(0,s._)("div",null,[(0,s._)("button",{class:"custom-btn button-secondary input-group-width mb-3 mt-5",style:{"margin-left":"40%","max-width":"100px"},onClick:t[2]||(t[2]=(...e)=>o.login&&o.login(...e))},"Login"),(0,s._)("div",Bs,[(0,s._)("p",null,[(0,s.Wm)(l,{to:"/forgotPasswordPage"},{default:(0,s.w5)((()=>[Fs])),_:1})])])])])])}var qs={data:()=>({username:"",password:"",accountType:"",firstLogin:null}),mounted(){this.$root.signIn=!1},methods:{login(){var e=/^[0-9A-Za-z]+$/;if(this.username.length<3||this.username.length>20)return void this.$toast.error("Username must be between 3-20 characters");if(!e.test(this.username))return void this.$toast.error("Username must only contain letters and numbers");if(this.password.length<5||this.password.length>20)return void this.$toast.error("Password must be between 5-20 characters");if(!e.test(this.password))return void this.$toast.error("Password must only contain letters and numbers");const t={Accept:"application/json","Content-Type":"application/json"},a={username:this.username,password:this.password};h().post("https://renting-buddy-spring.herokuapp.com/api/auth/login",a,t).then((e=>{this.$root.accessToken=e.data.accessToken,this.$root.signedIn=!0,localStorage.setItem("jwt",e.data.accessToken),this.$toast.success("Login successfull"),h().get("https://renting-buddy-spring.herokuapp.com/api/users/loggedUser",{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>{this.$root.loggedUser=e.data,this.accountType=e.data.accountType,this.firstLogin=e.data.firstLogin})),h().get("https://renting-buddy-spring.herokuapp.com/api/users/loggedUser/picture",{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>this.$root.loggedPicture=e.data)),"ADMIN"===this.accountType&&this.firstLogin?this.$router.push({name:"firstLogin"}):this.$router.push("/")})).catch((e=>{404===e.response.status?this.$toast.error("Account awaiting verification"):this.$toast.error("Invalid Credentials"),this.$root.signedIn=!1,this.$root.accessToken=null,localStorage.setItem("jwt",null),console.log(e)}))}}};const Ms=(0,v.Z)(qs,[["render",Os],["__scopeId","data-v-bbc1afb0"]]);var Ys=Ms;const Ws={align:"center",style:{"min-height":"1200px","margin-top":"5%"}},Zs={class:"registration-div mt-3 mb-3"},Gs={class:"radio-div"},Ks=(0,s._)("label",{class:"custom-btn button-primary input-group-width mb-2 mt-5",for:"addClient"},"Client",-1),Qs=(0,s._)("label",{class:"custom-btn button-primary input-group-width mb-2",for:"addVacationHouseOwner"},"Vacation House Owner",-1),Js=(0,s._)("label",{class:"custom-btn button-primary input-group-width mb-2",for:"addShipOwner"},"Ship Owner",-1),Xs=(0,s._)("label",{class:"custom-btn button-primary input-group-width mb-4",for:"addFishingInstructor"},"Fishing Instructor",-1),ei={class:"form-floating input-group-width mb-2"},ti=(0,s._)("label",{for:"firstNameInput"},"First Name",-1),ai={class:"form-floating input-group-width mb-2"},si=(0,s._)("label",{for:"lastNameInput"},"Last Name",-1),ii={class:"form-floating input-group-width mb-2"},ni=(0,s._)("label",{for:"emailInput"},"E-mail",-1),oi={class:"form-floating input-group-width mb-2"},li=(0,s._)("label",{for:"usernameInput"},"Username",-1),ri={class:"form-floating input-group-width mb-2"},di=(0,s._)("label",{for:"passwordInput"},"Password",-1),ui={class:"form-floating input-group-width mb-2"},ci=(0,s._)("label",{for:"confirmPasswordInput"},"Confirm Password",-1),pi={class:"form-floating input-group-width mb-2"},mi=(0,s._)("label",{for:"addressInput"},"Address",-1),hi={class:"form-floating input-group-width mb-2"},gi=(0,s._)("label",{for:"cityInput"},"City",-1),vi={class:"form-floating input-group-width mb-2"},bi=(0,s._)("label",{for:"countryInput"},"Country",-1),fi={class:"form-floating input-group-width mb-2"},yi=(0,s._)("label",{for:"phoneNumInput"},"Phone Number",-1),wi={key:0,class:"form-floating input-group-width"},_i=(0,s._)("label",{for:"reasonInput"},"Reason for Registration",-1),ki=(0,s._)("div",null,[(0,s._)("button",{class:"custom-btn button-secondary input-group-width mb-4 mt-5"},"Sign up")],-1);function xi(e,t,a,i,n,o){const l=(0,s.up)("country-select");return(0,s.wg)(),(0,s.iD)("div",Ws,[(0,s._)("div",Zs,[(0,s._)("div",Gs,[(0,s._)("div",null,[(0,s.wy)((0,s._)("input",{class:"radio",type:"radio",id:"addClient",name:"choice",value:"addClient","onUpdate:modelValue":t[0]||(t[0]=e=>n.role=e),checked:""},null,512),[[y.G2,n.role]]),Ks]),(0,s._)("div",null,[(0,s.wy)((0,s._)("input",{class:"radio",type:"radio",id:"addVacationHouseOwner",name:"choice",value:"addVacationHouseOwner","onUpdate:modelValue":t[1]||(t[1]=e=>n.role=e)},null,512),[[y.G2,n.role]]),Qs]),(0,s._)("div",null,[(0,s.wy)((0,s._)("input",{class:"radio",type:"radio",id:"addShipOwner",name:"choice",value:"addShipOwner","onUpdate:modelValue":t[2]||(t[2]=e=>n.role=e)},null,512),[[y.G2,n.role]]),Js]),(0,s._)("div",null,[(0,s.wy)((0,s._)("input",{class:"radio",type:"radio",id:"addFishingInstructor",name:"choice",value:"addFishingInstructor","onUpdate:modelValue":t[3]||(t[3]=e=>n.role=e)},null,512),[[y.G2,n.role]]),Xs])]),(0,s._)("form",{class:"w-100",onSubmit:t[16]||(t[16]=(0,y.iM)(((...e)=>o.signUp&&o.signUp(...e)),["prevent"]))},[(0,s._)("div",ei,[(0,s.wy)((0,s._)("input",{id:"firstNameInput",class:"form-control",type:"text","onUpdate:modelValue":t[4]||(t[4]=e=>n.firstName=e),placeholder:"First Name"},null,512),[[y.nr,n.firstName]]),ti]),(0,s._)("div",ai,[(0,s.wy)((0,s._)("input",{id:"lastNameInput",class:"form-control",type:"text","onUpdate:modelValue":t[5]||(t[5]=e=>n.lastName=e),placeholder:"Last Name"},null,512),[[y.nr,n.lastName]]),si]),(0,s._)("div",ii,[(0,s.wy)((0,s._)("input",{id:"emailInput",class:"form-control",type:"text","onUpdate:modelValue":t[6]||(t[6]=e=>n.email=e),onBlur:t[7]||(t[7]=(...e)=>o.validateEmail&&o.validateEmail(...e)),placeholder:"E-mail"},null,544),[[y.nr,n.email]]),ni]),(0,s._)("div",oi,[(0,s.wy)((0,s._)("input",{id:"usernameInput",class:"form-control",type:"text","onUpdate:modelValue":t[8]||(t[8]=e=>n.username=e),placeholder:"Username"},null,512),[[y.nr,n.username]]),li]),(0,s._)("div",ri,[(0,s.wy)((0,s._)("input",{id:"passwordInput",class:"form-control",type:"password","onUpdate:modelValue":t[9]||(t[9]=e=>n.password=e),placeholder:"Password"},null,512),[[y.nr,n.password]]),di]),(0,s._)("div",ui,[(0,s.wy)((0,s._)("input",{id:"confirmPasswordInput",class:"form-control",type:"password","onUpdate:modelValue":t[10]||(t[10]=e=>n.confirmPassword=e),placeholder:"Confirm Password"},null,512),[[y.nr,n.confirmPassword]]),ci]),(0,s._)("div",pi,[(0,s.wy)((0,s._)("input",{id:"addressInput",class:"form-control",type:"text","onUpdate:modelValue":t[11]||(t[11]=e=>n.address=e),placeholder:"Address"},null,512),[[y.nr,n.address]]),mi]),(0,s._)("div",hi,[(0,s.wy)((0,s._)("input",{id:"cityInput",class:"form-control",type:"text","onUpdate:modelValue":t[12]||(t[12]=e=>n.city=e),placeholder:"City"},null,512),[[y.nr,n.city]]),gi]),(0,s._)("div",vi,[(0,s.Wm)(l,{id:"countryInput",class:"form-control",modelValue:n.country,"onUpdate:modelValue":t[13]||(t[13]=e=>n.country=e),usei18n:!1,autocomplete:!0,countryName:!0},null,8,["modelValue"]),bi]),(0,s._)("div",fi,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[14]||(t[14]=e=>n.phoneNum=e),type:"text",placeholder:"Phone Number:",class:"form-control"},null,512),[[y.nr,n.phoneNum]]),yi]),"addClient"!==n.role?((0,s.wg)(),(0,s.iD)("div",wi,[(0,s.wy)((0,s._)("textarea",{id:"reasonInput",class:"form-control","onUpdate:modelValue":t[15]||(t[15]=e=>n.registrationReason=e)},null,512),[[y.nr,n.registrationReason]]),_i])):(0,s.kq)("",!0),ki],32)])])}var Pi={name:"RegistrationPage",data(){return{firstName:"",lastName:"",username:"",email:"",password:"",confirmPassword:"",address:"",city:"",country:"",phoneNum:null,registrationReason:"",role:"addClient"}},mounted(){this.$root.signUp=!1,this.$root.signIn=!0},methods:{signUp(){var e=/^[A-Za-z]+$/;if(this.firstName.length<2||this.firstName.length>20)this.$toast.error("First name must be between 2-20 characters");else if(0!=e.test(this.firstName))if(this.firstName=this.firstName.charAt(0).toUpperCase()+this.firstName.slice(1),this.lastName.length<2||this.lastName.length>20)this.$toast.error("Last name must be between 2-20 characters");else if(0!=e.test(this.lastName))if(this.lastName=this.lastName.charAt(0).toUpperCase()+this.lastName.slice(1),this.email.length<5||0==this.validateEmail(this.email))this.$toast.error("Invalid email");else{this.email.toLowerCase();var t=/^[0-9A-Za-z]+$/;if(this.username.length<3||this.username.length>20)this.$toast.error("Username must be between 3-20 characters");else if(t.test(this.username))if(this.password.length<5||this.password.length>20)this.$toast.error("Password must be between 5-20 characters");else if(t.test(this.password))if(this.password===this.confirmPassword)if(""!==this.address)if(""!==this.city)if(""!=this.country){var a=/^\+?\d{8,13}$/;""!==this.phoneNum?!1!==a.test(this.phoneNum)?"addClient"===this.role||""!==this.registrationReason?h().get(`https://renting-buddy-spring.herokuapp.com/api/auth/isMailAvailable/${this.email}`).then((e=>{0!=e.data?h().get(`https://renting-buddy-spring.herokuapp.com/api/auth/isUsernameAvailable/${this.username}`).then((e=>{if(0!=e.data){const e={firstName:this.firstName,lastName:this.lastName,username:this.username,email:this.email,password:this.password,confirmPassword:this.confirmPassword,address:this.address,city:this.city,country:this.country,phoneNum:this.phoneNum};"addClient"!==this.role&&(e.registrationReason=this.registrationReason),h().post(`https://renting-buddy-spring.herokuapp.com/api/auth/${this.role}`,e).then((e=>{0==e.data?this.$toast.error("Registration failed"):(this.$toast.success("Registration successful"),this.$root.signUp=!0,this.$root.signIn=!0,this.$router.push("/"))}))}else this.$toast.error("Username already taken")})):this.$toast.error("Email already taken")})):this.$toast.error("Provide a reason for registering"):this.$toast.error("Invalid phone number"):this.$toast.error("Provide a phone number")}else this.$toast.error("Provide country");else this.$toast.error("Provide city name");else this.$toast.error("Provide address");else this.$toast.error("Passwords must match");else this.$toast.error("Password must only contain letters and numbers");else this.$toast.error("Username must only contain letters and numbers")}else this.$toast.error("Last name must contain only letters");else this.$toast.error("First name must contain only letters")},validateEmail(e){var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)}}};const Ci=(0,v.Z)(Pi,[["render",xi]]);var Ui=Ci,Ii=a.p+"img/verified.bbae64c0.png",$i=a.p+"img/confused.68e51f30.png";const Di={key:0,align:"center",style:{"min-height":"600px","margin-top":"5%"}},Ni=(0,s._)("img",{src:Ii,height:"200",width:"200"},null,-1),Ri=(0,s._)("p",{style:{color:"green"}},"Welcome to Renting Buddy",-1),Ei=[Ni,Ri],Ai={key:1,align:"center"},zi=(0,s._)("img",{src:$i,height:"200",width:"200"},null,-1),Si=(0,s._)("p",{style:{color:"red"}},"Error.....",-1),Ti=[zi,Si];function Vi(e,t,a,i,n,o){return n.verified?((0,s.wg)(),(0,s.iD)("div",Di,Ei)):((0,s.wg)(),(0,s.iD)("div",Ai,Ti))}var Hi={name:"VerificationPage",data(){return{customId:0,verified:!1}},mounted(){this.customId=this.$route.params.customId,h().get(`https://renting-buddy-spring.herokuapp.com/api/auth/verify/${this.customId}`).then((e=>{1==e.data?(this.verified=!0,this.$toast.success("Account successfully verified")):(this.verified=!1,this.$toast.error("Verification failed"))}))}};const ji=(0,v.Z)(Hi,[["render",Vi]]);var Li=ji;const Bi=e=>((0,s.dD)("data-v-8fb6074e"),e=e(),(0,s.Cn)(),e),Fi={id:"error-page"},Oi={class:"content"},qi=Bi((()=>(0,s._)("h2",{class:"header","data-text":"404"},null,-1))),Mi=Bi((()=>(0,s._)("h4",null," Opps! Page not found ",-1))),Yi=Bi((()=>(0,s._)("p",null," Sorry, the page you're looking for doesn't exist. If you think something is broken, report a problem. ",-1))),Wi={class:"btns"};function Zi(e,t,a,i,n,o){return(0,s.wg)(),(0,s.iD)("div",Fi,[(0,s._)("div",Oi,[qi,Mi,Yi,(0,s._)("div",Wi,[(0,s._)("a",{onClick:t[0]||(t[0]=e=>o.returnHome())},"return home")])])])}var Gi={name:"NotFoundPage",methods:{returnHome(){this.$router.push("/"),this.signIn=!0,this.signUp=!0}}};const Ki=(0,v.Z)(Gi,[["render",Zi],["__scopeId","data-v-8fb6074e"]]);var Qi=Ki;const Ji={style:{display:"flex","flex-direction":"column","align-items":"center","justify-content":"center","min-height":"600px"}},Xi={style:{"align-self":"center","background-color":"#00587a",width:"40%","align-items":"center","justify-content":"center",padding:"3%"}},en={class:"form-floating input-group-width mb-4"},tn=(0,s._)("label",{for:"emailInput"},"Email",-1);function an(e,t,a,i,n,o){return(0,s.wg)(),(0,s.iD)("div",Ji,[(0,s._)("div",Xi,[(0,s._)("div",en,[(0,s.wy)((0,s._)("input",{id:"emailInput",class:"form-control",type:"text","onUpdate:modelValue":t[0]||(t[0]=t=>e.email=t),placeholder:"Email"},null,512),[[y.nr,e.email]]),tn]),(0,s._)("div",null,[(0,s._)("button",{class:"custom-btn button-secondary input-group-width mb-3 mt-5",style:{"margin-left":"25%","max-width":"350px"},onClick:t[1]||(t[1]=e=>o.sendResetPasswordMail())},"Send reset password email")])])])}var sn={name:"forgotPasswordPage",data:()=>({email:""}),mounted(){this.$root.signIn=!0,this.$root.signUp=!0,this.$root.signedIn=!1,this.accessToken=null,localStorage.setItem("jwt",null)},methods:{sendResetPasswordMail(){this.email.length<5||0==this.validateEmail(this.email)?this.$toast.error("Invalid email"):(this.email.toLowerCase(),h().get(`https://renting-buddy-spring.herokuapp.com/api/auth/sendResetPassword/${this.email}`).then((e=>{1==e.data?(this.$toast.success("Reset password mail successfully sent"),this.$router.push("/")):this.$toast.error("Error")})))},validateEmail(e){var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)}}};const nn=(0,v.Z)(sn,[["render",an]]);var on=nn;const ln={style:{display:"flex","flex-direction":"column","align-items":"center","justify-content":"center","min-height":"600px"}},rn={style:{"align-self":"center","background-color":"#00587a",width:"40%","align-items":"center","justify-content":"center",padding:"3%"}},dn={class:"form-floating input-group-width mb-5"},un=(0,s._)("label",{for:"passwordInput"},"New Password",-1),cn={class:"form-floating input-group-width mb-5"},pn=(0,s._)("label",{for:"passwordInput"},"Confirm Password",-1);function mn(e,t,a,i,n,o){return(0,s.wg)(),(0,s.iD)("div",ln,[(0,s._)("div",rn,[(0,s._)("div",dn,[(0,s.wy)((0,s._)("input",{id:"passwordInput",class:"form-control",type:"password","onUpdate:modelValue":t[0]||(t[0]=t=>e.newPassword=t),placeholder:"New Password"},null,512),[[y.nr,e.newPassword]]),un]),(0,s._)("div",cn,[(0,s.wy)((0,s._)("input",{id:"passwordInput",class:"form-control",type:"password","onUpdate:modelValue":t[1]||(t[1]=t=>e.confirmPassword=t),placeholder:"Confirm Password"},null,512),[[y.nr,e.confirmPassword]]),pn]),(0,s._)("div",null,[(0,s._)("button",{class:"custom-btn button-secondary input-group-width mb-3 mt-5",style:{"margin-left":"35%","max-width":"200px"},onClick:t[2]||(t[2]=e=>o.setNewPassword())},"Set new password")])])])}var hn={name:"newPasswordPage",data:()=>({newPassword:"",confirmPassword:"",token:""}),mounted(){this.token=this.$route.params.token},methods:{setNewPassword(){var e=/^[0-9A-Za-z]+$/;if(this.newPassword.length<5||this.newPassword.length>20)return void this.$toast.error("Password must be between 5-20 characters");if(!e.test(this.newPassword))return void this.$toast.error("Password must only contain letters and numbers");if(this.newPassword!==this.confirmPassword)return void this.$toast.error("Passwords must match");const t={token:this.token,newPassword:this.newPassword,confirmPassword:this.confirmPassword};h().put("https://renting-buddy-spring.herokuapp.com/api/auth/resetPassword",t).then((e=>{1==e.data?(this.$toast.success("Password changed successfully"),this.$router.push("/loginPage")):this.$toast.error("Error")}))}}};const gn=(0,v.Z)(hn,[["render",mn]]);var vn=gn;const bn={class:"main-container"},fn={class:"heading-flex"},yn={class:"heading-left"},wn={class:"main-heading"},_n={class:"star-heading"},kn={class:"heading-right"},xn={class:"heading-right-buttons"},Pn={id:"carouselExampleControls",class:"carousel slide","data-bs-ride":"carousel"},Cn={class:"carousel-inner"},Un={class:"carousel-item active"},In=["src"],$n=["src"],Dn=(0,s.uE)('<button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev"><span class="carousel-control-prev-icon" aria-hidden="true"></span><span class="visually-hidden">Previous</span></button><button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next"><span class="carousel-control-next-icon" aria-hidden="true"></span><span class="visually-hidden">Next</span></button>',2),Nn={class:"main-description"},Rn={class:"inner-description"},En=(0,s._)("b",null,"Address: ",-1),An=(0,s._)("b",null,"Description: ",-1),zn=(0,s._)("b",null,"Behaviour rules: ",-1),Sn=(0,s._)("b",null,"Price: ",-1),Tn=(0,s._)("b",null,"Additional info: ",-1),Vn=(0,s._)("b",null,"Cancellation conditions: ",-1),Hn=(0,s._)("b",null,"Capacity: ",-1),jn={class:"google-map-container"},Ln=["src"],Bn=(0,s._)("hr",null,null,-1),Fn={key:0,v:""},On=(0,s._)("h4",null,"Available dates:",-1),qn=(0,s._)("br",null,null,-1),Mn={class:"modal fade",id:"modal",tabindex:"-1","aria-hidden":"true"},Yn={class:"modal-dialog modal-lg"},Wn={class:"modal-content"},Zn={class:"modal-body"},Gn={class:"form-floating mb-3"},Kn=(0,s._)("label",{for:"floatName"},"Title",-1),Qn={class:"form-floating mb-3"},Jn=(0,s._)("label",{for:"floatAddress"},"Address",-1),Xn={class:"form-floating mb-3"},eo=(0,s._)("label",{for:"floatPromoDescription"},"Description",-1),to={class:"form-floating mb-3"},ao=(0,s._)("label",{for:"floatBehaviourRules"},"Behaviour rules",-1),so={class:"form-floating mb-3"},io=(0,s._)("label",{for:"floatPriceList"},"Price",-1),no={class:"form-floating mb-3"},oo=(0,s._)("label",{for:"floatAdditionalInfo"},"Additional info",-1),lo={class:"form-floating mb-3"},ro=(0,s._)("label",{for:"floatCancellationConditions"},"Cancellation conditions",-1),uo={class:"form-floating mb-3"},co=(0,s._)("label",{for:"floatRoomsQuantity"},"Rooms quantity",-1),po={class:"form-floating mb-3"},mo=(0,s._)("label",{for:"floatBedsPerRoom"},"Beds per room",-1),ho={class:"modal-footer"},go={class:"modal fade",id:"modalOffer",tabindex:"-1","aria-hidden":"true"},vo={class:"modal-dialog"},bo={class:"modal-content"},fo={class:"modal-body"},yo={class:"form-floating mb-3"},wo=(0,s._)("label",{for:"floatPlace"},"Place",-1),_o={class:"form-floating mb-3"},ko=(0,s._)("label",{for:"floatClientLimit"},"Client limit",-1),xo={class:"form-floating mb-3"},Po=(0,s._)("label",{for:"floatPrice"},"Price",-1),Co={class:"modal-footer"};function Uo(e,t,a,n,o,l){const r=(0,s.up)("vue3-star-ratings"),d=(0,s.up)("v-calendar"),u=(0,s.up)("v-date-picker"),c=(0,s.up)("Datepicker");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",bn,[(0,s._)("div",fn,[(0,s._)("div",yn,[(0,s._)("h3",wn,(0,i.zw)(n.vacationHouse.name),1),(0,s.Wm)(r,{class:"star-ratings",modelValue:n.vacationHouse.rating,"onUpdate:modelValue":t[0]||(t[0]=e=>n.vacationHouse.rating=e),starSize:"22",showControl:!1,disableClick:!0,step:0},null,8,["modelValue"]),(0,s._)("h5",_n,"("+(0,i.zw)(n.vacationHouse.reviewsNumber)+")",1)]),(0,s._)("div",kn,[(0,s._)("div",xn,[(0,s._)("button",{style:{"margin-right":"20px"},onClick:t[1]||(t[1]=e=>n.showModal()),type:"button",class:"custom-btn button-primary","data-bs-toggle":"modal","data-bs-target":"#modal"},"Edit info"),(0,s._)("button",{type:"button",onClick:t[2]||(t[2]=e=>n.showModal()),class:"custom-btn button-primary","data-bs-toggle":"modal","data-bs-target":"#modalOffer"},"Create offer")])])]),(0,s._)("div",Pn,[(0,s._)("div",Cn,[(0,s._)("div",Un,[(0,s._)("img",{class:"carousel-image d-block w-100",alt:"Active picture",src:"data:image/jpeg;base64,"+n.pictures.at(0)},null,8,In)]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.pictures.slice(1),((e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"carousel-item",key:t},[(0,s._)("img",{class:"carousel-image d-block w-100",alt:"Item picture",src:"data:image/jpeg;base64,"+e},null,8,$n)])))),128))]),Dn]),(0,s._)("div",Nn,[(0,s._)("div",Rn,[(0,s._)("div",null,[En,(0,s.Uk)(" "+(0,i.zw)(n.vacationHouse.address),1)]),(0,s._)("div",null,[An,(0,s.Uk)(" "+(0,i.zw)(n.vacationHouse.promoDescription),1)]),(0,s._)("div",null,[zn,(0,s.Uk)(" "+(0,i.zw)(n.vacationHouse.behaviourRules),1)]),(0,s._)("div",null,[Sn,(0,s.Uk)(" "+(0,i.zw)(n.vacationHouse.priceList)+" per day",1)]),(0,s._)("div",null,[Tn,(0,s.Uk)((0,i.zw)(n.vacationHouse.additionalInfo),1)]),(0,s._)("div",null,[Vn,(0,s.Uk)((0,i.zw)(n.vacationHouse.cancellationConditions),1)]),(0,s._)("div",null,[Hn,(0,s.Uk)((0,i.zw)(n.vacationHouse.roomsQuantity)+" rooms, "+(0,i.zw)(n.vacationHouse.bedsPerRoom)+" beds per room",1)])]),(0,s._)("div",jn,[(0,s._)("iframe",{class:"google-map",src:"https://maps.google.com/maps?q="+n.vacationHouse.address+"&t=&z=13&ie=UTF8&iwloc=&output=embed"},null,8,Ln)])]),Bn,null!=n.vacationHouse.availableFrom&&null!=n.vacationHouse.availableFrom?((0,s.wg)(),(0,s.iD)("div",Fn,[On,(0,s.Wm)(d,{style:{width:"100%"},id:"calendar",class:"mb-3","from-date":n.fromDate,attributes:n.calendarAttributes,"min-date":n.calendarAttributes[0].dates.start,"max-date":n.calendarAttributes[0].dates.end},null,8,["from-date","attributes","min-date","max-date"]),qn])):(0,s.kq)("",!0)]),(0,s._)("div",Mn,[(0,s._)("div",Yn,[(0,s._)("div",Wn,[(0,s._)("div",Zn,[(0,s._)("div",Gn,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>n.vacationHouse.name=e),type:"text",class:"form-control",id:"floatName",placeholder:"Title"},null,512),[[y.nr,n.vacationHouse.name]]),Kn]),(0,s._)("div",Qn,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>n.vacationHouse.address=e),type:"text",class:"form-control",id:"floatAddress",placeholder:"Address"},null,512),[[y.nr,n.vacationHouse.address]]),Jn]),(0,s._)("div",Xn,[(0,s.wy)((0,s._)("textarea",{style:{height:"100px"},"onUpdate:modelValue":t[5]||(t[5]=e=>n.vacationHouse.promoDescription=e),type:"text",class:"form-control",id:"floatPromoDescription",placeholder:"Description"},null,512),[[y.nr,n.vacationHouse.promoDescription]]),eo]),(0,s._)("div",to,[(0,s.wy)((0,s._)("textarea",{style:{height:"100px"},"onUpdate:modelValue":t[6]||(t[6]=e=>n.vacationHouse.behaviourRules=e),type:"text",class:"form-control",id:"floatBehaviourRules",placeholder:"Behaviour rules"},null,512),[[y.nr,n.vacationHouse.behaviourRules]]),ao]),(0,s._)("div",so,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>n.vacationHouse.priceList=e),type:"text",class:"form-control",id:"floatPriceList",placeholder:"Price"},null,512),[[y.nr,n.vacationHouse.priceList]]),io]),(0,s._)("div",no,[(0,s.wy)((0,s._)("textarea",{style:{height:"100px"},"onUpdate:modelValue":t[8]||(t[8]=e=>n.vacationHouse.additionalInfo=e),type:"text",class:"form-control",id:"floatAdditionalInfo",placeholder:"Additional info"},null,512),[[y.nr,n.vacationHouse.additionalInfo]]),oo]),(0,s._)("div",lo,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[9]||(t[9]=e=>n.vacationHouse.cancellationConditions=e),type:"text",class:"form-control",id:"floatCancellationConditions",placeholder:"Cancellation conditions"},null,512),[[y.nr,n.vacationHouse.cancellationConditions]]),ro]),(0,s._)("div",uo,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[10]||(t[10]=e=>n.vacationHouse.roomsQuantity=e),type:"text",class:"form-control",id:"floatRoomsQuantity",placeholder:"Rooms quantity"},null,512),[[y.nr,n.vacationHouse.roomsQuantity]]),co]),(0,s._)("div",po,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[11]||(t[11]=e=>n.vacationHouse.bedsPerRoom=e),type:"text",class:"form-control",id:"floatBedsPerRoom",placeholder:"Beds per room"},null,512),[[y.nr,n.vacationHouse.bedsPerRoom]]),mo]),n.modalShown?((0,s.wg)(),(0,s.j4)(u,{key:0,modelValue:n.availabilityInterval,"onUpdate:modelValue":t[12]||(t[12]=e=>n.availabilityInterval=e),"min-date":new Date,"from-date":n.fromDate,mode:"dateTime","is-range":"","is-expanded":"",is24hr:""},null,8,["modelValue","min-date","from-date"])):(0,s.kq)("",!0)]),(0,s._)("div",ho,[(0,s._)("button",{type:"button",onClick:t[13]||(t[13]=e=>n.hideModal()),class:"custom-btn button-primary","data-bs-dismiss":"modal"},"Close"),(0,s._)("button",{type:"button",onClick:t[14]||(t[14]=e=>n.saveEdit()),class:"custom-btn button-primary","data-bs-dismiss":"modal"},"Save changes")])])])]),(0,s._)("div",go,[(0,s._)("div",vo,[(0,s._)("div",bo,[(0,s._)("div",fo,[(0,s._)("div",yo,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[15]||(t[15]=e=>n.offer.place=e),type:"text",class:"form-control",id:"floatPlace",placeholder:"Place"},null,512),[[y.nr,n.offer.place]]),wo]),(0,s._)("div",_o,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[16]||(t[16]=e=>n.offer.clientLimit=e),type:"text",class:"form-control",id:"floatClientLimit",placeholder:"Client limit"},null,512),[[y.nr,n.offer.clientLimit]]),ko]),(0,s._)("div",xo,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[17]||(t[17]=e=>n.offer.price=e),type:"text",class:"form-control",id:"floatPrice",placeholder:"Price"},null,512),[[y.nr,n.offer.price]]),Po]),(0,s.Wm)(c,{modelValue:n.offerInterval,"onUpdate:modelValue":t[18]||(t[18]=e=>n.offerInterval=e),format:n.formatRange,range:""},null,8,["modelValue","format"])]),(0,s._)("div",Co,[(0,s._)("button",{type:"button",onClick:t[19]||(t[19]=e=>n.hideModal()),class:"custom-btn button-primary","data-bs-dismiss":"modal"},"Close"),(0,s._)("button",{type:"button",onClick:t[20]||(t[20]=e=>n.createOffer()),class:"custom-btn button-primary","data-bs-dismiss":"modal"},"Create offer")])])])])],64)}var Io=a(4870),$o={name:"VacationHouseProfile",setup(){const e=(0,w.yj)(),t=(0,s.FN)().appContext.config.globalProperties.$toast;let a=(0,Io.iH)("3"),i=(0,Io.iH)({id:null,name:null,address:null,promoDescription:null,availableFrom:null,availableTo:null,behaviourRules:null,priceList:null,additionalInfo:null,cancellationConditions:null,roomsQuantity:null,bedsPerRoom:null,reviewsNumber:null}),n=(0,Io.iH)({id:null,place:null,clientLimit:null,additionalServices:[],price:null,rentingEntityId:null,start:null,duration:null}),o=(0,Io.iH)([]),l=(0,Io.iH)(!1),r=(0,Io.iH)({start:void 0,end:void 0}),d=(0,Io.iH)(),u=(0,Io.iH)([{key:"available",highlight:{start:{fillMode:"outline"},base:{fillMode:"light"},end:{fillMode:"outline"}},dates:{start:void 0,end:void 0}}]),c=(0,Io.iH)();function p(){l.value=!0}function m(){l.value=!1}function g(){void 0!=r.value.start&&void 0!=r.value.end?(i.value.availableFrom=f(r.value.start),i.value.availableTo=f(r.value.end),u.value[0].dates.start=r.value.start,u.value[0].dates.end=r.value.end,h().put(`https://renting-buddy-spring.herokuapp.com/api/vacationHouses/loggedVacationHouseOwner/${a.value}`,i.value,{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>{i.value=e.data,t.success("Info updated")})).catch((e=>{401===e.response.status?t.error("Error: Unauthorized access"):400===e.response.status&&t.error("Error: Invalid data")}))):t.error("Error: Invalid dates"),l.value=!1}function v(){n.value.start=f(d.value[0]),n.value.duration=d.value[1]-d.value[0],n.value.rentingEntityId=a.value,h().post("https://renting-buddy-spring.herokuapp.com/api/offers/new",n.value,{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>{n.value=e.data,t.success("Info updated")})),l.value=!1}function b(e){let t=e.split(" "),a=t[0],s=t[1];t=a.split(".");let i=parseInt(t[0]),n=parseInt(t[1])-1,o=parseInt(t[2]);t=s.split(":");let l=parseInt(t[0]),r=parseInt(t[1]);return new Date(o,n,i,l,r)}function f(e){let t=("0"+e.getDate()).slice(-2),a=("0"+(e.getMonth()+1)).slice(-2),s=e.getFullYear(),i=("0"+e.getHours()).slice(-2),n=("0"+e.getMinutes()).slice(-2);return`${t}.${a}.${s} ${i}:${n}`}(0,s.bv)((()=>{void 0!==e.params.id&&(a.value=e.params.id),h().get(`https://renting-buddy-spring.herokuapp.com/api/vacationHouses/anyUser/${a.value}`,{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>{i.value=e.data;let t=b(i.value.availableFrom),a=b(i.value.availableTo);r.value.start=t,r.value.end=a,u.value[0].dates.start=t,u.value[0].dates.end=a,c.value=r.value.start})),h().get(`https://renting-buddy-spring.herokuapp.com/api/vacationHouses/anyUser/${a.value}/pictures/all`,{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>{for(let t=0;t<e.data.length;t++)o.value.push(e.data[t])}))}));const y=e=>{let t=e[0],a=e[1];const s=t.getDate(),i=t.getMonth()+1,n=t.getFullYear(),o=t.getHours(),l=t.getMinutes(),r=a.getDate(),d=a.getMonth()+1,u=a.getFullYear(),c=a.getHours(),p=a.getMinutes();return`${s}.${i}.${n} ${o}:${l} - ${r}.${d}.${u} ${c}:${p}`};return{id:a,vacationHouse:i,offer:n,pictures:o,modalShown:l,availabilityInterval:r,offerInterval:d,calendarAttributes:u,fromDate:c,formatRange:y,showModal:p,hideModal:m,stringToDateTime:b,dateTimeToString:f,saveEdit:g,createOffer:v}}};const Do=(0,v.Z)($o,[["render",Uo]]);var No=Do;const Ro=e=>((0,s.dD)("data-v-86af5bc6"),e=e(),(0,s.Cn)(),e),Eo={key:0,class:"main-container"},Ao={class:"heading-flex"},zo={class:"heading-left"},So={class:"main-heading"},To={class:"heading-right"},Vo={class:"heading-right-buttons"},Ho={id:"carouselExampleControls",class:"carousel slide","data-bs-ride":"carousel"},jo={class:"carousel-inner"},Lo={class:"carousel-item active"},Bo=["src"],Fo=["src"],Oo=(0,s.uE)('<button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev" data-v-86af5bc6><span class="carousel-control-prev-icon" aria-hidden="true" data-v-86af5bc6></span><span class="visually-hidden" data-v-86af5bc6>Previous</span></button><button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next" data-v-86af5bc6><span class="carousel-control-next-icon" aria-hidden="true" data-v-86af5bc6></span><span class="visually-hidden" data-v-86af5bc6>Next</span></button>',2),qo={class:"main-description"},Mo={class:"inner-description"},Yo=Ro((()=>(0,s._)("b",null,"Address: ",-1))),Wo=Ro((()=>(0,s._)("b",null,"Description: ",-1))),Zo=Ro((()=>(0,s._)("b",null,"Behaviour rules: ",-1))),Go=Ro((()=>(0,s._)("b",null,"Price: ",-1))),Ko=Ro((()=>(0,s._)("b",null,"Additional info: ",-1))),Qo=Ro((()=>(0,s._)("b",null,"Cancellation conditions: ",-1))),Jo={key:0},Xo=Ro((()=>(0,s._)("b",null,"Capacity: ",-1))),el={key:1},tl=Ro((()=>(0,s._)("b",null,"Type: ",-1))),al={key:2},sl=Ro((()=>(0,s._)("b",null,"Length: ",-1))),il={key:3},nl=Ro((()=>(0,s._)("b",null,"Engine Number: ",-1))),ol={key:4},ll=Ro((()=>(0,s._)("b",null,"Engine Power: ",-1))),rl={key:5},dl=Ro((()=>(0,s._)("b",null,"Top Speed: ",-1))),ul={key:6},cl=Ro((()=>(0,s._)("b",null,"Client Limit: ",-1))),pl={key:7},ml=Ro((()=>(0,s._)("b",null,"Instructor biography: ",-1))),hl={key:8},gl=Ro((()=>(0,s._)("b",null,"Client limit: ",-1))),vl={class:"google-map-container"},bl=["src"],fl=Ro((()=>(0,s._)("hr",null,null,-1))),yl={class:"main-offer-container"},wl={key:0},_l={class:"inner-offer-container"},kl=["index"],xl={class:"offer-description"},Pl={class:"offer-left"},Cl=Ro((()=>(0,s._)("b",null,"Address: ",-1))),Ul=Ro((()=>(0,s._)("b",null,"Price: ",-1))),Il=Ro((()=>(0,s._)("b",null,"Client limit: ",-1))),$l=Ro((()=>(0,s._)("b",null,"Starting at: ",-1))),Dl=Ro((()=>(0,s._)("b",null,"Duration: ",-1))),Nl={key:0},Rl=Ro((()=>(0,s._)("b",null,"Additional Services: ",-1))),El={class:"offer-right"},Al=["onClick"],zl={class:"modal fade",id:"modalReservation",tabindex:"-1","aria-hidden":"true"},Sl={class:"modal-dialog"},Tl={class:"modal-content"},Vl={class:"modal-body"},Hl={key:0},jl={style:{"margin-right":"10px"}},Ll=["value"],Bl={class:"modal-footer"},Fl=Ro((()=>(0,s._)("button",{type:"button",class:"custom-btn button-primary",id:"close-btn","data-bs-dismiss":"modal"},"Close",-1))),Ol={class:"modal fade",id:"modalReviews",tabindex:"-1","aria-hidden":"true"},ql={class:"modal-dialog"},Ml={class:"modal-content"},Yl={class:"modal-body"},Wl={key:0,class:"reviews-container"},Zl={key:0},Gl={class:"overflow-auto",style:{"max-height":"250px","min-height":"250px"}},Kl={class:"mt-2"},Ql={class:"d-flex flex-row p-3"},Jl=["src"],Xl={class:"w-100"},er={class:"d-flex justify-content-between align-items-center"},tr={class:"d-flex flex-row align-items-center"},ar={class:"mr-2"},sr={class:"d-flex float-end flex-row user-feed"},ir={class:"wish"},nr=Ro((()=>(0,s._)("i",{class:"fa fa-heartbeat mr-2"},null,-1))),or={class:"text-justify comment-text mb-0"},lr={key:1,style:{"margin-top":"20px"}},rr={class:"overflow-auto",style:{"max-height":"250px","min-height":"250px"}},dr={class:"mt-2"},ur={class:"d-flex flex-row p-3"},cr=["src"],pr={class:"w-100"},mr={class:"d-flex justify-content-between align-items-center"},hr={class:"d-flex flex-row align-items-center"},gr={class:"mr-2"},vr={class:"d-flex float-end flex-row user-feed"},br={class:"wish"},fr=Ro((()=>(0,s._)("i",{class:"fa fa-heartbeat mr-2"},null,-1))),yr={class:"text-justify comment-text mb-0"},wr={key:1},_r=Ro((()=>(0,s._)("div",{class:"modal-footer"},[(0,s._)("button",{type:"button",class:"custom-btn button-primary",id:"close-btn","data-bs-dismiss":"modal"},"Close")],-1)));function kr(e,t,a,n,o,l){const r=(0,s.up)("v-date-picker");return(0,s.wg)(),(0,s.iD)(s.HY,null,[o.loaded?((0,s.wg)(),(0,s.iD)("div",Eo,[(0,s._)("div",Ao,[(0,s._)("div",zo,[(0,s._)("h3",So,(0,i.zw)(o.rentingEntity.name),1),(0,s._)("h5",{class:"rating-container star-heading","data-bs-toggle":"modal",onClick:t[0]||(t[0]=e=>l.loadReviews()),"data-bs-target":"#modalReviews"},(0,i.zw)(Math.round(10*o.rentingEntity.rating)/10)+" ⭐ ("+(0,i.zw)(o.rentingEntity.reviewsNumber)+")",1)]),(0,s._)("div",To,[(0,s._)("div",Vo,[o.isSubscribed?((0,s.wg)(),(0,s.iD)("button",{key:1,style:{"margin-right":"20px"},class:"custom-btn button-primary",onClick:t[2]||(t[2]=e=>l.unSubscribe())},"Unsubscribe")):((0,s.wg)(),(0,s.iD)("button",{key:0,style:{"margin-right":"20px"},class:"custom-btn button-primary",onClick:t[1]||(t[1]=e=>l.subscribe())},"Subscribe")),(0,s._)("button",{type:"button",onClick:t[3]||(t[3]=(...e)=>l.toggleMakingReservation&&l.toggleMakingReservation(...e)),class:"custom-btn button-primary","data-bs-toggle":"modal","data-bs-target":"#modalReservation"},"Custom reservation")])])]),(0,s._)("div",Ho,[(0,s._)("div",jo,[(0,s._)("div",Lo,[(0,s._)("img",{class:"carousel-image d-block w-100",alt:"Active picture",src:"data:image/jpeg;base64,"+o.pictures.at(0)},null,8,Bo)]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.pictures.slice(1),((e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"carousel-item",key:t},[(0,s._)("img",{class:"carousel-image d-block w-100",alt:"Item picture",src:"data:image/jpeg;base64,"+e},null,8,Fo)])))),128))]),Oo]),(0,s._)("div",qo,[(0,s._)("div",Mo,[(0,s._)("div",null,[Yo,(0,s.Uk)(" "+(0,i.zw)(o.rentingEntity.address),1)]),(0,s._)("div",null,[Wo,(0,s.Uk)(" "+(0,i.zw)(o.rentingEntity.promoDescription),1)]),(0,s._)("div",null,[Zo,(0,s.Uk)(" "+(0,i.zw)(o.rentingEntity.behaviourRules),1)]),(0,s._)("div",null,[Go,(0,s.Uk)(" "+(0,i.zw)(o.rentingEntity.priceList)+"€",1)]),(0,s._)("div",null,[Ko,(0,s.Uk)((0,i.zw)(o.rentingEntity.additionalInfo),1)]),(0,s._)("div",null,[Qo,(0,s.Uk)((0,i.zw)(o.rentingEntity.cancellationConditions),1)]),0==this.displayType?((0,s.wg)(),(0,s.iD)("div",Jo,[Xo,(0,s.Uk)((0,i.zw)(o.rentingEntity.roomsQuantity)+" rooms, "+(0,i.zw)(o.rentingEntity.bedsPerRoom)+" beds per room",1)])):(0,s.kq)("",!0),1==this.displayType?((0,s.wg)(),(0,s.iD)("div",el,[tl,(0,s.Uk)((0,i.zw)(o.rentingEntity.type),1)])):(0,s.kq)("",!0),1==this.displayType?((0,s.wg)(),(0,s.iD)("div",al,[sl,(0,s.Uk)((0,i.zw)(o.rentingEntity.length),1)])):(0,s.kq)("",!0),1==this.displayType?((0,s.wg)(),(0,s.iD)("div",il,[nl,(0,s.Uk)((0,i.zw)(o.rentingEntity.engineNumber),1)])):(0,s.kq)("",!0),1==this.displayType?((0,s.wg)(),(0,s.iD)("div",ol,[ll,(0,s.Uk)((0,i.zw)(o.rentingEntity.enginePower),1)])):(0,s.kq)("",!0),1==this.displayType?((0,s.wg)(),(0,s.iD)("div",rl,[dl,(0,s.Uk)((0,i.zw)(o.rentingEntity.topSpeed),1)])):(0,s.kq)("",!0),1==this.displayType?((0,s.wg)(),(0,s.iD)("div",ul,[cl,(0,s.Uk)((0,i.zw)(o.rentingEntity.clientLimit),1)])):(0,s.kq)("",!0),2==this.displayType?((0,s.wg)(),(0,s.iD)("div",pl,[ml,(0,s.Uk)((0,i.zw)(o.rentingEntity.instructorBiography),1)])):(0,s.kq)("",!0),2==this.displayType?((0,s.wg)(),(0,s.iD)("div",hl,[gl,(0,s.Uk)((0,i.zw)(o.rentingEntity.clientLimit),1)])):(0,s.kq)("",!0)]),(0,s._)("div",vl,[(0,s._)("iframe",{class:"google-map",src:"https://maps.google.com/maps?q="+o.rentingEntity.address+"&t=&z=13&ie=UTF8&iwloc=&output=embed"},null,8,bl)])]),fl,(0,s._)("div",yl,[0!==this.offers.length?((0,s.wg)(),(0,s.iD)("h4",wl,"Offers:")):(0,s.kq)("",!0),(0,s._)("div",_l,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(this.offers,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"offer",index:t,key:e.id},[(0,s._)("div",xl,[(0,s._)("div",Pl,[(0,s._)("div",null,[Cl,(0,s.Uk)(" "+(0,i.zw)(e.place),1)]),(0,s._)("div",null,[Ul,(0,s.Uk)(" "+(0,i.zw)(e.price),1)]),(0,s._)("div",null,[Il,(0,s.Uk)((0,i.zw)(e.clientLimit),1)]),(0,s._)("div",null,[$l,(0,s.Uk)((0,i.zw)(e.start),1)]),(0,s._)("div",null,[Dl,(0,s.Uk)((0,i.zw)(l.msToTime(e.duration)),1)]),0!=e.additionalServices.length?((0,s.wg)(),(0,s.iD)("div",Nl,[Rl,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.additionalServices.slice(0,-1),(e=>((0,s.wg)(),(0,s.iD)("span",{key:e},(0,i.zw)(e)+", ",1)))),128)),(0,s._)("span",null,(0,i.zw)(e.additionalServices.at(-1)),1)])):(0,s.kq)("",!0)]),(0,s._)("div",El,[(0,s._)("button",{class:"custom-btn button-primary",onClick:a=>l.makeReservation(e,t)},"Make a reservation",8,Al)])])],8,kl)))),128))])])])):(0,s.kq)("",!0),(0,s._)("div",zl,[(0,s._)("div",Sl,[(0,s._)("div",Tl,[(0,s._)("div",Vl,[o.loadedCalendar?((0,s.wg)(),(0,s.iD)("div",Hl,[(0,s.Wm)(r,{style:{width:"100%"},modelValue:o.range,"onUpdate:modelValue":t[4]||(t[4]=e=>o.range=e),mode:"dateTime",color:"blue",is24hr:"","minute-increment":30,"is-range":"","min-date":e.minDate,"max-date":e.maxDate,attributes:l.attributes},null,8,["modelValue","min-date","max-date","attributes"])])):(0,s.kq)("",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.additionalServices,(e=>((0,s.wg)(),(0,s.iD)("div",{style:{"margin-top":"10px"},key:e},[(0,s._)("span",jl,(0,i.zw)(e),1),(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":t[5]||(t[5]=e=>o.selectedServices=e),value:e,checked:""},null,8,Ll),[[y.e8,o.selectedServices]])])))),128))]),(0,s._)("div",Bl,[Fl,(0,s._)("button",{type:"button",onClick:t[6]||(t[6]=(...e)=>l.confirmReservation&&l.confirmReservation(...e)),class:"custom-btn button-primary","data-bs-dismiss":"modal"},"Confirm")])])])]),(0,s._)("div",Ol,[(0,s._)("div",ql,[(0,s._)("div",Ml,[(0,s._)("div",Yl,[o.reviewsEntity.length>0||o.reviewsOwner.length>0?((0,s.wg)(),(0,s.iD)("div",Wl,[this.reviewsEntity.length>0?((0,s.wg)(),(0,s.iD)("h4",Zl,(0,i.zw)(o.reviewsEntity.at(0).entityName)+" reviews:",1)):(0,s.kq)("",!0),(0,s._)("div",Gl,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(this.reviewsEntity,(e=>((0,s.wg)(),(0,s.iD)("div",{class:"single-review",key:e,style:{"border-bottom":"0.1px solid #00587a"}},[(0,s._)("div",Kl,[(0,s._)("div",Ql,[(0,s._)("img",{src:"data:image/jpeg;base64,"+e.commenterImage,width:"60",height:"60",style:{"margin-right":"20px"},class:"rounded float-start",alt:"PP"},null,8,Jl),(0,s._)("div",Xl,[(0,s._)("div",er,[(0,s._)("div",tr,[(0,s._)("span",ar,(0,i.zw)(e.commenter),1)])]),(0,s._)("div",sr,[(0,s._)("span",ir,[nr,(0,s.Uk)((0,i.zw)(e.rating)+" ⭐",1)])]),(0,s._)("p",or,(0,i.zw)(e.text),1)])])])])))),128))]),this.reviewsOwner.length>0?((0,s.wg)(),(0,s.iD)("h4",lr,(0,i.zw)(o.reviewsOwner.at(0).ownerName)+" reviews:",1)):(0,s.kq)("",!0),(0,s._)("div",rr,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(this.reviewsOwner,(e=>((0,s.wg)(),(0,s.iD)("div",{class:"single-review",key:e,style:{"border-bottom":"0.1px solid #00587a"}},[(0,s._)("div",dr,[(0,s._)("div",ur,[(0,s._)("img",{src:"data:image/jpeg;base64,"+e.commenterImage,width:"60",height:"60",style:{"margin-right":"20px"},class:"rounded float-start",alt:"PP"},null,8,cr),(0,s._)("div",pr,[(0,s._)("div",mr,[(0,s._)("div",hr,[(0,s._)("span",gr,(0,i.zw)(e.commenter),1)])]),(0,s._)("div",vr,[(0,s._)("span",br,[fr,(0,s.Uk)((0,i.zw)(e.rating)+" ⭐",1)])]),(0,s._)("p",yr,(0,i.zw)(e.text),1)])])])])))),128))])])):((0,s.wg)(),(0,s.iD)("div",wr," No reviews to display currently "))]),_r])])])],64)}var xr={name:"RentingEntityPreview",data(){let e=[];return{id:0,displayType:0,rentingEntity:{},selectedOffer:{},selected:!1,date:null,pictures:[],reviewsOwner:[],reviewsEntity:[],isSubscribed:!1,index:0,offers:[],additionalServices:[],selectedServices:[],loaded:!1,loadedCalendar:!1,takenDates:[],range:{start:null,end:null},incId:e.length,takenDatesPoppers:e,bars:[]}},mounted(){let e,t,a;if(this.minDate=null,this.maxDate=null,this.displayType=this.$route.params.displayType,this.id=this.$route.params.id,this.loaded=!1,0==this.displayType&&void 0!=this.id?(e="https://renting-buddy-spring.herokuapp.com/api/vacationHouses/anyUser/"+this.id,t="https://renting-buddy-spring.herokuapp.com/api/vacationHouses/anyUser/"+this.id+"/offers",a="https://renting-buddy-spring.herokuapp.com/api/vacationHouses/anyUser/"+this.id+"/pictures/all"):1==this.displayType&&void 0!=this.id?(e="https://renting-buddy-spring.herokuapp.com/api/ships/anyUser/"+this.id,t="https://renting-buddy-spring.herokuapp.com/api/ships/anyUser/"+this.id+"/offers",a="https://renting-buddy-spring.herokuapp.com/api/ships/anyUser/"+this.id+"/pictures/all"):void 0!=this.id&&(e="https://renting-buddy-spring.herokuapp.com/api/fishingClasses/anyUser/"+this.id,t="https://renting-buddy-spring.herokuapp.com/api/fishingClasses/anyUser/"+this.id+"/offers",a="https://renting-buddy-spring.herokuapp.com/api/fishingClasses/anyUser/"+this.id+"/pictures/all"),h().get(e).then((e=>{this.rentingEntity=e.data,this.loaded=!0})),h().get(a).then((e=>{for(let t=0;t<e.data.length;t++)this.pictures.push(e.data[t])})),h().get(t).then((e=>this.offers=e.data)),"null"!=localStorage.getItem("jwt")&&"CLIENT"==this.$root.loggedUser.accountType){const e="https://renting-buddy-spring.herokuapp.com/api/clients/isSubscribed/"+this.id;h().get(e,{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>{this.isSubscribed=e.data}))}},computed:{attributes(){return[...this.bars,...this.takenDatesPoppers.map((e=>({dates:e.dates,dot:{color:e.color,class:e.isComplete?"opacity-75":""},popover:{label:e.description},customData:e})))]}},methods:{msToTime(e){var t=Math.floor(e/6e4%60),a=Math.floor(e/36e5%24);return t>0?a+"H "+t:a+"H"},dateFromLocal(e){if(null==e)return new Date;const t=e.split(" ");if(2!=t.length)return new Date;const a=t[0].split(".");if(3!=a.length)return new Date;const s=t[1].split(":");if(2!=s.length)return new Date;const i=a[0],n=a[1],o=a[2],l=s[0],r=s[1],d=new Date(o,n-1,i,l,r);return d},subscribe(){"null"!=localStorage.getItem("jwt")?"CLIENT"==this.$root.loggedUser.accountType?h().put("https://renting-buddy-spring.herokuapp.com/api/clients/subscribe",this.rentingEntity,{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>{1==e.data?(this.$toast.success("Subscribed"),this.isSubscribed=!0):(this.$toast.error("Error"),this.isSubscribed=!1)})):this.$toast.error("Only available for clients"):this.$router.push("/loginPage")},unSubscribe(){"null"!=localStorage.getItem("jwt")?"CLIENT"==this.$root.loggedUser.accountType?h().put("https://renting-buddy-spring.herokuapp.com/api/clients/unSubscribe",this.rentingEntity,{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>{1==e.data?(this.$toast.success("Unsubscribed"),this.isSubscribed=!1):(this.$toast.error("Error"),this.isSubscribed=!0)})):this.$toast.error("Only available for clients"):this.$router.push("/loginPage")},generateBar(e){let t="red";"Offer"==e.type&&(t="blue");let a=[],s=this.dateFromLocal(e.takenTo);for(var i=this.dateFromLocal(e.takenFrom);i<=s;i.setDate(i.getDate()+1)){const e=new Date(i);a.push(e)}const n={dates:a,bar:t};this.bars.push(n)},generatePopover(e){let t="red";"Offer"==e.type&&(t="blue");const a={description:e.startsAt,isComplete:!1,dates:this.dateFromLocal(e.takenFrom),color:t},s={description:e.endsAt,isComplete:!1,dates:this.dateFromLocal(e.takenTo),color:t};this.takenDatesPoppers.push(a),this.takenDatesPoppers.push(s)},takeCalendar(e){this.bars=[],this.takenDatesPoppers=[],e.forEach(this.generateBar),e.forEach(this.generatePopover),this.takenDates=e},toggleMakingReservation(){if("null"==localStorage.getItem("jwt"))return void this.$router.push("/loginPage");if("CLIENT"!=this.$root.loggedUser.accountType)return void this.$toast.error("Only available for clients");let e;h().get(`https://renting-buddy-spring.herokuapp.com/api/clients/rentingEntityAvailability/${this.rentingEntity.id}`,{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>{this.takeCalendar(e.data);const t=this.dateFromLocal(this.rentingEntity.availableFrom),a=this.dateFromLocal(this.rentingEntity.availableTo),s=new Date;this.minDate=t<=s?s:t,this.maxDate=a<=s?s:a;let i="Renting entity available from "+this.minDate.getHours()+":"+this.minDate.getMinutes(),n="Renting entity available till "+this.maxDate.getHours()+":"+this.maxDate.getMinutes();a<s&&t<s&&(this.$toast.error("Entity is not available currently"),i="Not available",n="Not available");const o={description:i,isComplete:!1,dates:this.minDate,color:"green"},l={description:n,isComplete:!1,dates:this.maxDate,color:"green"};this.takenDatesPoppers.push(o),this.takenDatesPoppers.push(l),this.loadedCalendar=!0})),e=0==this.displayType?"https://renting-buddy-spring.herokuapp.com/api/vacationHouseOwners/getServices/"+this.rentingEntity.ownerId:1==this.displayType?"https://renting-buddy-spring.herokuapp.com/api/shipOwners/getServices/"+this.rentingEntity.ownerId:"https://renting-buddy-spring.herokuapp.com/api/fishingInstructors/getServices/"+this.rentingEntity.ownerId,h().get(e,{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>this.additionalServices=e.data))},freeSlot(e,t){for(let a=0;a<this.takenDates.length;a++){const s=this.dateFromLocal(this.takenDates[a].takenFrom),i=this.dateFromLocal(this.takenDates[a].takenTo);if(e>=s&&t<=i||e<=s&&t>=i||e>=s&&e<=i||t<=i&&t>=s||e<this.minDate||t>this.maxDate)return!1}return!0},confirmReservation(){const e=this.range.start,t=this.range.end;if(this.freeSlot(e,t)){let a=0;if(a=0==this.displayType?this.rentingEntity.roomsQuantity*this.rentingEntity.bedsPerRoom:this.rentingEntity.clientLimit,3==this.$root.loggedUser.penalties)return void this.$toast.error("You can not make a reservation. You have 3 penalties. Wait for next month.");if(this.minDate==this.maxDate)return;const s={place:this.rentingEntity.address,clientLimit:a,additionalServices:this.selectedServices,price:this.rentingEntity.priceList,rentingEntityId:this.rentingEntity.id,start:e,end:t};h().post("https://renting-buddy-spring.herokuapp.com/api/clients/makeReservationFull",s,{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>{1==e.data?this.$toast.success("Reservation made"):423==e.status?this.$toast.error("Try later."):this.$toast.error("Error")}))}else this.$toast.error("Select free date")},classifyReview(e){e.forOwner?this.reviewsOwner.push(e):this.reviewsEntity.push(e)},loadReviews(){let e;0==this.displayType&&void 0!=this.id?e="https://renting-buddy-spring.herokuapp.com/api/vacationHouses/anyUser/"+this.id+"/reviews":1==this.displayType&&void 0!=this.id?e="https://renting-buddy-spring.herokuapp.com/api/ships/anyUser/"+this.id+"/reviews":void 0!=this.id&&(e="https://renting-buddy-spring.herokuapp.com/api/fishingClasses/anyUser/"+this.id+"/reviews"),h().get(e).then((e=>{e.data.forEach(this.classifyReview)}))},makeReservation(e,t){"null"!=localStorage.getItem("jwt")?"CLIENT"==this.$root.loggedUser.accountType?3!=this.$root.loggedUser.penalties?h().post("https://renting-buddy-spring.herokuapp.com/api/offers/makeQuickReservation",e,{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>{1==e.data?(this.$toast.success("Reservation made"),this.offers.splice(t,1)):this.$toast.error("You can not make a reservation. You have 3 penalties. Wait for next month.")})):this.$toast.error("You can not make a reservation. You have 3 penalties. Wait for next month."):this.$toast.error("Only available for clients"):this.$router.push("/loginPage")},updateRating(){this.rating=4.1}}};const Pr=(0,v.Z)(xr,[["render",kr],["__scopeId","data-v-86af5bc6"]]);var Cr=Pr;const Ur=e=>((0,s.dD)("data-v-2834edf8"),e=e(),(0,s.Cn)(),e),Ir={key:0,id:"userDiv"},$r=["src"],Dr=Ur((()=>(0,s._)("br",null,null,-1))),Nr=Ur((()=>(0,s._)("br",null,null,-1))),Rr={style:{}},Er={style:{"max-width":"250px"}},Ar={style:{"max-width":"250px"}},zr={style:{"max-width":"250px"}},Sr={style:{"max-width":"250px"}},Tr={style:{"max-width":"250px"}};function Vr(e,t,a,n,o,l){return o.loaded?((0,s.wg)(),(0,s.iD)("div",Ir,[(0,s._)("div",null,[(0,s._)("img",{src:"data:image/jpeg;base64,"+o.picture,style:{width:"300px",height:"200px"},alt:"...Profile picture..."},null,8,$r),Dr,Nr,(0,s._)("h1",Rr,(0,i.zw)(o.user.firstName)+" "+(0,i.zw)(o.user.lastName),1),(0,s._)("p",Er,"E-mail: "+(0,i.zw)(o.user.email),1),(0,s._)("p",Ar,"Address: "+(0,i.zw)(o.user.address),1),(0,s._)("p",zr,"City: "+(0,i.zw)(o.user.city),1),(0,s._)("p",Sr,"Country: "+(0,i.zw)(o.user.country),1),(0,s._)("p",Tr,"Phone Number: "+(0,i.zw)(o.user.phoneNum),1)])])):(0,s.kq)("",!0)}var Hr={name:"UserProfilePreview",data(){return{loaded:!1,username:null,picture:null,user:{}}},mounted(){this.username=this.$route.params.username,h().get(`https://renting-buddy-spring.herokuapp.com//api/users/userPreview/${this.username}`).then((e=>{this.user=e.data,this.loaded=!0})).catch((e=>{404===e.response.status&&this.$router.push({name:"notFoundPage"})})),h().get(`https://renting-buddy-spring.herokuapp.com//api/users/userPreview/${this.username}/picture`).then((e=>{this.picture=e.data}))}};const jr=(0,v.Z)(Hr,[["render",Vr],["__scopeId","data-v-2834edf8"]]);var Lr=jr,Br=a(8953);const Fr={class:"main-container"},Or={class:"heading-flex"},qr={class:"heading-left"},Mr={class:"main-heading"},Yr={class:"star-heading"},Wr={class:"heading-right"},Zr={class:"heading-right-buttons"},Gr={id:"carouselExampleControls",class:"carousel slide","data-bs-ride":"carousel"},Kr={class:"carousel-inner"},Qr={class:"carousel-item active"},Jr=["src"],Xr=["src"],ed=(0,s.uE)('<button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev"><span class="carousel-control-prev-icon" aria-hidden="true"></span><span class="visually-hidden">Previous</span></button><button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next"><span class="carousel-control-next-icon" aria-hidden="true"></span><span class="visually-hidden">Next</span></button>',2),td={class:"main-description"},ad={class:"inner-description"},sd=(0,s._)("b",null,"Address: ",-1),id=(0,s._)("b",null,"Description: ",-1),nd=(0,s._)("b",null,"Behaviour rules: ",-1),od=(0,s._)("b",null,"Price: ",-1),ld=(0,s._)("b",null,"Additional info: ",-1),rd=(0,s._)("b",null,"Cancellation conditions: ",-1),dd=(0,s._)("b",null,"Type: ",-1),ud=(0,s._)("b",null,"Length: ",-1),cd=(0,s._)("b",null,"Engine Number: ",-1),pd=(0,s._)("b",null,"Engine Power: ",-1),md=(0,s._)("b",null,"Top Speed: ",-1),hd=(0,s._)("b",null,"Client Limit: ",-1),gd=(0,s._)("b",null,"Availability:",-1),vd={class:"google-map-container"},bd=["src"],fd=(0,s._)("hr",null,null,-1),yd={class:"modal fade",id:"modal",tabindex:"-1","aria-hidden":"true"},wd={class:"modal-dialog modal-lg"},_d={class:"modal-content"},kd={class:"modal-body"},xd={class:"form-floating mb-3"},Pd=(0,s._)("label",{for:"floatName"},"Title",-1),Cd={class:"form-floating mb-3"},Ud=(0,s._)("label",{for:"floatAddress"},"Address",-1),Id={class:"form-floating mb-3"},$d=(0,s._)("label",{for:"floatPromoDescription"},"Description",-1),Dd={class:"form-floating mb-3"},Nd=(0,s._)("label",{for:"floatBehaviourRules"},"Behaviour rules",-1),Rd={class:"form-floating mb-3"},Ed=(0,s._)("label",{for:"floatPriceList"},"Price",-1),Ad={class:"form-floating mb-3"},zd=(0,s._)("label",{for:"floatAdditionalInfo"},"Additional info",-1),Sd={class:"form-floating mb-3"},Td=(0,s._)("label",{for:"floatCancellationConditions"},"Cancellation conditions",-1),Vd={class:"form-floating mb-3"},Hd=(0,s._)("label",{for:"floatType"},"Type",-1),jd={class:"form-floating mb-3"},Ld=(0,s._)("label",{for:"flotLength"},"Type",-1),Bd={class:"form-floating mb-3"},Fd=(0,s._)("label",{for:"floatEngineNumber"},"Engine number",-1),Od={class:"form-floating mb-3"},qd=(0,s._)("label",{for:"floatEnginePower"},"Engine power",-1),Md={class:"form-floating mb-3"},Yd=(0,s._)("label",{for:"floatTopSpeed"},"Top speed",-1),Wd={class:"form-floating mb-3"},Zd=(0,s._)("label",{for:"floatClientLimit"},"Client limit",-1),Gd={class:"modal-footer"},Kd={class:"modal fade",id:"modalOffer",tabindex:"-1","aria-hidden":"true"},Qd={class:"modal-dialog"},Jd={class:"modal-content"},Xd={class:"modal-body"},eu={class:"form-floating mb-3"},tu=(0,s._)("label",{for:"floatClientLimitOffer"},"Client limit",-1),au={class:"form-floating mb-3"},su=(0,s._)("label",{for:"floatPrice"},"Price",-1),iu={class:"mb-3"},nu=(0,s.Uk)(" Additional Services: "),ou={class:"modal-footer"};function lu(e,t,a,n,o,l){const r=(0,s.up)("vue3-star-ratings"),d=(0,s.up)("Datepicker"),u=(0,s.up)("vue3-tags-input");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",Fr,[(0,s._)("div",Or,[(0,s._)("div",qr,[(0,s._)("h3",Mr,(0,i.zw)(n.ship.name),1),(0,s.Wm)(r,{class:"star-ratings",modelValue:n.ship.rating,"onUpdate:modelValue":t[0]||(t[0]=e=>n.ship.rating=e),starSize:"22",showControl:!1,disableClick:!0,step:0},null,8,["modelValue"]),(0,s._)("h5",Yr,"("+(0,i.zw)(n.ship.reviewsNumber)+")",1)]),(0,s._)("div",Wr,[(0,s._)("div",Zr,[(0,s._)("button",{style:{"margin-right":"20px"},type:"button",onClick:t[1]||(t[1]=e=>n.toggleEdit()),class:"custom-btn button-primary","data-bs-toggle":"modal","data-bs-target":"#modal"},"Edit info"),(0,s._)("button",{type:"button",onClick:t[2]||(t[2]=e=>n.toggleCreatingOffer()),class:"custom-btn button-primary","data-bs-toggle":"modal","data-bs-target":"#modalOffer"},"Create offer")])])]),(0,s._)("div",Gr,[(0,s._)("div",Kr,[(0,s._)("div",Qr,[(0,s._)("img",{class:"carousel-image d-block w-100",alt:"Active picture",src:"data:image/jpeg;base64,"+n.pictures.at(0)},null,8,Jr)]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.pictures.slice(1),((e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"carousel-item",key:t},[(0,s._)("img",{class:"carousel-image d-block w-100",alt:"Item picture",src:"data:image/jpeg;base64,"+e},null,8,Xr)])))),128))]),ed]),(0,s._)("div",td,[(0,s._)("div",ad,[(0,s._)("div",null,[sd,(0,s.Uk)(" "+(0,i.zw)(n.ship.address),1)]),(0,s._)("div",null,[id,(0,s.Uk)(" "+(0,i.zw)(n.ship.promoDescription),1)]),(0,s._)("div",null,[nd,(0,s.Uk)(" "+(0,i.zw)(n.ship.behaviourRules),1)]),(0,s._)("div",null,[od,(0,s.Uk)(" "+(0,i.zw)(n.ship.priceList)+" per day",1)]),(0,s._)("div",null,[ld,(0,s.Uk)((0,i.zw)(n.ship.additionalInfo),1)]),(0,s._)("div",null,[rd,(0,s.Uk)((0,i.zw)(n.ship.cancellationConditions),1)]),(0,s._)("div",null,[dd,(0,s.Uk)((0,i.zw)(n.ship.type),1)]),(0,s._)("div",null,[ud,(0,s.Uk)((0,i.zw)(n.ship.length),1)]),(0,s._)("div",null,[cd,(0,s.Uk)((0,i.zw)(n.ship.engineNumber),1)]),(0,s._)("div",null,[pd,(0,s.Uk)((0,i.zw)(n.ship.enginePower),1)]),(0,s._)("div",null,[md,(0,s.Uk)((0,i.zw)(n.ship.topSpeed),1)]),(0,s._)("div",null,[hd,(0,s.Uk)((0,i.zw)(n.ship.clientLimit),1)]),(0,s._)("div",null,[gd,(0,s.Uk)(" From "+(0,i.zw)(n.ship.availableFrom)+" to "+(0,i.zw)(n.ship.availableTo),1)])]),(0,s._)("div",vd,[(0,s._)("iframe",{class:"google-map",src:"https://maps.google.com/maps?q="+n.ship.address+"&t=&z=13&ie=UTF8&iwloc=&output=embed"},null,8,bd)])]),fd]),(0,s._)("div",yd,[(0,s._)("div",wd,[(0,s._)("div",_d,[(0,s._)("div",kd,[(0,s._)("div",xd,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>n.ship.name=e),type:"text",class:"form-control",id:"floatName",placeholder:"Title"},null,512),[[y.nr,n.ship.name]]),Pd]),(0,s._)("div",Cd,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>n.ship.address=e),type:"text",class:"form-control",id:"floatAddress",placeholder:"Address"},null,512),[[y.nr,n.ship.address]]),Ud]),(0,s._)("div",Id,[(0,s.wy)((0,s._)("textarea",{style:{height:"100px"},"onUpdate:modelValue":t[5]||(t[5]=e=>n.ship.promoDescription=e),type:"text",class:"form-control",id:"floatPromoDescription",placeholder:"Description"},null,512),[[y.nr,n.ship.promoDescription]]),$d]),(0,s._)("div",Dd,[(0,s.wy)((0,s._)("textarea",{style:{height:"100px"},"onUpdate:modelValue":t[6]||(t[6]=e=>n.ship.behaviourRules=e),type:"text",class:"form-control",id:"floatBehaviourRules",placeholder:"Behaviour rules"},null,512),[[y.nr,n.ship.behaviourRules]]),Nd]),(0,s._)("div",Rd,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>n.ship.priceList=e),type:"text",class:"form-control",id:"floatPriceList",placeholder:"Price"},null,512),[[y.nr,n.ship.priceList]]),Ed]),(0,s._)("div",Ad,[(0,s.wy)((0,s._)("textarea",{style:{height:"100px"},"onUpdate:modelValue":t[8]||(t[8]=e=>n.ship.additionalInfo=e),type:"text",class:"form-control",id:"floatAdditionalInfo",placeholder:"Additional info"},null,512),[[y.nr,n.ship.additionalInfo]]),zd]),(0,s._)("div",Sd,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[9]||(t[9]=e=>n.ship.cancellationConditions=e),type:"text",class:"form-control",id:"floatCancellationConditions",placeholder:"Cancellation conditions"},null,512),[[y.nr,n.ship.cancellationConditions]]),Td]),(0,s._)("div",Vd,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[10]||(t[10]=e=>n.ship.type=e),type:"text",class:"form-control",id:"floatType",placeholder:"Type"},null,512),[[y.nr,n.ship.type]]),Hd]),(0,s._)("div",jd,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[11]||(t[11]=e=>n.ship.length=e),type:"text",class:"form-control",id:"flotLength",placeholder:"Length"},null,512),[[y.nr,n.ship.length]]),Ld]),(0,s._)("div",Bd,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[12]||(t[12]=e=>n.ship.engineNumber=e),type:"text",class:"form-control",id:"floatEngineNumber",placeholder:"Engine number"},null,512),[[y.nr,n.ship.engineNumber]]),Fd]),(0,s._)("div",Od,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[13]||(t[13]=e=>n.ship.enginePower=e),type:"text",class:"form-control",id:"floatEnginePower",placeholder:"Engine power"},null,512),[[y.nr,n.ship.enginePower]]),qd]),(0,s._)("div",Md,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[14]||(t[14]=e=>n.ship.topSpeed=e),type:"text",class:"form-control",id:"floatTopSpeed",placeholder:"Top speed"},null,512),[[y.nr,n.ship.topSpeed]]),Yd]),(0,s._)("div",Wd,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[15]||(t[15]=e=>n.ship.clientLimit=e),type:"text",class:"form-control",id:"floatClientLimit",placeholder:"Client limit"},null,512),[[y.nr,n.ship.clientLimit]]),Zd]),(0,s.Wm)(d,{modelValue:n.availabilityInterval,"onUpdate:modelValue":t[16]||(t[16]=e=>n.availabilityInterval=e),format:n.formatRange,range:""},null,8,["modelValue","format"])]),(0,s._)("div",Gd,[(0,s._)("button",{type:"button",onClick:t[17]||(t[17]=e=>n.cancel()),class:"custom-btn button-primary","data-bs-dismiss":"modal"},"Close"),(0,s._)("button",{type:"button",onClick:t[18]||(t[18]=e=>n.saveEdit()),class:"custom-btn button-primary","data-bs-dismiss":"modal"},"Save changes")])])])]),(0,s._)("div",Kd,[(0,s._)("div",Qd,[(0,s._)("div",Jd,[(0,s._)("div",Xd,[(0,s._)("div",eu,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[19]||(t[19]=e=>n.offer.clientLimit=e),type:"text",class:"form-control",id:"floatClientLimitOffer",placeholder:"Client limit"},null,512),[[y.nr,n.offer.clientLimit]]),tu]),(0,s._)("div",au,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[20]||(t[20]=e=>n.offer.price=e),type:"text",class:"form-control",id:"floatPrice",placeholder:"Price"},null,512),[[y.nr,n.offer.price]]),su]),(0,s._)("div",iu,[nu,(0,s.Wm)(u,{style:{height:"100px"},tags:n.offer.additionalServices,onOnTagsChanged:n.updateTags,class:"form-control","aria-label":"Username","aria-describedby":"additionalServicesOffer"},null,8,["tags","onOnTagsChanged"])]),(0,s.Wm)(d,{modelValue:n.offerInterval,"onUpdate:modelValue":t[21]||(t[21]=e=>n.offerInterval=e),format:n.formatRange,range:""},null,8,["modelValue","format"])]),(0,s._)("div",ou,[(0,s._)("button",{type:"button",onClick:t[22]||(t[22]=e=>n.cancel()),class:"custom-btn button-primary","data-bs-dismiss":"modal"},"Close"),(0,s._)("button",{type:"button",onClick:t[23]||(t[23]=e=>n.createOffer()),class:"custom-btn button-primary","data-bs-dismiss":"modal"},"Save changes")])])])])],64)}var ru=a(3453),du={name:"ShipProfile",components:{Vue3TagsInput:ru.Z},setup(){const e=(0,w.yj)(),t=(0,s.FN)().appContext.config.globalProperties.$toast;let a=(0,Io.iH)(!1),i=(0,Io.iH)(!1),n=(0,Io.iH)(1),o=(0,Io.iH)({id:Number,name:String,address:String,promoDescription:String,availableFrom:String,availableTo:String,behaviourRules:String,priceList:String,additionalInfo:String,cancellationConditions:String,type:String,length:Number,engineNumber:String,enginePower:Number,topSpeed:Number,clientLimit:Number}),l=(0,Io.iH)([]),r=(0,Io.iH)([]),d=(0,Io.iH)({start:String,duration:Number,clientLimit:"",additionalServices:[],price:"",id:null,place:o.value.address,rentingEntityId:o.value.id}),u=(0,Io.iH)([]),c=(0,Io.iH)([]);function p(){a.value=!0}function m(){i.value=!0}function g(){a.value=!1,i.value=!1}function v(){o.value.availableFrom=_(r.value[0]),o.value.availableTo=_(r.value[1]),h().put(`https://renting-buddy-spring.herokuapp.com/api/ships/${n.value}`,o.value).then((e=>{o.value=e.data,t.success("Info updated")})),a.value=!1}function b(){d.value.start=_(u.value[0]),d.value.duration=u.value[1]-u.value[0],d.value.place=o.value.address,d.value.rentingEntityId=parseInt(n.value),h().post("https://renting-buddy-spring.herokuapp.com/api/offers/new",d.value).then((e=>{d.value=e.data,t.success("Info updated")})),i.value=!1}function f(e){d.value.additionalServices=e}function y(e){let t=e.split(" "),a=t[0],s=t[1];t=a.split(".");let i=parseInt(t[0]),n=parseInt(t[1])-1,o=parseInt(t[2]);t=s.split(":");let l=parseInt(t[0]),r=parseInt(t[1]);return new Date(o,n,i,l,r)}function _(e){let t=("0"+e.getDate()).slice(-2),a=("0"+(e.getMonth()+1)).slice(-2),s=e.getFullYear(),i=("0"+e.getHours()).slice(-2),n=("0"+e.getMinutes()).slice(-2);return`${t}.${a}.${s} ${i}:${n}`}(0,s.bv)((()=>{void 0!==e.params.id&&(n.value=e.params.id),h().get(`https://renting-buddy-spring.herokuapp.com/api/ships/${n.value}`).then((e=>{o.value=e.data,r.value=[y(o.value.availableFrom),y(o.value.availableTo)]})),h().get(`https://renting-buddy-spring.herokuapp.com/api/ships/${n.value}/pictures/all`).then((e=>{for(let t=0;t<e.data.length;t++)l.value.push(e.data[t])}))}));const k=e=>{let t=e[0],a=e[1];const s=t.getDate(),i=t.getMonth()+1,n=t.getFullYear(),o=t.getHours(),l=t.getMinutes(),r=a.getDate(),d=a.getMonth()+1,u=a.getFullYear(),c=a.getHours(),p=a.getMinutes();return`${s}.${i}.${n} ${o}:${l} - ${r}.${d}.${u} ${c}:${p}`};return{editing:a,creatingOffer:i,ship:o,pictures:l,availabilityInterval:r,offer:d,offerInterval:u,tags:c,toggleEdit:p,toggleCreatingOffer:m,cancel:g,saveEdit:v,createOffer:b,updateTags:f,formatRange:k}}};const uu=(0,v.Z)(du,[["render",lu]]);var cu=uu,pu=a(4255),mu=a.n(pu),hu=a(2612),gu=a.n(hu),vu=a(1430);const bu={class:"main-container"},fu={style:{display:"flex"},class:""},yu={style:{float:"left",width:"50%"}},wu={class:"name-heading"},_u={class:"username-heading"},ku={class:"nav nav-tabs justify-content-end"},xu={class:"nav-item"},Pu={class:"nav-item"},Cu={class:"nav-item"};function Uu(e,t,a,n,o,l){const r=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("div",bu,[(0,s._)("div",fu,[(0,s._)("div",yu,[(0,s._)("h3",wu,(0,i.zw)(n.owner.firstName)+" "+(0,i.zw)(n.owner.lastName),1),(0,s._)("h5",_u,"@"+(0,i.zw)(n.owner.username),1)]),(0,s._)("div",null,[(0,s._)("ul",ku,[(0,s._)("li",xu,[(0,s._)("a",{class:(0,i.C_)(["nav-link",{active:"homePage"===n.page||null==n.page}]),"aria-current":"page",onClick:t[0]||(t[0]=e=>n.routePage("homePage"))},(0,i.zw)(n.buttonLabel),3)]),(0,s._)("li",Pu,[(0,s._)("a",{class:(0,i.C_)(["nav-link",{active:"infoPage"===n.page}]),onClick:t[1]||(t[1]=e=>n.routePage("infoPage"))},"Profile Information",2)]),(0,s._)("li",Cu,[(0,s._)("a",{class:(0,i.C_)(["nav-link",{active:"reservationsPage"===n.page}]),onClick:t[2]||(t[2]=e=>n.routePage("reservationsPage"))},"Reservations",2)])])])]),(0,s.Wm)(r)])}var Iu={name:"OwnerProfile",setup(){const e=(0,w.tv)();let t=(0,Io.iH)({}),a=(0,Io.iH)(""),i=(0,Io.iH)("homePage");function n(t){i.value=t,"homePage"===i.value?e.push({name:"ownerHome"}):"infoPage"===i.value?e.push({name:"ownerInfo"}):"reservationsPage"===i.value&&e.push({name:"ownerReservations"})}return(0,s.bv)((()=>{h().get("https://renting-buddy-spring.herokuapp.com/api/users/loggedUser",{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((s=>{console.log("ownerProfile axios then"),t.value=s.data,"VH_OWNER"===s.data.accountType?a.value="Vacation Houses":"SH_OWNER"===s.data.accountType?a.value="Ships":e.push({name:"homePage"}),i.value="homePage",n()}))})),{owner:t,buttonLabel:a,page:i,routePage:n}}};const $u=(0,v.Z)(Iu,[["render",Uu],["__scopeId","data-v-090c184e"]]);var Du=$u;const Nu={class:"left-bar"},Ru={class:"custom-btn button-secondary w-100 mb-3","data-bs-toggle":"modal","data-bs-target":"#addModal"},Eu=(0,s._)("h5",{class:"left-bar-heading"},"Search",-1),Au=(0,s._)("div",{class:"left-bar-text"},"Destination name:",-1),zu=(0,s._)("div",{class:"left-bar-text"},"Date:",-1),Su={class:"flex justify-center items-center"},Tu=["value"],Vu=["value"],Hu=(0,s._)("div",{class:"left-bar-text"},"Sort by:",-1),ju={class:"sort"},Lu=(0,s._)("option",{value:"0"},"Name descending",-1),Bu=(0,s._)("option",{value:"1"},"Name ascending",-1),Fu=(0,s._)("option",{value:"2"},"Price descending",-1),Ou=(0,s._)("option",{value:"3"},"Price ascending",-1),qu=[Lu,Bu,Fu,Ou],Mu={class:"modal fade",id:"addModal",tabindex:"-1","aria-hidden":"true"},Yu={class:"modal-dialog modal-dialog-centered modal-lg"},Wu={class:"modal-content"},Zu={class:"modal-header"},Gu={class:"modal-body"},Ku={class:"form-floating mb-3"},Qu=(0,s._)("label",{for:"addName"},"Title",-1),Ju={class:"form-floating mb-3"},Xu=(0,s._)("label",{for:"addAddress"},"Address",-1),ec={class:"form-floating mb-3"},tc=(0,s._)("label",{for:"addPromoDescription"},"Description",-1),ac={class:"form-floating mb-3"},sc=(0,s._)("label",{for:"addBehaviourRules"},"Behaviour rules",-1),ic={class:"form-floating mb-3"},nc=(0,s._)("label",{for:"addPriceList"},"Price",-1),oc={class:"form-floating mb-3"},lc=(0,s._)("label",{for:"addAdditionalInfo"},"Additional info",-1),rc={class:"form-floating mb-3"},dc=(0,s._)("label",{for:"addCancellationConditions"},"Cancellation conditions",-1),uc={key:0,class:"form-floating mb-3"},cc=(0,s._)("label",{for:"addRoomsQuantity"},"Rooms quantity",-1),pc={key:1,class:"form-floating mb-3"},mc=(0,s._)("label",{for:"addBedsPerRoom"},"Beds per room",-1),hc={key:2,class:"form-floating mb-3"},gc=(0,s._)("label",{for:"addType"},"Type",-1),vc={key:3,class:"form-floating mb-3"},bc=(0,s._)("label",{for:"addLength"},"Length",-1),fc={key:4,class:"form-floating mb-3"},yc=(0,s._)("label",{for:"addEngineNumber"},"Engine number",-1),wc={key:5,class:"form-floating mb-3"},_c=(0,s._)("label",{for:"addEnginePower"},"Engine power",-1),kc={key:6,class:"form-floating mb-3"},xc=(0,s._)("label",{for:"addTopSpeed"},"Top speed",-1),Pc={key:7,class:"form-floating mb-3"},Cc=(0,s._)("label",{for:"addClientLimit"},"Client limit",-1),Uc={class:"modal-footer"},Ic=(0,s._)("button",{type:"button",class:"custom-btn button-primary","data-bs-dismiss":"modal"},"Close",-1),$c={class:"home-entities-div"},Dc={class:"home-entity-picture"},Nc=["src","alt"],Rc={class:"home-entity-content"},Ec={style:{"font-weight":"bold",cursor:"pointer"}},Ac={class:"home-entity-description"},zc=(0,s._)("i",{class:"bi bi-geo-alt-fill"},null,-1),Sc={class:"home-entity-price h-100 d-flex"},Tc={class:"align-self-center"},Vc=["onClick"],Hc=["onClick"],jc=["onClick"],Lc={class:"modal fade",id:"updateModal",tabindex:"-1","aria-hidden":"true"},Bc={class:"modal-dialog modal-dialog-centered modal-lg"},Fc={class:"modal-content"},Oc={key:0,class:"modal-header"},qc={class:"modal-title mx-auto"},Mc={key:1,class:"modal-body"},Yc={class:"form-floating mb-3"},Wc=["onUpdate:modelValue"],Zc=(0,s._)("label",{for:"floatName"},"Title",-1),Gc={class:"form-floating mb-3"},Kc=["onUpdate:modelValue"],Qc=(0,s._)("label",{for:"floatAddress"},"Address",-1),Jc={class:"form-floating mb-3"},Xc=["onUpdate:modelValue"],ep=(0,s._)("label",{for:"floatPromoDescription"},"Description",-1),tp={class:"form-floating mb-3"},ap=["onUpdate:modelValue"],sp=(0,s._)("label",{for:"floatBehaviourRules"},"Behaviour rules",-1),ip={class:"form-floating mb-3"},np=["onUpdate:modelValue"],op=(0,s._)("label",{for:"floatPriceList"},"Price",-1),lp={class:"form-floating mb-3"},rp=["onUpdate:modelValue"],dp=(0,s._)("label",{for:"floatAdditionalInfo"},"Additional info",-1),up={class:"form-floating mb-3"},cp=["onUpdate:modelValue"],pp=(0,s._)("label",{for:"floatCancellationConditions"},"Cancellation conditions",-1),mp={key:0,class:"form-floating mb-3"},hp=["onUpdate:modelValue"],gp=(0,s._)("label",{for:"floatRoomsQuantity"},"Rooms quantity",-1),vp={key:1,class:"form-floating mb-3"},bp=["onUpdate:modelValue"],fp=(0,s._)("label",{for:"floatBedsPerRoom"},"Beds per room",-1),yp={key:2,class:"form-floating mb-3"},wp=["onUpdate:modelValue"],_p=(0,s._)("label",{for:"floatType"},"Type",-1),kp={key:3,class:"form-floating mb-3"},xp=["onUpdate:modelValue"],Pp=(0,s._)("label",{for:"floatLength"},"Length",-1),Cp={key:4,class:"form-floating mb-3"},Up=["onUpdate:modelValue"],Ip=(0,s._)("label",{for:"floatEngineNumber"},"Engine number",-1),$p={key:5,class:"form-floating mb-3"},Dp=["onUpdate:modelValue"],Np=(0,s._)("label",{for:"floatEnginePower"},"Engine power",-1),Rp={key:6,class:"form-floating mb-3"},Ep=["onUpdate:modelValue"],Ap=(0,s._)("label",{for:"floatTopSpeed"},"Top speed",-1),zp={key:7,class:"form-floating mb-3"},Sp=["onUpdate:modelValue"],Tp=(0,s._)("label",{for:"floatClientLimit"},"Client limit",-1),Vp={class:"modal-footer"},Hp=(0,s._)("button",{type:"button",class:"custom-btn button-primary","data-bs-dismiss":"modal"},"Close",-1),jp=["onClick"],Lp={class:"modal fade",id:"deleteModal",tabindex:"-1","aria-hidden":"true"},Bp={class:"modal-dialog modal-dialog-centered modal-lg"},Fp={class:"modal-content"},Op={class:"modal-header"},qp={key:0,class:"modal-title mx-auto"},Mp={key:1,class:"modal-title mx-auto"},Yp={class:"modal-footer"},Wp=(0,s._)("button",{type:"button",class:"custom-btn button-close","data-bs-dismiss":"modal"},"Cancel",-1),Zp=["onClick"];function Gp(e,t,a,n,o,l){const r=(0,s.up)("v-date-picker");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",Nu,[(0,s._)("button",Ru,"Add "+(0,i.zw)(n.entityTypeInfo.title),1),Eu,Au,(0,s._)("div",null,[(0,s.wy)((0,s._)("input",{class:"input-group-text",type:"text",placeholder:"Filter by name, address...","onUpdate:modelValue":t[0]||(t[0]=e=>n.filter=e)},null,512),[[y.nr,n.filter]])]),zu,(0,s.Wm)(r,{modelValue:n.availabilityInterval,"onUpdate:modelValue":t[1]||(t[1]=e=>n.availabilityInterval=e),"is-range":""},{default:(0,s.w5)((({inputValue:e,inputEvents:t})=>[(0,s._)("div",Su,[(0,s._)("input",(0,s.dG)({value:e.start},(0,s.mx)(t.start),{class:"border px-2 py-1 w-32 rounded focus:outline-none focus:border-indigo-300 mb-1 w-100"}),null,16,Tu),(0,s._)("input",(0,s.dG)({value:e.end},(0,s.mx)(t.end),{class:"border px-2 py-1 w-32 rounded focus:outline-none focus:border-indigo-300 w-100"}),null,16,Vu)])])),_:1},8,["modelValue"]),Hu,(0,s._)("div",ju,[(0,s.wy)((0,s._)("select",{class:"form-select","onUpdate:modelValue":t[2]||(t[2]=e=>n.sortType=e),name:"example"},qu,512),[[y.bM,n.sortType]])])]),(0,s._)("div",Mu,[(0,s._)("div",Yu,[(0,s._)("div",Wu,[(0,s._)("div",Zu," Add "+(0,i.zw)(n.entityTypeInfo.title),1),(0,s._)("div",Gu,[(0,s._)("div",Ku,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>n.newEntity.name=e),type:"text",class:"form-control",id:"addName",placeholder:"Title"},null,512),[[y.nr,n.newEntity.name]]),Qu]),(0,s._)("div",Ju,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>n.newEntity.address=e),type:"text",class:"form-control",id:"addAddress",placeholder:"Address"},null,512),[[y.nr,n.newEntity.address]]),Xu]),(0,s._)("div",ec,[(0,s.wy)((0,s._)("textarea",{style:{height:"100px"},"onUpdate:modelValue":t[5]||(t[5]=e=>n.newEntity.promoDescription=e),type:"text",class:"form-control",id:"addPromoDescription",placeholder:"Description"},null,512),[[y.nr,n.newEntity.promoDescription]]),tc]),(0,s._)("div",ac,[(0,s.wy)((0,s._)("textarea",{style:{height:"100px"},"onUpdate:modelValue":t[6]||(t[6]=e=>n.newEntity.behaviourRules=e),type:"text",class:"form-control",id:"addBehaviourRules",placeholder:"Behaviour rules"},null,512),[[y.nr,n.newEntity.behaviourRules]]),sc]),(0,s._)("div",ic,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>n.newEntity.priceList=e),type:"text",class:"form-control",id:"addPriceList",placeholder:"Price"},null,512),[[y.nr,n.newEntity.priceList]]),nc]),(0,s._)("div",oc,[(0,s.wy)((0,s._)("textarea",{style:{height:"100px"},"onUpdate:modelValue":t[8]||(t[8]=e=>n.newEntity.additionalInfo=e),type:"text",class:"form-control",id:"addAdditionalInfo",placeholder:"Additional info"},null,512),[[y.nr,n.newEntity.additionalInfo]]),lc]),(0,s._)("div",rc,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[9]||(t[9]=e=>n.newEntity.cancellationConditions=e),type:"text",class:"form-control",id:"addCancellationConditions",placeholder:"Cancellation conditions"},null,512),[[y.nr,n.newEntity.cancellationConditions]]),dc]),"vacation house"===n.entityTypeInfo.name?((0,s.wg)(),(0,s.iD)("div",uc,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[10]||(t[10]=e=>n.newEntity.roomsQuantity=e),type:"text",class:"form-control",id:"addRoomsQuantity",placeholder:"Rooms quantity"},null,512),[[y.nr,n.newEntity.roomsQuantity]]),cc])):(0,s.kq)("",!0),"vacation house"===n.entityTypeInfo.name?((0,s.wg)(),(0,s.iD)("div",pc,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[11]||(t[11]=e=>n.newEntity.bedsPerRoom=e),type:"text",class:"form-control",id:"addBedsPerRoom",placeholder:"Beds per room"},null,512),[[y.nr,n.newEntity.bedsPerRoom]]),mc])):(0,s.kq)("",!0),"ship"===n.entityTypeInfo.name?((0,s.wg)(),(0,s.iD)("div",hc,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[12]||(t[12]=e=>n.newEntity.type=e),type:"text",class:"form-control",id:"addType",placeholder:"Type"},null,512),[[y.nr,n.newEntity.type]]),gc])):(0,s.kq)("",!0),"ship"===n.entityTypeInfo.name?((0,s.wg)(),(0,s.iD)("div",vc,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[13]||(t[13]=e=>n.newEntity.length=e),type:"text",class:"form-control",id:"addLength",placeholder:"Length"},null,512),[[y.nr,n.newEntity.length]]),bc])):(0,s.kq)("",!0),"ship"===n.entityTypeInfo.name?((0,s.wg)(),(0,s.iD)("div",fc,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[14]||(t[14]=e=>n.newEntity.engineNumber=e),type:"text",class:"form-control",id:"addEngineNumber",placeholder:"Engine number"},null,512),[[y.nr,n.newEntity.engineNumber]]),yc])):(0,s.kq)("",!0),"ship"===n.entityTypeInfo.name?((0,s.wg)(),(0,s.iD)("div",wc,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[15]||(t[15]=e=>n.newEntity.enginePower=e),type:"text",class:"form-control",id:"addEnginePower",placeholder:"Engine power"},null,512),[[y.nr,n.newEntity.enginePower]]),_c])):(0,s.kq)("",!0),"ship"===n.entityTypeInfo.name?((0,s.wg)(),(0,s.iD)("div",kc,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[16]||(t[16]=e=>n.newEntity.topSpeed=e),type:"text",class:"form-control",id:"addTopSpeed",placeholder:"Top speed"},null,512),[[y.nr,n.newEntity.topSpeed]]),xc])):(0,s.kq)("",!0),"ship"===n.entityTypeInfo.name?((0,s.wg)(),(0,s.iD)("div",Pc,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[17]||(t[17]=e=>n.newEntity.clientLimit=e),type:"text",class:"form-control",id:"addClientLimit",placeholder:"Client limit"},null,512),[[y.nr,n.newEntity.clientLimit]]),Cc])):(0,s.kq)("",!0)]),(0,s._)("div",Uc,[Ic,(0,s._)("button",{type:"button",onClick:t[18]||(t[18]=(...e)=>n.addEntity&&n.addEntity(...e)),class:"custom-btn button-primary","data-bs-dismiss":"modal"},"Add")])])])]),(0,s._)("div",$c,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.filteredEntities,(e=>((0,s.wg)(),(0,s.iD)("div",{class:"home-list-entities",key:e.id},[(0,s._)("div",Dc,[(0,s._)("img",{src:"data:image/jpeg;base64,"+e.img,alt:e.id,style:{width:"200px",height:"150px",cursor:"pointer"}},null,8,Nc)]),(0,s._)("div",Rc,[(0,s._)("h4",Ec,(0,i.zw)(e.name),1),(0,s._)("div",Ac,[zc,(0,s.Uk)(" "+(0,i.zw)(e.address),1)]),(0,s._)("label",null,(0,i.zw)(Math.round(10*e.rating)/10)+" ⭐",1)]),(0,s._)("div",Sc,[(0,s._)("div",Tc,[(0,s._)("button",{type:"button",class:"custom-btn button-primary d-block w-100",onClick:t=>n.openEntityProfile(e.id)},"Open Profile",8,Vc),(0,s._)("button",{type:"button",class:"custom-btn button-primary d-block w-100",onClick:t=>n.entityHasReservations(e.id),"data-bs-toggle":"modal","data-bs-target":"#updateModal"},"Update",8,Hc),(0,s._)("button",{type:"button",class:"custom-btn button-primary d-block w-100",onClick:t=>n.entityHasReservations(e.id),"data-bs-toggle":"modal","data-bs-target":"#deleteModal"},"Delete",8,jc)])]),(0,s._)("div",Lc,[(0,s._)("div",Bc,[(0,s._)("div",Fc,[n.hasReservations?((0,s.wg)(),(0,s.iD)("div",Oc,[(0,s._)("h5",qc,"This "+(0,i.zw)(n.entityTypeInfo.name)+" is currently reserved",1)])):(0,s.kq)("",!0),n.hasReservations?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Mc,[(0,s._)("div",Yc,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t=>e.name=t,type:"text",class:"form-control",id:"floatName",placeholder:"Title"},null,8,Wc),[[y.nr,e.name]]),Zc]),(0,s._)("div",Gc,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t=>e.address=t,type:"text",class:"form-control",id:"floatAddress",placeholder:"Address"},null,8,Kc),[[y.nr,e.address]]),Qc]),(0,s._)("div",Jc,[(0,s.wy)((0,s._)("textarea",{style:{height:"100px"},"onUpdate:modelValue":t=>e.promoDescription=t,type:"text",class:"form-control",id:"floatPromoDescription",placeholder:"Description"},null,8,Xc),[[y.nr,e.promoDescription]]),ep]),(0,s._)("div",tp,[(0,s.wy)((0,s._)("textarea",{style:{height:"100px"},"onUpdate:modelValue":t=>e.behaviourRules=t,type:"text",class:"form-control",id:"floatBehaviourRules",placeholder:"Behaviour rules"},null,8,ap),[[y.nr,e.behaviourRules]]),sp]),(0,s._)("div",ip,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t=>e.priceList=t,type:"text",class:"form-control",id:"floatPriceList",placeholder:"Price"},null,8,np),[[y.nr,e.priceList]]),op]),(0,s._)("div",lp,[(0,s.wy)((0,s._)("textarea",{style:{height:"100px"},"onUpdate:modelValue":t=>e.additionalInfo=t,type:"text",class:"form-control",id:"floatAdditionalInfo",placeholder:"Additional info"},null,8,rp),[[y.nr,e.additionalInfo]]),dp]),(0,s._)("div",up,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t=>e.cancellationConditions=t,type:"text",class:"form-control",id:"floatCancellationConditions",placeholder:"Cancellation conditions"},null,8,cp),[[y.nr,e.cancellationConditions]]),pp]),"vacation house"===n.entityTypeInfo.name?((0,s.wg)(),(0,s.iD)("div",mp,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t=>e.roomsQuantity=t,type:"text",class:"form-control",id:"floatRoomsQuantity",placeholder:"Rooms quantity"},null,8,hp),[[y.nr,e.roomsQuantity]]),gp])):(0,s.kq)("",!0),"vacation house"===n.entityTypeInfo.name?((0,s.wg)(),(0,s.iD)("div",vp,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t=>e.bedsPerRoom=t,type:"text",class:"form-control",id:"floatBedsPerRoom",placeholder:"Beds per room"},null,8,bp),[[y.nr,e.bedsPerRoom]]),fp])):(0,s.kq)("",!0),"ship"===n.entityTypeInfo.name?((0,s.wg)(),(0,s.iD)("div",yp,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t=>e.type=t,type:"text",class:"form-control",id:"floatType",placeholder:"Type"},null,8,wp),[[y.nr,e.type]]),_p])):(0,s.kq)("",!0),"ship"===n.entityTypeInfo.name?((0,s.wg)(),(0,s.iD)("div",kp,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t=>e.length=t,type:"text",class:"form-control",id:"floatLength",placeholder:"Length"},null,8,xp),[[y.nr,e.length]]),Pp])):(0,s.kq)("",!0),"ship"===n.entityTypeInfo.name?((0,s.wg)(),(0,s.iD)("div",Cp,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t=>e.engineNumber=t,type:"text",class:"form-control",id:"floatEngineNumber",placeholder:"Engine number"},null,8,Up),[[y.nr,e.engineNumber]]),Ip])):(0,s.kq)("",!0),"ship"===n.entityTypeInfo.name?((0,s.wg)(),(0,s.iD)("div",$p,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t=>e.enginePower=t,type:"text",class:"form-control",id:"floatEnginePower",placeholder:"Engine power"},null,8,Dp),[[y.nr,e.enginePower]]),Np])):(0,s.kq)("",!0),"ship"===n.entityTypeInfo.name?((0,s.wg)(),(0,s.iD)("div",Rp,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t=>e.topSpeed=t,type:"text",class:"form-control",id:"floatTopSpeed",placeholder:"Top speed"},null,8,Ep),[[y.nr,e.topSpeed]]),Ap])):(0,s.kq)("",!0),"ship"===n.entityTypeInfo.name?((0,s.wg)(),(0,s.iD)("div",zp,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t=>e.clientLimit=t,type:"text",class:"form-control",id:"floatClientLimit",placeholder:"Client limit"},null,8,Sp),[[y.nr,e.clientLimit]]),Tp])):(0,s.kq)("",!0),(0,s.Wm)(r,{modelValue:e.availabilityInterval,"onUpdate:modelValue":t=>e.availabilityInterval=t,"min-date":new Date,"from-date":e.fromDate,mode:"dateTime","is-range":"","is-expanded":"",is24hr:""},null,8,["modelValue","onUpdate:modelValue","min-date","from-date"])])),(0,s._)("div",Vp,[Hp,n.hasReservations?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:0,type:"button",onClick:t=>n.updateEntity(e),class:"custom-btn button-primary","data-bs-dismiss":"modal"},"Update",8,jp))])])])]),(0,s._)("div",Lp,[(0,s._)("div",Bp,[(0,s._)("div",Fp,[(0,s._)("div",Op,[n.hasReservations?((0,s.wg)(),(0,s.iD)("h5",qp,"This "+(0,i.zw)(n.entityTypeInfo.name)+" is currently reserved",1)):(0,s.kq)("",!0),n.hasReservations?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("h5",Mp,"Are you sure?"))]),(0,s._)("div",Yp,[Wp,n.hasReservations?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:0,type:"button",class:"custom-btn button-primary",onClick:t=>n.deleteEntity(e.id),"data-bs-dismiss":"modal"},"Delete",8,Zp))])])])])])))),128))])],64)}var Kp={name:"OwnerHome",setup(){const e=(0,w.tv)();let t=(0,Io.iH)({name:"",urlPart:"",routeName:""}),a=(0,Io.iH)({}),i=(0,Io.iH)([{}]),n=(0,Io.iH)(""),o=(0,Io.iH)(null),l=(0,Io.iH)(0),r=(0,Io.iH)(),d=(0,Io.iH)({start:new Date,end:new Date});const u=(0,s.Fl)((()=>i.value.filter((e=>k(e))).sort(((e,t)=>x(e,t)))));function c(){h().get(`https://renting-buddy-spring.herokuapp.com/api/${t.value.urlPart}/all`,{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>{i.value=e.data,i.value.forEach((e=>{e.availabilityInterval={start:null,end:null},e.availabilityInterval.start=f(e.availableFrom),e.availabilityInterval.end=f(e.availableTo),e.fromDate=e.availabilityInterval.start}))})).catch((e=>{console.log(e.response)}))}function p(e){h().get(`https://renting-buddy-spring.herokuapp.com/api/${t.value.urlPart}/${e}/hasReservations`,{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>{r.value=e.data}))}function m(){h().post(`https://renting-buddy-spring.herokuapp.com/api/${t.value.urlPart}/`,a.value,{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>{console.log(e.data)})).catch((e=>{console.log(e.response)})),c()}function g(e){e.availableFrom=y(e.availabilityInterval.start),e.availableTo=y(e.availabilityInterval.end),h().put(`https://renting-buddy-spring.herokuapp.com/api/${t.value.urlPart}/${e.id}`,e,{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>{console.log(e.data),c()})).catch((e=>{console.log(e.response)}))}function v(e){h()["delete"](`https://renting-buddy-spring.herokuapp.com/api/${t.value.urlPart}/${e}`,{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>{console.log(e.data),c()})).catch((e=>{console.log(e.response)}))}function b(a){e.push({name:t.value.routeName,params:{id:a}})}function f(e){let t=e.split(" "),a=t[0],s=t[1];t=a.split(".");let i=parseInt(t[0]),n=parseInt(t[1])-1,o=parseInt(t[2]);t=s.split(":");let l=parseInt(t[0]),r=parseInt(t[1]);return new Date(o,n,i,l,r)}function y(e){let t=("0"+e.getDate()).slice(-2),a=("0"+(e.getMonth()+1)).slice(-2),s=e.getFullYear(),i=("0"+e.getHours()).slice(-2),n=("0"+e.getMinutes()).slice(-2);return`${t}.${a}.${s} ${i}:${n}`}function _(e){if(null==e)return new Date;const t=e.split(" ");if(2!==t.length)return new Date;const a=t[0].split(".");if(3!==a.length)return new Date;const s=t[1].split(":");if(2!==s.length)return new Date;const i=a[0],n=a[1],o=a[2],l=s[0],r=s[1];return new Date(o,n-1,i,l,r)}function k(e){if(void 0===e.name||void 0===e.address||void 0===e.priceList||void 0===n.value)return!1;const t=e.name.toString().toLowerCase(),a=e.address.toString().toLowerCase(),s=e.priceList.toString().toLowerCase(),i=n.value.toLowerCase(),l=_(e.availableFrom),r=_(e.availableTo);let d=!1,u=!1;if(null!=o.value){u=!0;let e=o.value.start,t=o.value.end;null==e&&(e=new Date),null==t&&(t=new Date),d=l<=e&&r>=t}return(u&&d||!(u&&!d))&&(t.includes(i)||a.includes(i)||s.includes(i))}function x(e,t){if(0===l.value){let a=e.name.toLowerCase(),s=t.name.toLowerCase();return a<s?-1:a>s?1:0}if(1===l.value){let a=e.name.toLowerCase(),s=t.name.toLowerCase();return a>s?-1:a<s?1:0}if(2===l.value){let a=parseInt(e.priceList),s=parseInt(t.priceList);return a>s?-1:a<s?1:0}if(3===l.value){let a=parseInt(e.priceList),s=parseInt(t.priceList);return a<s?-1:a>s?1:0}}return(0,s.bv)((()=>{console.log("ownerHome onMounted"),h().get("https://renting-buddy-spring.herokuapp.com/api/users/loggedUser",{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((a=>{console.log("ownerHome axios then"),"VH_OWNER"===a.data.accountType?t.value={name:"vacation house",title:"Vacation House",urlPart:"vacationHouses/loggedVacationHouseOwner",routeName:"vacationHouseProfile"}:"SH_OWNER"===a.data.accountType?t.value={name:"ship",title:"Ship",urlPart:"ships/loggedShipOwner",routeName:"shipProfile"}:(console.log("ownerHome axios then push"),e.push({name:"homePage"})),c()})).catch((e=>{console.log(`OwnerHome catch users/loggedUser: ${e.response}`)}))})),{entityTypeInfo:t,filter:n,sortType:l,availabilityInterval:o,filteredEntities:u,hasReservations:r,range:d,newEntity:a,entityHasReservations:p,addEntity:m,updateEntity:g,deleteEntity:v,openEntityProfile:b}}};const Qp=(0,v.Z)(Kp,[["render",Gp]]);var Jp=Qp;const Xp=e=>((0,s.dD)("data-v-5ed6b73b"),e=e(),(0,s.Cn)(),e),em={class:"main-description"},tm={class:"picture-container me-5 text-center"},am=["src"],sm={class:"inner-description"},im=Xp((()=>(0,s._)("b",null,"First Name: ",-1))),nm=Xp((()=>(0,s._)("b",null,"Last Name: ",-1))),om=Xp((()=>(0,s._)("b",null,"E-mail: ",-1))),lm=Xp((()=>(0,s._)("b",null,"Address: ",-1))),rm=Xp((()=>(0,s._)("b",null,"Place: ",-1))),dm=Xp((()=>(0,s._)("b",null,"Country: ",-1))),um=Xp((()=>(0,s._)("b",null,"Phone Number: ",-1))),cm=(0,s.uE)('<div class="modal-button-div" data-v-5ed6b73b><button type="button" class="custom-btn button-primary me-5" data-bs-toggle="modal" data-bs-target="#pictureModal" data-v-5ed6b73b>Change Picture</button><button type="button" class="custom-btn button-primary" data-bs-toggle="modal" data-bs-target="#infoModal" data-v-5ed6b73b>Change Info</button><button type="button" class="custom-btn button-primary" data-bs-toggle="modal" data-bs-target="#passwordModal" data-v-5ed6b73b>Change Password</button><button type="button" class="custom-btn button-primary" data-bs-toggle="modal" data-bs-target="#deleteModal" data-v-5ed6b73b>Delete Account</button></div>',1),pm={class:"modal fade",id:"infoModal",tabindex:"-1","aria-hidden":"true"},mm={class:"modal-dialog modal-lg"},hm={class:"modal-content"},gm=Xp((()=>(0,s._)("div",{class:"modal-header"},[(0,s._)("h5",null,"Change Information")],-1))),vm={class:"modal-body"},bm={class:"form-floating mb-3"},fm=Xp((()=>(0,s._)("label",{for:"modalFirstName"},"First Name",-1))),ym={class:"form-floating mb-3"},wm=Xp((()=>(0,s._)("label",{for:"modalLastName"},"Last Name",-1))),_m={class:"form-floating mb-3"},km=Xp((()=>(0,s._)("label",{for:"modalEmail"},"E-mail",-1))),xm={class:"form-floating mb-3"},Pm=Xp((()=>(0,s._)("label",{for:"modalAddress"},"Address",-1))),Cm={class:"form-floating mb-3"},Um=Xp((()=>(0,s._)("label",{for:"modalCity"},"Place",-1))),Im={class:"form-floating mb-3"},$m=Xp((()=>(0,s._)("label",{for:"modalCountry"},"Country",-1))),Dm={class:"form-floating mb-3"},Nm=Xp((()=>(0,s._)("label",{for:"phoneNumInput"},"Phone Number",-1))),Rm={class:"modal-footer"},Em=Xp((()=>(0,s._)("button",{type:"button",class:"custom-btn button-primary","data-bs-dismiss":"modal"},"Close",-1))),Am={class:"modal fade",id:"passwordModal",tabindex:"-1","aria-hidden":"true"},zm={class:"modal-dialog"},Sm={class:"modal-content"},Tm=Xp((()=>(0,s._)("div",{class:"modal-header"},[(0,s._)("h5",null,"Change Password")],-1))),Vm={class:"modal-body"},Hm={class:"form-floating mb-3"},jm=Xp((()=>(0,s._)("label",{for:"modalOldPassword"},"Old Password",-1))),Lm={class:"form-floating mb-3"},Bm=Xp((()=>(0,s._)("label",{for:"modalNewPassword"},"New Password",-1))),Fm={class:"form-floating mb-3"},Om=Xp((()=>(0,s._)("label",{for:"modalConfirmPassword"},"Confirm Password",-1))),qm={class:"modal-footer"},Mm=Xp((()=>(0,s._)("button",{type:"button",class:"custom-btn button-secondary","data-bs-dismiss":"modal"},"Close",-1))),Ym={class:"modal fade",id:"changePasswordAlertModal",tabindex:"-1","aria-hidden":"true"},Wm={class:"modal-dialog modal-lg"},Zm={class:"modal-content"},Gm={class:"modal-header"},Km={class:"modal-body"},Qm=Xp((()=>(0,s._)("div",{class:"modal-footer"},[(0,s._)("button",{type:"button",class:"custom-btn button-secondary","data-bs-dismiss":"modal"},"Close")],-1))),Jm={class:"modal fade",id:"deleteModal",tabindex:"-1","aria-hidden":"true"},Xm={class:"modal-dialog modal-lg"},eh={class:"modal-content"},th=Xp((()=>(0,s._)("div",{class:"modal-header"},[(0,s._)("h5",null,"Send Request to Delete Your Account")],-1))),ah={class:"modal-body"},sh={class:"form-floating input-group-width"},ih=Xp((()=>(0,s._)("label",{for:"reasonInput"},"Why do you want to delete your account?",-1))),nh={class:"modal-footer"},oh=Xp((()=>(0,s._)("button",{type:"button",class:"custom-btn button-secondary","data-bs-dismiss":"modal"},"Close",-1)));function lh(e,t,a,n,o,l){const r=(0,s.up)("country-select"),d=(0,s.up)("vue-tel-input");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",em,[(0,s._)("div",tm,[(0,s._)("img",{class:"picture rounded-3 mb-3",src:"data:image/jpeg;base64,"+n.picture,alt:"Profile picture"},null,8,am)]),(0,s._)("div",sm,[(0,s._)("div",null,[im,(0,s.Uk)(" "+(0,i.zw)(n.owner.firstName),1)]),(0,s._)("div",null,[nm,(0,s.Uk)(" "+(0,i.zw)(n.owner.lastName),1)]),(0,s._)("div",null,[om,(0,s.Uk)(" "+(0,i.zw)(n.owner.email),1)]),(0,s._)("div",null,[lm,(0,s.Uk)(" "+(0,i.zw)(n.owner.address),1)]),(0,s._)("div",null,[rm,(0,s.Uk)(" "+(0,i.zw)(n.owner.city),1)]),(0,s._)("div",null,[dm,(0,s.Uk)(" "+(0,i.zw)(n.owner.country),1)]),(0,s._)("div",null,[um,(0,s.Uk)(" "+(0,i.zw)(n.owner.phoneNum),1)])])]),cm,(0,s._)("div",pm,[(0,s._)("div",mm,[(0,s._)("div",hm,[gm,(0,s._)("div",vm,[(0,s._)("div",bm,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.owner.firstName=e),type:"text",class:"form-control",id:"modalFirstName",placeholder:"First Name"},null,512),[[y.nr,n.owner.firstName]]),fm]),(0,s._)("div",ym,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>n.owner.lastName=e),type:"text",class:"form-control",id:"modalLastName",placeholder:"Last Name"},null,512),[[y.nr,n.owner.lastName]]),wm]),(0,s._)("div",_m,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>n.owner.email=e),type:"email",class:"form-control",id:"modalEmail",placeholder:"E-mail"},null,512),[[y.nr,n.owner.email]]),km]),(0,s._)("div",xm,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>n.owner.address=e),type:"text",class:"form-control",id:"modalAddress",placeholder:"Address"},null,512),[[y.nr,n.owner.address]]),Pm]),(0,s._)("div",Cm,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>n.owner.city=e),type:"text",class:"form-control",id:"modalCity",placeholder:"Place"},null,512),[[y.nr,n.owner.city]]),Um]),(0,s._)("div",Im,[(0,s.Wm)(r,{modelValue:n.owner.country,"onUpdate:modelValue":t[5]||(t[5]=e=>n.owner.country=e),class:"form-control",id:"modalCountry",usei18n:!1,autocomplete:!0,countryName:!0},null,8,["modelValue"]),$m]),(0,s._)("div",Dm,[(0,s.Wm)(d,{id:"phoneNumInput",class:"form-control",modelValue:n.phoneNum,"onUpdate:modelValue":t[6]||(t[6]=e=>n.phoneNum=e),onValidate:n.telValidate},null,8,["modelValue","onValidate"]),Nm])]),(0,s._)("div",Rm,[Em,(0,s._)("button",{type:"button",onClick:t[7]||(t[7]=(...e)=>n.saveInfoEdit&&n.saveInfoEdit(...e)),class:"custom-btn button-primary","data-bs-dismiss":"modal"},"Save Changes")])])])]),(0,s._)("div",Am,[(0,s._)("div",zm,[(0,s._)("div",Sm,[Tm,(0,s._)("div",Vm,[(0,s._)("div",Hm,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>n.oldPassword=e),type:"text",class:"form-control",id:"modalOldPassword",placeholder:"Old Password"},null,512),[[y.nr,n.oldPassword]]),jm]),(0,s._)("div",Lm,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[9]||(t[9]=e=>n.newPassword=e),type:"text",class:"form-control",id:"modalNewPassword",placeholder:"New Password"},null,512),[[y.nr,n.newPassword]]),Bm]),(0,s._)("div",Fm,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[10]||(t[10]=e=>n.confirmPassword=e),type:"text",class:"form-control",id:"modalConfirmPassword",placeholder:"Confirm Password"},null,512),[[y.nr,n.confirmPassword]]),Om])]),(0,s._)("div",qm,[Mm,(0,s._)("button",{type:"button",onClick:t[11]||(t[11]=(...e)=>n.changePassword&&n.changePassword(...e)),class:"custom-btn button-primary","data-bs-dismiss":"modal"},"Change")])])])]),(0,s._)("div",Ym,[(0,s._)("div",Wm,[(0,s._)("div",Zm,[(0,s._)("div",Gm,[(0,s._)("h5",null,(0,i.zw)(n.changePasswordAlertTitle),1)]),(0,s._)("div",Km,[(0,s._)("p",null,(0,i.zw)(n.changePasswordAlertText),1)]),Qm])])]),(0,s._)("div",Jm,[(0,s._)("div",Xm,[(0,s._)("div",eh,[th,(0,s._)("div",ah,[(0,s._)("div",sh,[(0,s.wy)((0,s._)("textarea",{id:"reasonInput",class:"form-control textarea-height","onUpdate:modelValue":t[12]||(t[12]=e=>n.deleteReason=e)},null,512),[[y.nr,n.deleteReason]]),ih])]),(0,s._)("div",nh,[oh,(0,s._)("button",{type:"button",onClick:t[13]||(t[13]=(...e)=>n.sendDeleteRequest&&n.sendDeleteRequest(...e)),class:"custom-btn button-primary","data-bs-dismiss":"modal"},"Send Request")])])])])],64)}var rh=a(8937),dh={name:"OwnerInfo",setup(){const e=(0,w.tv)();let t=(0,Io.iH)({urlPart:""}),a=(0,Io.iH)({id:null,email:null,username:null,firstName:null,lastName:null,address:null,city:null,country:null,phoneNum:null,penalties:null,accountType:null}),i=(0,Io.iH)(null),n=(0,Io.iH)(""),o=(0,Io.iH)(""),l=(0,Io.iH)(""),r=(0,Io.iH)(""),d=(0,Io.iH)(""),u=(0,Io.iH)(""),c=(0,Io.iH)(""),p=(0,Io.iH)(""),m=(0,Io.iH)("homePage");function g(e){e.valid?n.value=e.number:n.value=""}function v(){""!==n.value&&(a.value.phoneNum=n.value),h().put(`https://renting-buddy-spring.herokuapp.com/api/${t.value.urlPart}/${a.value.id}`,a.value,{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>{a.value=e.data,console.log("Info updated")})).catch((e=>{console.log(e.response)}))}function b(){let e=/^[\dA-Za-z]+$/,t=new rh.u_(document.getElementById("changePasswordAlertModal"),{});if(d.value.length<5||d.value.length>20)return p.value="New password must be between 5 and 20 characters",c.value="Password Change Unsuccessful",void t.show();if(!e.test(d.value))return p.value="New password can only contain letters and numbers",c.value="Password Change Unsuccessful",void t.show();if(r.value.length<5||r.value.length>20)return p.value="Old password must be between 5 and 20 characters",c.value="Password Change Unsuccessful",void t.show();if(!e.test(r.value))return p.value="Old password can only contain letters and numbers",c.value="Password Change Unsuccessful",void t.show();if(d.value===r.value)return p.value="New password cannot be the same as the old one",c.value="Password Change Unsuccessful",void t.show();if(d.value!==u.value)return p.value="New password and confirmed password do not match",c.value="Password Change Unsuccessful",void t.show();const a={oldPassword:r.value,newPassword:d.value,newPasswordConfirm:u.value};h().put("https://renting-buddy-spring.herokuapp.com/api/users/loggedUser/changePassword",a,{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>{!0===e.data?(c.value="Password Change Successful",p.value="You have successfully changed your password"):(c.value="Password Change Unsuccessful",p.value="Old password you entered does not match your current password"),t.show()}))}function f(){if(""==l.value)return;let e={id:null,submitterId:a.value.id,submitterUsername:a.value.username,text:l.value,type:"DELETE_ACCOUNT"};h().post("https://renting-buddy-spring.herokuapp.com/api/users/submitRequest",e,{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>{0==e.data&&console.log(e.data)}))}return(0,s.bv)((()=>{h().get("https://renting-buddy-spring.herokuapp.com/api/users/loggedUser",{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((s=>{a.value=s.data,"VH_OWNER"===s.data.accountType?t.value={urlPart:"vacationHouseOwners"}:"SH_OWNER"===s.data.accountType?t.value={urlPart:"shipOwners"}:e.push({name:"homePage"})})).catch((e=>{console.log(e.response)})),h().get("https://renting-buddy-spring.herokuapp.com/api/users/loggedUser/picture",{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>o.value=e.data)).catch((e=>{console.log(e.response)}))})),{owner:a,phoneNum:i,picture:o,oldPassword:r,newPassword:d,confirmPassword:u,changePasswordAlertTitle:c,changePasswordAlertText:p,deleteReason:l,page:m,telValidate:g,saveInfoEdit:v,sendDeleteRequest:f,changePassword:b}}};const uh=(0,v.Z)(dh,[["render",lh],["__scopeId","data-v-5ed6b73b"]]);var ch=uh;const ph=(0,s._)("div",{class:"left-bar"},[(0,s._)("h5",{class:"left-bar-heading"},"Reservations")],-1),mh={class:"home-entities-div"},hh={key:0,class:"w-100",style:{"text-align":"center"}},gh=(0,s._)("h4",{style:{"font-weight":"bold"}},"No reservations to show yet",-1),vh=[gh],bh={class:"home-entity-picture"},fh=["src","alt"],yh={class:"home-entity-content"},wh={style:{"font-weight":"bold",cursor:"pointer"}},_h={class:"home-entity-description"},kh={class:"home-entity-price h-100 d-flex"},xh={class:"align-self-center"},Ph=(0,s._)("button",{type:"button",class:"custom-btn button-primary d-block w-100"},"Client Profile",-1),Ch=["onClick"],Uh={class:"modal fade",id:"reportModal",tabindex:"-1","aria-hidden":"true"},Ih={class:"modal-dialog modal-dialog-centered modal-lg"},$h={class:"modal-content"},Dh=(0,s._)("div",{class:"modal-header"},[(0,s._)("h5",{class:"modal-title mx-auto"},"Reservation Report")],-1),Nh={class:"modal-body"},Rh={class:"form-floating mb-3"},Eh=(0,s._)("label",{for:"reportText"},"How did the reservation go?",-1),Ah=(0,s._)("label",null,"How was your experience with the client?",-1),zh={class:"form-check form-check-inline"},Sh=(0,s._)("label",{class:"form-check-label",for:"reportType1"},"Good",-1),Th={class:"form-check form-check-inline"},Vh=(0,s._)("label",{class:"form-check-label",for:"reportType2"},"Bad",-1),Hh={class:"form-check form-check-inline"},jh=(0,s._)("label",{class:"form-check-label",for:"reportType3"},"They didn't show up",-1),Lh={class:"modal-footer"},Bh=(0,s._)("button",{type:"button",class:"custom-btn button-close","data-bs-dismiss":"modal"},"Cancel",-1),Fh={class:"modal fade",id:"alertModal",tabindex:"-1","aria-hidden":"true"},Oh={class:"modal-dialog modal-lg"},qh={class:"modal-content"},Mh={class:"modal-header"},Yh={class:"modal-body"},Wh=(0,s._)("div",{class:"modal-footer"},[(0,s._)("button",{type:"button",class:"custom-btn button-secondary","data-bs-dismiss":"modal"},"Close")],-1);function Zh(e,t,a,n,o,l){return(0,s.wg)(),(0,s.iD)(s.HY,null,[ph,(0,s._)("div",mh,[0==n.reservations.length?((0,s.wg)(),(0,s.iD)("div",hh,vh)):((0,s.wg)(!0),(0,s.iD)(s.HY,{key:1},(0,s.Ko)(n.reservations,(e=>((0,s.wg)(),(0,s.iD)("div",{class:"home-list-entities",key:e.id},[(0,s._)("div",bh,[(0,s._)("img",{src:"data:image/jpeg;base64,"+e.img,alt:e.id,style:{width:"200px",height:"150px",cursor:"pointer"}},null,8,fh)]),(0,s._)("div",yh,[(0,s._)("h4",wh,(0,i.zw)(e.rentingEntityName),1),(0,s._)("div",_h,[(0,s._)("p",null,"From: "+(0,i.zw)(e.start),1),(0,s._)("p",null,"To: "+(0,i.zw)(e.end),1)])]),(0,s._)("div",kh,[(0,s._)("div",xh,[Ph,n.isFinished(e)?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:t=>n.selectReservation(e),type:"button",class:"custom-btn button-primary d-block w-100","data-bs-toggle":"modal","data-bs-target":"#reportModal"},"Write Report",8,Ch)):(0,s.kq)("",!0)])]),(0,s._)("div",Uh,[(0,s._)("div",Ih,[(0,s._)("div",$h,[Dh,(0,s._)("div",Nh,[(0,s._)("div",Rh,[(0,s.wy)((0,s._)("textarea",{style:{height:"100px"},"onUpdate:modelValue":t[0]||(t[0]=e=>n.report.text=e),type:"text",class:"form-control",id:"reportText",placeholder:"How did the reservation go?"},null,512),[[y.nr,n.report.text]]),Eh]),Ah,(0,s._)("div",zh,[(0,s.wy)((0,s._)("input",{class:"form-check-input",type:"radio",name:"reportType",id:"reportType1",value:"GOOD","onUpdate:modelValue":t[1]||(t[1]=e=>n.report.type=e)},null,512),[[y.G2,n.report.type]]),Sh]),(0,s._)("div",Th,[(0,s.wy)((0,s._)("input",{class:"form-check-input",type:"radio",name:"reportType",id:"reportType2",value:"BAD","onUpdate:modelValue":t[2]||(t[2]=e=>n.report.type=e)},null,512),[[y.G2,n.report.type]]),Vh]),(0,s._)("div",Hh,[(0,s.wy)((0,s._)("input",{class:"form-check-input",type:"radio",name:"reportType",id:"reportType3",value:"NO_SHOW","onUpdate:modelValue":t[3]||(t[3]=e=>n.report.type=e)},null,512),[[y.G2,n.report.type]]),jh])]),(0,s._)("div",Lh,[Bh,(0,s._)("button",{type:"button",class:"custom-btn button-primary",onClick:t[4]||(t[4]=(...e)=>n.sendReport&&n.sendReport(...e)),"data-bs-dismiss":"modal"},"Send Report")])])])])])))),128))]),(0,s._)("div",Fh,[(0,s._)("div",Oh,[(0,s._)("div",qh,[(0,s._)("div",Mh,[(0,s._)("h5",null,(0,i.zw)(n.alertTitle),1)]),(0,s._)("div",Yh,[(0,s._)("p",null,(0,i.zw)(n.alertText),1)]),Wh])])])],64)}var Gh={name:"OwnerReservations",setup(){const e=(0,w.tv)();let t=(0,Io.iH)({}),a=(0,Io.iH)([{img:""}]),i=(0,Io.iH)({}),n=(0,Io.iH)({urlPart:""}),o=(0,Io.iH)({text:"",type:"GOOD",reservationId:null,clientId:null,submitterId:null,reviewed:!1}),l=(0,Io.iH)("Report Sent"),r=(0,Io.iH)("Report sent successfully");function d(){h().get(`https://renting-buddy-spring.herokuapp.com/api/${n.value.urlPart}/reservations`,{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>{a.value=e.data,console.log(a.value)})).catch((e=>{console.log(e.response)}))}function u(e){let t=e.split(" "),a=t[0],s=t[1];t=a.split(".");let i=parseInt(t[0]),n=parseInt(t[1])-1,o=parseInt(t[2]);t=s.split(":");let l=parseInt(t[0]),r=parseInt(t[1]);return new Date(o,n,i,l,r)}function c(e){let t=!1;if(void 0!=e&&void 0!=e.end){let a=u(e.end),s=new Date;console.log(e),t=s>a&&!1===e.reviewed}return t}function p(){o.value={text:"",type:"GOOD",reservationId:null,clientId:null,submitterId:null,reviewed:!1}}function m(e){i.value=e}function g(){o.value.reservationId=i.value.id,o.value.clientId=i.value.clientId,o.value.submitterId=t.value.id,alert(o.value.reservationId);let e=new rh.u_(document.getElementById("alertModal"),{});if(""==o.value.text)return l.value="Report Not Sent",r.value="You must write something in the report",void e.show();h().post("https://renting-buddy-spring.herokuapp.com/api/clients/loggedOwner/sendReservationReport",o.value,{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((t=>{!0===t.data?(l.value="Report Sent",r.value="Report sent successfully"):(l.value="Report Not Sent",r.value="Something went wrong"),e.show(),d(),p()}))}return(0,s.bv)((()=>{h().get("https://renting-buddy-spring.herokuapp.com/api/users/loggedUser",{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((a=>{t.value=a.data,"VH_OWNER"===a.data.accountType?n.value={urlPart:"vacationHouseOwners/loggedVacationHouseOwner"}:"SH_OWNER"===a.data.accountType?n.value={urlPart:"shipOwners/loggedShipOwner"}:e.push({name:"homePage"}),p(),d()})).catch((e=>{console.log(`OwnerHome catch users/loggedUser: ${e.response}`)}))})),{reservations:a,selectedReservation:i,report:o,alertTitle:l,alertText:r,isFinished:c,selectReservation:m,sendReport:g}}};const Kh=(0,v.Z)(Gh,[["render",Zh]]);var Qh=Kh;const Jh={style:{"text-align":"center",margin:"15px"}},Xh=(0,s._)("h4",null,"Hello, please set a new password.",-1),eg=(0,s._)("br",null,null,-1),tg={class:"form-floating input-group-width mb-2",style:{width:"300px"}},ag=(0,s._)("label",{for:"lastNameInput"},"New password",-1),sg={class:"form-floating input-group-width mb-2",style:{width:"300px"}},ig=(0,s._)("label",{for:"lastNameInput"},"Confirm new password",-1);function ng(e,t,a,i,n,o){return(0,s.wg)(),(0,s.iD)("div",Jh,[Xh,eg,(0,s._)("div",tg,[(0,s.wy)((0,s._)("input",{id:"lastNameInput",class:"form-control",type:"password","onUpdate:modelValue":t[0]||(t[0]=e=>n.newPassword=e),placeholder:"New password"},null,512),[[y.nr,n.newPassword]]),ag]),(0,s._)("div",sg,[(0,s.wy)((0,s._)("input",{id:"lastNameInput",class:"form-control",type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>n.confirmPassword=e),placeholder:"Confirm new password"},null,512),[[y.nr,n.confirmPassword]]),ig]),(0,s._)("button",{class:"custom-btn button-primary mt-2",onClick:t[2]||(t[2]=(...e)=>o.changePassword&&o.changePassword(...e))},"Change")])}var og={name:"FirstLogin",data(){return{newPassword:"",confirmPassword:""}},mounted(){},methods:{changePassword(){var e=/^[0-9A-Za-z]+$/;if(this.newPassword.length<5||this.newPassword.length>20)return void this.$toast.error("Password must be between 5-20 characters");if(!e.test(this.newPassword))return void this.$toast.error("Password must only contain letters and numbers");if(this.newPassword!==this.confirmPassword)return void this.$toast.error("Passwords must match");const t={oldPassword:null,newPassword:this.newPassword,newPasswordConfirm:this.confirmPassword};console.log(t),h().put("https://renting-buddy-spring.herokuapp.com/api/admins/changePassword",t,{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>{1==e.data?this.$router.push("/"):this.$toast.error("Error")}))}}};const lg=(0,v.Z)(og,[["render",ng]]);var rg=lg;const dg=e=>((0,s.dD)("data-v-6e8e94e8"),e=e(),(0,s.Cn)(),e),ug={class:"main-wrapper"},cg=["index"],pg={class:"inner-container"},mg={class:"left-container"},hg={key:0},gg=dg((()=>(0,s._)("b",null,"Comment:",-1))),vg={key:1},bg=dg((()=>(0,s._)("b",null,"Entity:",-1))),fg={key:2},yg=dg((()=>(0,s._)("b",null,"Owner:",-1))),wg=dg((()=>(0,s._)("b",null,"Client:",-1))),_g={style:{margin:"auto 100px auto 200px"}},kg={class:"form-floating input-group-width mb-2 w-100"},xg=["onUpdate:modelValue"],Pg=dg((()=>(0,s._)("label",{for:"lastNameInput"},"Reason",-1))),Cg={class:"right-container"},Ug=["onClick"],Ig=["onClick"];function $g(e,t,a,n,o,l){return(0,s.wg)(),(0,s.iD)("div",ug,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(this.complaints,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"for-container",index:t,key:e.id},[(0,s._)("div",pg,[(0,s._)("div",mg,[e.text?((0,s.wg)(),(0,s.iD)("div",hg,[gg,(0,s.Uk)(" "+(0,i.zw)(e.text),1)])):(0,s.kq)("",!0),e.entityName?((0,s.wg)(),(0,s.iD)("div",vg,[bg,(0,s.Uk)(" "+(0,i.zw)(e.entityName),1)])):(0,s.kq)("",!0),e.ownerName?((0,s.wg)(),(0,s.iD)("div",fg,[yg,(0,s.Uk)(" "+(0,i.zw)(e.ownerName),1)])):(0,s.kq)("",!0),(0,s._)("div",null,[wg,(0,s.Uk)(" "+(0,i.zw)(e.clientName),1)])]),(0,s._)("div",_g,[(0,s._)("div",kg,[(0,s.wy)((0,s._)("input",{id:"lastNameInput",class:"form-control",type:"text","onUpdate:modelValue":t=>e.adminResponse=t,placeholder:"Reason"},null,8,xg),[[y.nr,e.adminResponse]]),Pg]),(0,s._)("div",Cg,[(0,s._)("button",{class:"custom-btn button-primary",style:{width:"120px"},onClick:a=>l.approveComplaint(e,t)},"Approve",8,Ug),(0,s._)("button",{class:"custom-btn button-primary ms-5",style:{width:"120px","background-color":"indianred"},onClick:a=>l.rejectComplaint(e,t)},"Reject",8,Ig)])])])],8,cg)))),128))])}var Dg={name:"AdminComplaints",data(){return{complaints:[]}},mounted(){h().get("api/admins/complaints/all",{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>this.complaints=e.data))},methods:{approveComplaint(e,t){""!==e.adminResponse?h().put("api/admins/complaints",e,{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>{1==e.data?(this.$toast.success("Approved"),this.complaints.splice(t,1)):this.$toast.error("Problem has occurred!")})):this.$toast.error("Provide a reason")},rejectComplaint(e,t){""!==e.adminResponse?h().put("api/admins/complaints/reject",e,{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>{1==e.data?(this.$toast.success("Rejected!"),this.complaints.splice(t,1)):this.$toast.error("Problem has occurred!")})):this.$toast.error("Provide a reason")}}};const Ng=(0,v.Z)(Dg,[["render",$g],["__scopeId","data-v-6e8e94e8"]]);var Rg=Ng;const Eg=e=>((0,s.dD)("data-v-68f2c63c"),e=e(),(0,s.Cn)(),e),Ag={class:"main-wrapper"},zg=["index"],Sg={class:"inner-container"},Tg={class:"left-container"},Vg=Eg((()=>(0,s._)("b",null,"Full Name:",-1))),Hg=Eg((()=>(0,s._)("b",null,"Username:",-1))),jg=Eg((()=>(0,s._)("b",null,"Email:",-1))),Lg=Eg((()=>(0,s._)("b",null,"Address:",-1))),Bg=Eg((()=>(0,s._)("b",null,"City:",-1))),Fg=Eg((()=>(0,s._)("b",null,"Mobile number:",-1))),Og=Eg((()=>(0,s._)("b",null,"Penalties:",-1))),qg={key:0},Mg=Eg((()=>(0,s._)("b",null,"Role:",-1))),Yg=(0,s.Uk)(" Client"),Wg=[Mg,Yg],Zg={key:1},Gg=Eg((()=>(0,s._)("b",null,"Role:",-1))),Kg=(0,s.Uk)(" Vacation House Owner"),Qg=[Gg,Kg],Jg={key:2},Xg=Eg((()=>(0,s._)("b",null,"Role:",-1))),ev=(0,s.Uk)(" Ship Owner"),tv=[Xg,ev],av={key:3},sv=Eg((()=>(0,s._)("b",null,"Role:",-1))),iv=(0,s.Uk)(" Fishing Instructor"),nv=[sv,iv],ov={class:"right-container"},lv=["onClick"],rv=Eg((()=>(0,s._)("hr",null,null,-1))),dv=["index"],uv={class:"inner-container"},cv={class:"left-container"},pv=Eg((()=>(0,s._)("b",null,"Name:",-1))),mv=Eg((()=>(0,s._)("b",null,"Address:",-1))),hv=Eg((()=>(0,s._)("b",null,"Rules:",-1))),gv=Eg((()=>(0,s._)("b",null,"Price:",-1))),vv={class:"right-container"},bv=["onClick"],fv=Eg((()=>(0,s._)("hr",null,null,-1))),yv=["index"],wv={class:"inner-container"},_v={class:"left-container"},kv=Eg((()=>(0,s._)("b",null,"Name:",-1))),xv=Eg((()=>(0,s._)("b",null,"Address:",-1))),Pv=Eg((()=>(0,s._)("b",null,"Rules:",-1))),Cv=Eg((()=>(0,s._)("b",null,"Price:",-1))),Uv={class:"right-container"},Iv=["onClick"],$v=Eg((()=>(0,s._)("hr",null,null,-1))),Dv=["index"],Nv={class:"inner-container"},Rv={class:"left-container"},Ev=Eg((()=>(0,s._)("b",null,"Name:",-1))),Av=Eg((()=>(0,s._)("b",null,"Address:",-1))),zv=Eg((()=>(0,s._)("b",null,"Rules:",-1))),Sv=Eg((()=>(0,s._)("b",null,"Price:",-1))),Tv={class:"right-container"},Vv=["onClick"];function Hv(e,t,a,n,o,l){return(0,s.wg)(),(0,s.iD)("div",Ag,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(this.users,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"for-container",index:t,key:e.id},[(0,s._)("div",Sg,[(0,s._)("div",Tg,[(0,s._)("div",null,[Vg,(0,s.Uk)(" "+(0,i.zw)(e.firstName)+" "+(0,i.zw)(e.lastName),1)]),(0,s._)("div",null,[Hg,(0,s.Uk)(" "+(0,i.zw)(e.username),1)]),(0,s._)("div",null,[jg,(0,s.Uk)(" "+(0,i.zw)(e.email),1)]),(0,s._)("div",null,[Lg,(0,s.Uk)(" "+(0,i.zw)(e.address),1)]),(0,s._)("div",null,[Bg,(0,s.Uk)(" "+(0,i.zw)(e.city)+", "+(0,i.zw)(e.country),1)]),(0,s._)("div",null,[Fg,(0,s.Uk)(" "+(0,i.zw)(e.phoneNum),1)]),(0,s._)("div",null,[Og,(0,s.Uk)(" "+(0,i.zw)(e.penalties),1)]),"CLIENT"===e.accountType?((0,s.wg)(),(0,s.iD)("div",qg,Wg)):(0,s.kq)("",!0),"VH_OWNER"===e.accountType?((0,s.wg)(),(0,s.iD)("div",Zg,Qg)):(0,s.kq)("",!0),"SH_OWNER"===e.accountType?((0,s.wg)(),(0,s.iD)("div",Jg,tv)):(0,s.kq)("",!0),"INSTRUCTOR"===e.accountType?((0,s.wg)(),(0,s.iD)("div",av,nv)):(0,s.kq)("",!0)]),(0,s._)("div",ov,[(0,s._)("button",{class:"custom-btn button-primary",onClick:a=>l.deleteUser(e,t)},"Delete",8,lv)])])],8,zg)))),128)),rv,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(this.vacationHouses,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"for-container",index:t,key:e.id},[(0,s._)("div",uv,[(0,s._)("div",cv,[(0,s._)("div",null,[pv,(0,s.Uk)(" "+(0,i.zw)(e.name),1)]),(0,s._)("div",null,[mv,(0,s.Uk)(" "+(0,i.zw)(e.address),1)]),(0,s._)("div",null,[hv,(0,s.Uk)(" "+(0,i.zw)(e.behaviourRules),1)]),(0,s._)("div",null,[gv,(0,s.Uk)(" "+(0,i.zw)(e.priceList),1)])]),(0,s._)("div",vv,[(0,s._)("button",{class:"custom-btn button-primary",onClick:a=>l.deleteVacationHouse(e,t)},"Delete",8,bv)])])],8,dv)))),128)),fv,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(this.ships,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"for-container",index:t,key:e.id},[(0,s._)("div",wv,[(0,s._)("div",_v,[(0,s._)("div",null,[kv,(0,s.Uk)(" "+(0,i.zw)(e.name),1)]),(0,s._)("div",null,[xv,(0,s.Uk)(" "+(0,i.zw)(e.address),1)]),(0,s._)("div",null,[Pv,(0,s.Uk)(" "+(0,i.zw)(e.behaviourRules),1)]),(0,s._)("div",null,[Cv,(0,s.Uk)(" "+(0,i.zw)(e.priceList),1)])]),(0,s._)("div",Uv,[(0,s._)("button",{class:"custom-btn button-primary",onClick:a=>l.deleteShip(e,t)},"Delete",8,Iv)])])],8,yv)))),128)),$v,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(this.fishingClasses,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"for-container",index:t,key:e.id},[(0,s._)("div",Nv,[(0,s._)("div",Rv,[(0,s._)("div",null,[Ev,(0,s.Uk)(" "+(0,i.zw)(e.name),1)]),(0,s._)("div",null,[Av,(0,s.Uk)(" "+(0,i.zw)(e.address),1)]),(0,s._)("div",null,[zv,(0,s.Uk)(" "+(0,i.zw)(e.behaviourRules),1)]),(0,s._)("div",null,[Sv,(0,s.Uk)(" "+(0,i.zw)(e.priceList),1)])]),(0,s._)("div",Tv,[(0,s._)("button",{class:"custom-btn button-primary",onClick:a=>l.deleteFishingClass(e,t)},"Delete",8,Vv)])])],8,Dv)))),128))])}var jv={name:"AdminEntities",data(){return{users:[],vacationHouses:[],ships:[],fishingClasses:[]}},mounted(){h().get("https://renting-buddy-spring.herokuapp.com/api/users/all",{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>this.users=e.data)),h().get("https://renting-buddy-spring.herokuapp.com/api/vacationHouses/all",{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>this.vacationHouses=e.data)),h().get("https://renting-buddy-spring.herokuapp.com/api/ships/all",{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>this.ships=e.data)),h().get("https://renting-buddy-spring.herokuapp.com/api/fishingClasses/all",{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>this.fishingClasses=e.data))},methods:{deleteUser(e,t){h().put("https://renting-buddy-spring.herokuapp.com/api/users/delete",e,{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>{1==e.data?(this.$toast.success("Successfully deleted!"),this.users.splice(t,1)):this.$toast.error("Problem has occurred!")}))},deleteVacationHouse(e,t){h().put("api/vacationHouses/delete",e,{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>{1==e.data?(this.$toast.success("Successfully deleted!"),this.vacationHouses.splice(t,1)):this.$toast.error("Problem has occurred!")}))},deleteShip(e,t){h().put("api/ships/delete",e,{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>{1==e.data?(this.$toast.success("Successfully deleted!"),this.ships.splice(t,1)):this.$toast.error("Problem has occurred!")}))},deleteFishingClass(e,t){h().put("api/fishingClasses/delete",e,{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>{1==e.data?(this.$toast.success("Successfully deleted!"),this.fishingClasses.splice(t,1)):this.$toast.error("Problem has occurred!")}))}}};const Lv=(0,v.Z)(jv,[["render",Hv],["__scopeId","data-v-68f2c63c"]]);var Bv=Lv;const Fv={class:"form-floating input-group-width mb-2",style:{width:"200px"}},Ov=(0,s._)("label",{for:"lastNameInput"},"Reservation fee",-1);function qv(e,t,a,i,n,o){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",Fv,[(0,s.wy)((0,s._)("input",{id:"lastNameInput",class:"form-control",type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>n.fee=e),placeholder:"Reservation fee"},null,512),[[y.nr,n.fee]]),Ov]),(0,s._)("button",{class:"custom-btn button-primary mt-1",onClick:t[1]||(t[1]=(...e)=>o.saveFee&&o.saveFee(...e))},"Save")],64)}var Mv={name:"AdminFee",data(){return{fee:null}},mounted(){h().get("https://renting-buddy-spring.herokuapp.com/api/admins/fee",{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>this.fee=e.data))},methods:{saveFee(){const e={id:1,value:this.fee};h().put("https://renting-buddy-spring.herokuapp.com/api/admins/fee",e,{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>{1==e.data?this.$toast.success("Successfully saved!"):this.$toast.error("Problem has occurred!")}))}}};const Yv=(0,v.Z)(Mv,[["render",qv]]);var Wv=Yv;const Zv={class:"nav nav-tabs justify-content-center mt-2 mb-3",id:"nav-tab",role:"tablist"},Gv={class:"tab-content",id:"nav-tabContent",style:{width:"60%",margin:"auto","text-align":"center"}},Kv={class:"tab-pane fade show active",id:"nav-profile",role:"tabpanel","aria-labelledby":"nav-profile-tab"},Qv={class:"tab-pane fade",id:"nav-entities",role:"tabpanel","aria-labelledby":"nav-entities-tab"},Jv={class:"tab-pane fade",id:"nav-reviews",role:"tabpanel","aria-labelledby":"nav-reviews-tab"},Xv={class:"tab-pane fade",id:"nav-complaints",role:"tabpanel","aria-labelledby":"nav-complaints-tab"},eb={class:"tab-pane fade",id:"nav-requests",role:"tabpanel","aria-labelledby":"nav-requests-tab"},tb={class:"tab-pane fade",id:"nav-reports",role:"tabpanel","aria-labelledby":"nav-reports-tab"},ab={class:"tab-pane fade",id:"nav-register",role:"tabpanel","aria-labelledby":"nav-register-tab"},sb={class:"tab-pane fade",id:"nav-fee",role:"tabpanel","aria-labelledby":"nav-fee-tab"},ib={class:"tab-pane fade",id:"nav-reservations",role:"tabpanel","aria-labelledby":"nav-reservations-tab"},nb={class:"tab-pane fade",id:"nav-loyalty",role:"tabpanel","aria-labelledby":"nav-loyalty-tab"};function ob(e,t,a,i,n,o){const l=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("nav",null,[(0,s._)("div",Zv,[(0,s._)("button",{class:"nav-link active nav-button",id:"nav-profile-tab","data-bs-toggle":"tab","data-bs-target":"#nav-profile",type:"button",role:"tab","aria-controls":"nav-profile","aria-selected":"true",onClick:t[0]||(t[0]=(...e)=>o.routeProfile&&o.routeProfile(...e))},"Profile "),(0,s._)("button",{class:"nav-link nav-button",id:"nav-entities-tab","data-bs-toggle":"tab","data-bs-target":"#nav-entities",type:"button",role:"tab","aria-controls":"nav-entities","aria-selected":"false",onClick:t[1]||(t[1]=(...e)=>o.routeEntities&&o.routeEntities(...e))},"Entities "),(0,s._)("button",{class:"nav-link nav-button",id:"nav-reviews-tab","data-bs-toggle":"tab","data-bs-target":"#nav-reviews",type:"button",role:"tab","aria-controls":"nav-reviews","aria-selected":"false",onClick:t[2]||(t[2]=(...e)=>o.routeReviews&&o.routeReviews(...e))},"Reviews "),(0,s._)("button",{class:"nav-link nav-button",id:"nav-complaints-tab","data-bs-toggle":"tab","data-bs-target":"#nav-complaints",type:"button",role:"tab","aria-controls":"nav-complaints","aria-selected":"false",onClick:t[3]||(t[3]=(...e)=>o.routeComplaints&&o.routeComplaints(...e))},"Complaints "),(0,s._)("button",{class:"nav-link nav-button",id:"nav-requests-tab","data-bs-toggle":"tab","data-bs-target":"#nav-requests",type:"button",role:"tab","aria-controls":"nav-requests","aria-selected":"false",onClick:t[4]||(t[4]=(...e)=>o.routeRequests&&o.routeRequests(...e))},"Requests "),(0,s._)("button",{class:"nav-link nav-button",id:"nav-reports-tab","data-bs-toggle":"tab","data-bs-target":"#nav-reports",type:"button",role:"tab","aria-controls":"nav-reports","aria-selected":"false",onClick:t[5]||(t[5]=(...e)=>o.routeReports&&o.routeReports(...e))},"Reports "),(0,s._)("button",{class:"nav-link nav-button",id:"nav-register-tab","data-bs-toggle":"tab","data-bs-target":"#nav-register",type:"button",role:"tab","aria-controls":"nav-register","aria-selected":"false",onClick:t[6]||(t[6]=(...e)=>o.routeRegister&&o.routeRegister(...e))},"Register "),(0,s._)("button",{class:"nav-link nav-button",id:"nav-fee-tab","data-bs-toggle":"tab","data-bs-target":"#nav-fee",type:"button",role:"tab","aria-controls":"nav-fee","aria-selected":"false",onClick:t[7]||(t[7]=(...e)=>o.routeFee&&o.routeFee(...e))},"Fee "),(0,s._)("button",{class:"nav-link nav-button",id:"nav-reservations-tab","data-bs-toggle":"tab","data-bs-target":"#nav-reservations",type:"button",role:"tab","aria-controls":"nav-reservations","aria-selected":"false",onClick:t[8]||(t[8]=(...e)=>o.routeReservations&&o.routeReservations(...e))},"Reservations "),(0,s._)("button",{class:"nav-link nav-button",id:"nav-loyalty-tab","data-bs-toggle":"tab","data-bs-target":"#nav-loyalty",type:"button",role:"tab","aria-controls":"nav-loyalty","aria-selected":"false",onClick:t[9]||(t[9]=(...e)=>o.routeLoyalty&&o.routeLoyalty(...e))},"Loyalty ")])]),(0,s._)("div",Gv,[(0,s._)("div",Kv,[(0,s.Wm)(l)]),(0,s._)("div",Qv,[(0,s.Wm)(l)]),(0,s._)("div",Jv,[(0,s.Wm)(l)]),(0,s._)("div",Xv,[(0,s.Wm)(l)]),(0,s._)("div",eb,[(0,s.Wm)(l)]),(0,s._)("div",tb,[(0,s.Wm)(l)]),(0,s._)("div",ab,[(0,s.Wm)(l)]),(0,s._)("div",sb,[(0,s.Wm)(l)]),(0,s._)("div",ib,[(0,s.Wm)(l)]),(0,s._)("div",nb,[(0,s.Wm)(l)])])],64)}var lb={name:"AdminProfile",data(){return{}},mounted(){this.routeProfile()},methods:{routeProfile(){this.$router.push({name:"adminProfile"})},routeEntities(){this.$router.push({name:"adminEntities"})},routeReviews(){this.$router.push({name:"adminReviews"})},routeComplaints(){this.$router.push({name:"adminComplaints"})},routeRequests(){this.$router.push({name:"adminRequests"})},routeReports(){this.$router.push({name:"adminReports"})},routeRegister(){this.$router.push({name:"adminRegister"})},routeFee(){this.$router.push({name:"adminFee"})},routeReservations(){this.$router.push({name:"adminReservations"})},routeLoyalty(){this.$router.push({name:"adminLoyalty"})}}};const rb=(0,v.Z)(lb,[["render",ob],["__scopeId","data-v-9e19d2f2"]]);var db=rb;function ub(e,t,a,i,n,o){return(0,s.wg)(),(0,s.iD)("div",null,"LOYALTY")}var cb={name:"AdminLoyalty",data(){return{}},mounted(){},methods:{}};const pb=(0,v.Z)(cb,[["render",ub]]);var mb=pb;const hb=e=>((0,s.dD)("data-v-f850e710"),e=e(),(0,s.Cn)(),e),gb={style:{display:"flex","justify-content":"center"}},vb={style:{display:"inline-flex",border:"1px solid #00587a","border-radius":"5px"}},bb=["src"],fb={class:"info-wrapper",style:{display:"inline",margin:"auto 50px","text-align":"left"}},yb=hb((()=>(0,s._)("b",null,"First Name: ",-1))),wb=hb((()=>(0,s._)("b",null,"Last Name: ",-1))),_b=hb((()=>(0,s._)("b",null,"E-mail: ",-1))),kb=hb((()=>(0,s._)("b",null,"Address: ",-1))),xb=hb((()=>(0,s._)("b",null,"Place: ",-1))),Pb=hb((()=>(0,s._)("b",null,"Country: ",-1))),Cb=hb((()=>(0,s._)("b",null,"Phone Number: ",-1))),Ub=hb((()=>(0,s._)("i",{class:"bi bi-pencil-square"},null,-1))),Ib=[Ub],$b={class:"modal fade",id:"infoModal",tabindex:"-1","aria-hidden":"true"},Db={class:"modal-dialog modal-lg"},Nb={class:"modal-content"},Rb={class:"modal-body"},Eb=["src"],Ab={style:{margin:"10px 0 10px 120px"}},zb={class:"form-floating mb-3"},Sb=hb((()=>(0,s._)("label",{for:"modalFirstName"},"First Name",-1))),Tb={class:"form-floating mb-3"},Vb=hb((()=>(0,s._)("label",{for:"modalLastName"},"Last Name",-1))),Hb={class:"form-floating mb-3"},jb=hb((()=>(0,s._)("label",{for:"modalEmail"},"E-mail",-1))),Lb={class:"form-floating mb-3"},Bb=hb((()=>(0,s._)("label",{for:"modalAddress"},"Address",-1))),Fb={class:"form-floating mb-3"},Ob=hb((()=>(0,s._)("label",{for:"modalCity"},"Place",-1))),qb={class:"form-floating mb-3"},Mb=hb((()=>(0,s._)("label",{for:"modalCountry"},"Country",-1))),Yb={class:"form-floating mb-3"},Wb=hb((()=>(0,s._)("label",{for:"phoneNumInput"},"Phone Number",-1))),Zb={class:"modal-footer"};function Gb(e,t,a,n,o,l){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",gb,[(0,s._)("div",vb,[(0,s._)("div",null,[(0,s._)("img",{src:"data:image/jpeg;base64,"+o.profilePicture,alt:"Profile picture",style:{width:"300px",height:"300px","object-fit":"cover","border-radius":"3px"}},null,8,bb)]),(0,s._)("div",fb,[(0,s._)("div",null,[yb,(0,s.Uk)(" "+(0,i.zw)(o.loggedAdmin.firstName),1)]),(0,s._)("div",null,[wb,(0,s.Uk)(" "+(0,i.zw)(o.loggedAdmin.lastName),1)]),(0,s._)("div",null,[_b,(0,s.Uk)(" "+(0,i.zw)(o.loggedAdmin.email),1)]),(0,s._)("div",null,[kb,(0,s.Uk)(" "+(0,i.zw)(o.loggedAdmin.address),1)]),(0,s._)("div",null,[xb,(0,s.Uk)(" "+(0,i.zw)(o.loggedAdmin.city),1)]),(0,s._)("div",null,[Pb,(0,s.Uk)(" "+(0,i.zw)(o.loggedAdmin.country),1)]),(0,s._)("div",null,[Cb,(0,s.Uk)(" "+(0,i.zw)(o.loggedAdmin.phoneNum),1)])]),(0,s._)("div",null,[(0,s._)("button",{type:"button",onClick:t[0]||(t[0]=(...e)=>l.backupData&&l.backupData(...e)),class:"custom-btn button-secondary","data-bs-toggle":"modal","data-bs-target":"#infoModal"},Ib)])])]),(0,s._)("div",$b,[(0,s._)("div",Db,[(0,s._)("div",Nb,[(0,s._)("div",Rb,[(0,s._)("img",{id:"profile-pic",src:"data:image/jpeg;base64,"+o.profilePicture,alt:"Profile picture",style:{width:"200px",height:"200px","object-fit":"cover","border-radius":"5px"}},null,8,Eb),(0,s._)("div",Ab,[(0,s._)("input",{style:{cursor:"pointer"},type:"file",onChange:t[1]||(t[1]=(...e)=>l.changePicture&&l.changePicture(...e)),accept:"image/png, image/jpeg"},null,32)]),(0,s._)("div",zb,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>o.loggedAdmin.firstName=e),type:"text",class:"form-control",id:"modalFirstName",placeholder:"First Name"},null,512),[[y.nr,o.loggedAdmin.firstName]]),Sb]),(0,s._)("div",Tb,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>o.loggedAdmin.lastName=e),type:"text",class:"form-control",id:"modalLastName",placeholder:"Last Name"},null,512),[[y.nr,o.loggedAdmin.lastName]]),Vb]),(0,s._)("div",Hb,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>o.loggedAdmin.email=e),type:"email",class:"form-control",id:"modalEmail",placeholder:"E-mail"},null,512),[[y.nr,o.loggedAdmin.email]]),jb]),(0,s._)("div",Lb,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>o.loggedAdmin.address=e),type:"text",class:"form-control",id:"modalAddress",placeholder:"Address"},null,512),[[y.nr,o.loggedAdmin.address]]),Bb]),(0,s._)("div",Fb,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>o.loggedAdmin.city=e),type:"text",class:"form-control",id:"modalCity",placeholder:"Place"},null,512),[[y.nr,o.loggedAdmin.city]]),Ob]),(0,s._)("div",qb,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>o.loggedAdmin.country=e),class:"form-control",id:"modalCountry"},null,512),[[y.nr,o.loggedAdmin.country]]),Mb]),(0,s._)("div",Yb,[(0,s.wy)((0,s._)("input",{id:"phoneNumInput",class:"form-control","onUpdate:modelValue":t[8]||(t[8]=e=>o.loggedAdmin.phoneNum=e)},null,512),[[y.nr,o.loggedAdmin.phoneNum]]),Wb])]),(0,s._)("div",Zb,[(0,s._)("button",{type:"button",onClick:t[9]||(t[9]=(...e)=>l.getBackup&&l.getBackup(...e)),class:"custom-btn button-primary","data-bs-dismiss":"modal"},"Close "),(0,s._)("button",{type:"button",onClick:t[10]||(t[10]=(...e)=>l.saveInfoEdit&&l.saveInfoEdit(...e)),class:"custom-btn button-primary","data-bs-dismiss":"modal"}," Save Changes ")])])])])],64)}var Kb={name:"AdminProfile",data(){return{loggedAdmin:{},backupAdmin:{},profilePicture:null,selectedPicture:null,changingPicture:!1}},mounted(){h().get("https://renting-buddy-spring.herokuapp.com/api/admins/complaints/all",{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>this.complaints=e.data)),h().get("https://renting-buddy-spring.herokuapp.com/api/admins/reviews/all",{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>this.reviews=e.data)),h().get("https://renting-buddy-spring.herokuapp.com/api/admins/requests/all",{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>this.requests=e.data)),h().get("https://renting-buddy-spring.herokuapp.com/api/users/loggedUser",{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>this.loggedAdmin=e.data)),h().get("https://renting-buddy-spring.herokuapp.com/api/users/loggedUser/picture",{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>this.profilePicture=e.data))},methods:{approveReport(e,t){h().put("https://renting-buddy-spring.herokuapp.com/api/admins/complaints",e,{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>{1==e.data?(this.$toast.success("Approved"),this.complaints[t].approved=!0):this.$toast.error("Problem has occurred!")}))},approveReview(e,t){h().put("https://renting-buddy-spring.herokuapp.com/api/admins/reviews",e,{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>{1==e.data?(this.$toast.success("Approved"),this.reviews[t].approved=!0):this.$toast.error("Problem has occurred!")}))},approveRequest(e,t){h().put("https://renting-buddy-spring.herokuapp.com/api/admins/requests",e,{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>{1==e.data&&(this.$toast.success("Deleted"),this.requests[t].deleted=!0)}))},backupData(){this.backupAdmin={firstName:this.loggedAdmin.firstName,lastName:this.loggedAdmin.lastName,email:this.loggedAdmin.email,address:this.loggedAdmin.address,city:this.loggedAdmin.city,country:this.loggedAdmin.country,phoneNum:this.loggedAdmin.phoneNum}},getBackup(){this.loggedAdmin={firstName:this.backupAdmin.firstName,lastName:this.backupAdmin.lastName,email:this.backupAdmin.email,address:this.backupAdmin.address,city:this.backupAdmin.city,country:this.backupAdmin.country,phoneNum:this.backupAdmin.phoneNum}},changePicture(e){this.selectedPicture=e.target.files[0],this.changingPicture=!0},saveInfoEdit(){const e=/^[A-Za-z]+$/;if(this.loggedAdmin.firstName.length<2||this.loggedAdmin.firstName.length>20)return this.$toast.error("First name must be between 2-20 characters"),void this.getBackup();if(0==e.test(this.loggedAdmin.firstName))return this.$toast.error("First name must contain only letters"),void this.getBackup();if(this.loggedAdmin.firstName=this.loggedAdmin.firstName.charAt(0).toUpperCase()+this.loggedAdmin.firstName.slice(1),this.loggedAdmin.lastName.length<2||this.loggedAdmin.lastName.length>20)return this.$toast.error("Last name must be between 2-20 characters"),void this.getBackup();if(0==e.test(this.loggedAdmin.lastName))return this.$toast.error("Last name must contain only letters"),void this.getBackup();if(this.loggedAdmin.lastName=this.loggedAdmin.lastName.charAt(0).toUpperCase()+this.loggedAdmin.lastName.slice(1),""===this.loggedAdmin.email)return this.$toast.error("Provide email"),void this.getBackup();if(""===this.loggedAdmin.address)return this.$toast.error("Provide address"),void this.getBackup();if(""===this.loggedAdmin.city)return this.$toast.error("Provide city name"),void this.getBackup();if(""==this.loggedAdmin.country)return this.$toast.error("Provide country"),void this.getBackup();if(""===this.loggedAdmin.phoneNum)return this.$toast.error("Phone number invalid"),void this.getBackup();if(this.changingPicture&&this.selectedPicture.size>1048576)return this.$toast.error("Picture must be smaller than 1MB."),void this.getBackup();if(!0===this.changingPicture){const e=new FormData;e.append("image",this.selectedPicture,this.selectedPicture.name),h().put("https://renting-buddy-spring.herokuapp.com/api/users/loggedUser/picture",e,{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>this.profilePicture=e.data))}h().put("https://renting-buddy-spring.herokuapp.com/api/admins/loggedAdmin",this.loggedAdmin,{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>{0==e.data?this.$toast.error("Edit failed"):this.$toast.success("Edit successful")}))}}};const Qb=(0,v.Z)(Kb,[["render",Gb],["__scopeId","data-v-f850e710"]]);var Jb=Qb;const Xb=(0,s._)("div",null,[(0,s._)("h5",null,"Register new Admin")],-1),ef={class:"form-floating input-group-width mb-2"},tf=(0,s._)("label",{for:"firstNameInput"},"First Name",-1),af={class:"form-floating input-group-width mb-2"},sf=(0,s._)("label",{for:"lastNameInput"},"Last Name",-1),nf={class:"form-floating input-group-width mb-2"},of=(0,s._)("label",{for:"emailInput"},"E-mail",-1),lf={class:"form-floating input-group-width mb-2"},rf=(0,s._)("label",{for:"usernameInput"},"Username",-1),df={class:"form-floating input-group-width mb-2"},uf=(0,s._)("label",{for:"passwordInput"},"Password",-1),cf={class:"form-floating input-group-width mb-2"},pf=(0,s._)("label",{for:"confirmPasswordInput"},"Confirm Password",-1),mf={class:"form-floating input-group-width mb-2"},hf=(0,s._)("label",{for:"addressInput"},"Address",-1),gf={class:"form-floating input-group-width mb-2"},vf=(0,s._)("label",{for:"cityInput"},"City",-1),bf={class:"form-floating input-group-width mb-2"},ff=(0,s._)("label",{for:"countryInput"},"Country",-1),yf={class:"form-floating input-group-width mb-2"},wf=(0,s._)("label",{for:"phoneNumInput"},"Phone Number",-1);function _f(e,t,a,i,n,o){return(0,s.wg)(),(0,s.iD)(s.HY,null,[Xb,(0,s._)("div",null,[(0,s._)("div",ef,[(0,s.wy)((0,s._)("input",{id:"firstNameInput",class:"form-control",type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>n.firstName=e),placeholder:"First Name"},null,512),[[y.nr,n.firstName]]),tf]),(0,s._)("div",af,[(0,s.wy)((0,s._)("input",{id:"lastNameInput",class:"form-control",type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>n.lastName=e),placeholder:"Last Name"},null,512),[[y.nr,n.lastName]]),sf]),(0,s._)("div",nf,[(0,s.wy)((0,s._)("input",{id:"emailInput",class:"form-control",type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>n.email=e),onBlur:t[3]||(t[3]=(...e)=>o.validateEmail&&o.validateEmail(...e)),placeholder:"E-mail"},null,544),[[y.nr,n.email]]),of]),(0,s._)("div",lf,[(0,s.wy)((0,s._)("input",{id:"usernameInput",class:"form-control",type:"text","onUpdate:modelValue":t[4]||(t[4]=e=>n.username=e),placeholder:"Username"},null,512),[[y.nr,n.username]]),rf]),(0,s._)("div",df,[(0,s.wy)((0,s._)("input",{id:"passwordInput",class:"form-control",type:"password","onUpdate:modelValue":t[5]||(t[5]=e=>n.password=e),placeholder:"Password"},null,512),[[y.nr,n.password]]),uf]),(0,s._)("div",cf,[(0,s.wy)((0,s._)("input",{id:"confirmPasswordInput",class:"form-control",type:"password","onUpdate:modelValue":t[6]||(t[6]=e=>n.confirmPassword=e),placeholder:"Confirm Password"},null,512),[[y.nr,n.confirmPassword]]),pf]),(0,s._)("div",mf,[(0,s.wy)((0,s._)("input",{id:"addressInput",class:"form-control",type:"text","onUpdate:modelValue":t[7]||(t[7]=e=>n.address=e),placeholder:"Address"},null,512),[[y.nr,n.address]]),hf]),(0,s._)("div",gf,[(0,s.wy)((0,s._)("input",{id:"cityInput",class:"form-control",type:"text","onUpdate:modelValue":t[8]||(t[8]=e=>n.city=e),placeholder:"City"},null,512),[[y.nr,n.city]]),vf]),(0,s._)("div",bf,[(0,s.wy)((0,s._)("input",{id:"countryInput",class:"form-control",type:"text","onUpdate:modelValue":t[9]||(t[9]=e=>n.country=e),placeholder:"Country"},null,512),[[y.nr,n.country]]),ff]),(0,s._)("div",yf,[(0,s.wy)((0,s._)("input",{id:"phoneNumInput",class:"form-control",type:"text","onUpdate:modelValue":t[10]||(t[10]=e=>n.phoneNum=e),placeholder:"Phone number"},null,512),[[y.nr,n.phoneNum]]),wf]),(0,s._)("div",null,[(0,s._)("button",{class:"custom-btn button-primary",style:{width:"150px","margin-top":"15px"},onClick:t[11]||(t[11]=(...e)=>o.addAdmin&&o.addAdmin(...e))},"Sign up")])])],64)}var kf={name:"AdminRegister",data(){return{firstName:"",lastName:"",username:"",email:"",password:"",confirmPassword:"",address:"",city:"",country:"",phoneNum:""}},mounted(){},methods:{addAdmin(){var e=/^[A-Za-z]+$/;if(this.firstName.length<2||this.firstName.length>20)this.$toast.error("First name must be between 2-20 characters");else if(0!=e.test(this.firstName))if(this.firstName=this.firstName.charAt(0).toUpperCase()+this.firstName.slice(1),this.lastName.length<2||this.lastName.length>20)this.$toast.error("Last name must be between 2-20 characters");else if(0!=e.test(this.lastName))if(this.lastName=this.lastName.charAt(0).toUpperCase()+this.lastName.slice(1),this.email.length<5||0==this.validateEmail(this.email))this.$toast.error("Invalid email");else{this.email.toLowerCase();var t=/^[0-9A-Za-z]+$/;this.username.length<3||this.username.length>20?this.$toast.error("Username must be between 3-20 characters"):t.test(this.username)?this.password.length<5||this.password.length>20?this.$toast.error("Password must be between 5-20 characters"):t.test(this.password)?this.password===this.confirmPassword?""!==this.address?""!==this.city?""!==this.country?""!==this.phoneNum?h().get(`https://renting-buddy-spring.herokuapp.com/api/auth/isMailAvailable/${this.email}`).then((e=>{0!=e.data?h().get(`https://renting-buddy-spring.herokuapp.com/api/auth/isUsernameAvailable/${this.username}`).then((e=>{if(0!=e.data){const e={firstName:this.firstName,lastName:this.lastName,username:this.username,email:this.email,password:this.password,confirmPassword:this.confirmPassword,address:this.address,city:this.city,country:this.country,phoneNum:this.phoneNum};h().post("https://renting-buddy-spring.herokuapp.com/api/auth/addAdmin",e).then((e=>{0==e.data?this.$toast.error("Registration failed"):(this.$toast.success("Registration successful"),this.firstName="",this.lastName="",this.username="",this.email="",this.password="",this.confirmPassword="",this.address="",this.city="",this.country="",this.phoneNum="")}))}else this.$toast.error("Username already taken")})):this.$toast.error("Email already taken")})):this.$toast.error("Phone number invalid"):this.$toast.error("Provide country"):this.$toast.error("Provide city name"):this.$toast.error("Provide address"):this.$toast.error("Passwords must match"):this.$toast.error("Password must only contain letters and numbers"):this.$toast.error("Username must only contain letters and numbers")}else this.$toast.error("Last name must contain only letters");else this.$toast.error("First name must contain only letters")},validateEmail(e){var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)}}};const xf=(0,v.Z)(kf,[["render",_f]]);var Pf=xf;function Cf(e,t,a,i,n,o){return(0,s.wg)(),(0,s.iD)("div",null,"REPORTS")}var Uf={name:"AdminReports",data(){return{}},mounted(){},methods:{}};const If=(0,v.Z)(Uf,[["render",Cf]]);var $f=If;const Df=e=>((0,s.dD)("data-v-6457f3d2"),e=e(),(0,s.Cn)(),e),Nf={class:"main-wrapper"},Rf=["index"],Ef={class:"inner-container"},Af={class:"left-container"},zf={key:0},Sf=Df((()=>(0,s._)("b",null,"Comment:",-1))),Tf=Df((()=>(0,s._)("b",null,"User:",-1))),Vf={key:1},Hf=Df((()=>(0,s._)("b",null,"Type:",-1))),jf=(0,s.Uk)(" Delete Account"),Lf=[Hf,jf],Bf={key:2},Ff=Df((()=>(0,s._)("b",null,"Type:",-1))),Of=(0,s.Uk)(" Vacation House Owner"),qf=[Ff,Of],Mf={key:3},Yf=Df((()=>(0,s._)("b",null,"Type:",-1))),Wf=(0,s.Uk)(" Ship Owner"),Zf=[Yf,Wf],Gf={key:4},Kf=Df((()=>(0,s._)("b",null,"Type:",-1))),Qf=(0,s.Uk)(" Fishing Instructor"),Jf=[Kf,Qf],Xf={style:{margin:"auto 100px auto 200px"}},ey={class:"form-floating input-group-width mb-2 w-100"},ty=["onUpdate:modelValue"],ay=Df((()=>(0,s._)("label",{for:"lastNameInput"},"Reason",-1))),sy={class:"right-container"},iy=["onClick"],ny=["onClick"];function oy(e,t,a,n,o,l){return(0,s.wg)(),(0,s.iD)("div",Nf,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(this.requests,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"for-container",index:t,key:e.id},[(0,s._)("div",Ef,[(0,s._)("div",Af,[e.text?((0,s.wg)(),(0,s.iD)("div",zf,[Sf,(0,s.Uk)(" "+(0,i.zw)(e.text),1)])):(0,s.kq)("",!0),(0,s._)("div",null,[Tf,(0,s.Uk)(" "+(0,i.zw)(e.submitterUsername),1)]),"DELETE_ACCOUNT"===e.type?((0,s.wg)(),(0,s.iD)("div",Vf,Lf)):(0,s.kq)("",!0),"BECOME_VH_OWNER"===e.type?((0,s.wg)(),(0,s.iD)("div",Bf,qf)):(0,s.kq)("",!0),"BECOME_SH_OWNER"===e.type?((0,s.wg)(),(0,s.iD)("div",Mf,Zf)):(0,s.kq)("",!0),"BECOME_INSTRUCTOR"===e.type?((0,s.wg)(),(0,s.iD)("div",Gf,Jf)):(0,s.kq)("",!0)]),(0,s._)("div",Xf,[(0,s._)("div",ey,[(0,s.wy)((0,s._)("input",{id:"lastNameInput",class:"form-control",type:"text","onUpdate:modelValue":t=>e.adminResponse=t,placeholder:"Reason"},null,8,ty),[[y.nr,e.adminResponse]]),ay]),(0,s._)("div",sy,[(0,s._)("button",{class:"custom-btn button-primary",style:{width:"120px"},onClick:a=>l.approveRequest(e,t)},"Approve",8,iy),(0,s._)("button",{class:"custom-btn button-primary ms-5",style:{width:"120px","background-color":"indianred"},onClick:a=>l.rejectRequest(e,t)},"Reject",8,ny)])])])],8,Rf)))),128))])}var ly={name:"AdminRequests",data(){return{requests:[]}},mounted(){h().get("api/admins/requests/all",{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>this.requests=e.data))},methods:{approveRequest(e,t){h().put("api/admins/requests",e,{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>{1==e.data?(this.$toast.success("Success!"),this.requests.splice(t,1)):this.$toast.error("Problem has occurred!")}))},rejectRequest(e,t){""!==e.adminResponse?h().put("api/admins/requests/reject",e,{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>{1==e.data?(this.$toast.success("Rejected!"),this.requests.splice(t,1)):this.$toast.error("Problem has occurred!")})):this.$toast.error("Provide a reason")}}};const ry=(0,v.Z)(ly,[["render",oy],["__scopeId","data-v-6457f3d2"]]);var dy=ry;const uy=e=>((0,s.dD)("data-v-25f15650"),e=e(),(0,s.Cn)(),e),cy={style:{display:"flex","justify-content":"center"}},py={class:"main-wrapper"},my=["index"],hy={class:"inner-container"},gy={class:"left-container"},vy=uy((()=>(0,s._)("b",null,"Entity:",-1))),by=uy((()=>(0,s._)("b",null,"Profit:",-1))),fy=uy((()=>(0,s._)("b",null,"Date:",-1))),yy={class:"inner-container",style:{"text-align":"left",display:"block","margin-top":"15px","margin-left":"15px",width:"200px",height:"200px"}},wy=uy((()=>(0,s._)("b",null,"Total profit:",-1))),_y=uy((()=>(0,s._)("br",null,null,-1))),ky=uy((()=>(0,s._)("b",null,"Reservations count:",-1)));function xy(e,t,a,n,o,l){return(0,s.wg)(),(0,s.iD)("div",cy,[(0,s._)("div",py,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(this.reservations,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"for-container",index:t,key:e.id},[(0,s._)("div",hy,[(0,s._)("div",gy,[(0,s._)("div",null,[vy,(0,s.Uk)(" "+(0,i.zw)(e.rentingEntityName),1)]),(0,s._)("div",null,[by,(0,s.Uk)(" "+(0,i.zw)((e.price*e.fee).toFixed(2))+" € ",1)]),(0,s._)("div",null,[fy,(0,s.Uk)(" "+(0,i.zw)(e.start),1)])])])],8,my)))),128))]),(0,s._)("div",yy,[(0,s._)("div",null,[wy,(0,s.Uk)(" "+(0,i.zw)(o.totalProfit.toFixed(2))+" €",1)]),_y,(0,s._)("div",null,[ky,(0,s.Uk)(" "+(0,i.zw)(o.reservations.length),1)])])])}var Py={name:"AdminReservations",data(){return{reservations:[],totalProfit:0}},mounted(){h().get("api/admins/reservations/all",{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>{this.reservations=e.data;for(const t of this.reservations)this.totalProfit+=t.price*t.fee}))},methods:{}};const Cy=(0,v.Z)(Py,[["render",xy],["__scopeId","data-v-25f15650"]]);var Uy=Cy;const Iy=e=>((0,s.dD)("data-v-fcf7e04a"),e=e(),(0,s.Cn)(),e),$y={class:"main-wrapper"},Dy=["index"],Ny={class:"inner-container"},Ry={class:"left-container"},Ey={key:0},Ay=Iy((()=>(0,s._)("b",null,"Comment:",-1))),zy={key:1},Sy=Iy((()=>(0,s._)("b",null,"Entity:",-1))),Ty={key:2},Vy=Iy((()=>(0,s._)("b",null,"Owner:",-1))),Hy=Iy((()=>(0,s._)("b",null,"Client:",-1))),jy={class:"right-container"},Ly=["onClick"],By=["onClick"];function Fy(e,t,a,n,o,l){return(0,s.wg)(),(0,s.iD)("div",$y,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(this.reviews,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"for-container",index:t,key:e.id},[(0,s._)("div",Ny,[(0,s._)("div",Ry,[e.comment?((0,s.wg)(),(0,s.iD)("div",Ey,[Ay,(0,s.Uk)(" "+(0,i.zw)(e.comment),1)])):(0,s.kq)("",!0),e.entityName?((0,s.wg)(),(0,s.iD)("div",zy,[Sy,(0,s.Uk)(" "+(0,i.zw)(e.entityName),1)])):(0,s.kq)("",!0),e.ownerName?((0,s.wg)(),(0,s.iD)("div",Ty,[Vy,(0,s.Uk)(" "+(0,i.zw)(e.ownerName),1)])):(0,s.kq)("",!0),(0,s._)("div",null,[Hy,(0,s.Uk)(" "+(0,i.zw)(e.clientName),1)])]),(0,s._)("div",jy,[(0,s._)("button",{class:"custom-btn button-primary",style:{width:"120px"},onClick:a=>l.approveReview(e,t)},"Approve",8,Ly),(0,s._)("button",{class:"custom-btn button-primary ms-5",style:{width:"120px","background-color":"indianred"},onClick:a=>l.rejectReview(e,t)},"Reject",8,By)])])],8,Dy)))),128))])}var Oy={name:"AdminReviews",data(){return{reviews:[]}},mounted(){h().get("https://renting-buddy-spring.herokuapp.com/api/admins/reviews/all",{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>this.reviews=e.data))},methods:{approveReview(e,t){h().put("https://renting-buddy-spring.herokuapp.com/api/admins/reviews",e,{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>{1==e.data?(this.$toast.success("Approved"),this.reviews.splice(t,1)):this.$toast.error("Problem has occurred!")}))},rejectReview(e,t){h().put("https://renting-buddy-spring.herokuapp.com/api/admins/reviews/reject",e,{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((e=>{1==e.data?(this.$toast.success("Rejected!"),this.reviews.splice(t,1)):this.$toast.error("Problem has occurred!")}))}}};const qy=(0,v.Z)(Oy,[["render",Fy],["__scopeId","data-v-fcf7e04a"]]);var My=qy;const Yy=[{name:"homePage",path:"/",component:As},{path:"/registrationPage",component:Ui},{name:"loginPage",path:"/loginPage",component:Ys},{name:"clientProfile",path:"/clientProfile",component:Gt},{path:"/fishingClassProfile",component:Ia},{name:"vacationHouseProfile",path:"/vacationHouseProfile",component:No},{name:"shipProfile",path:"/shipProfile",component:cu},{name:"rentingEntityPreview",path:"/rentingEntityPreview/rID:id$dT:displayType",component:Cr},{name:"verificationPage",path:"//verification/aTvHtI:customId",component:Li},{name:"newPasswordPage",path:"/newPassword/:token",component:vn},{name:"forgotPasswordPage",path:"/forgotPasswordPage",component:on},{name:"userProfilePreviewPage",path:"/user/:username",component:Lr},{name:"ownerProfile",path:"/owner",component:Du,children:[{name:"ownerHome",path:"/ownerHome",component:Jp},{name:"ownerInfo",path:"/ownerInfo",component:ch},{name:"ownerReservations",path:"/ownerReservations",component:Qh}]},{name:"clientProfile",path:"/clientProfile",component:Gt},{name:"adminHome",path:"/adminHome",component:db,children:[{name:"adminComplaints",path:"/adminHome",component:Rg},{name:"adminEntities",path:"/adminHome",component:Bv},{name:"adminFee",path:"/adminHome",component:Wv},{name:"adminLoyalty",path:"/adminHome",component:mb},{name:"adminProfile",path:"/adminHome",component:Jb},{name:"adminRegister",path:"/adminHome",component:Pf},{name:"adminReports",path:"/adminHome",component:$f},{name:"adminRequests",path:"/adminHome",component:dy},{name:"adminReservations",path:"/adminHome",component:Uy},{name:"adminReviews",path:"/adminHome",component:My}]},{name:"firstLogin",path:"/firstLogin",component:rg},{name:"notFoundPage",path:"/:pathMatch(.*)*",component:Qi}],Wy=new w.p7({base:"/",routes:Yy});(0,y.ri)(f).use(Wy).use(Kt.ZP,{position:"top",duration:2e3}).use(mu()).use(gu()).use(vu.ZP,{}).component("Datepicker",Qt.Z).component("PictureInput",Br.Z).mount("#app")}},t={};function a(s){var i=t[s];if(void 0!==i)return i.exports;var n=t[s]={exports:{}};return e[s].call(n.exports,n,n.exports,a),n.exports}a.m=e,function(){var e=[];a.O=function(t,s,i,n){if(!s){var o=1/0;for(u=0;u<e.length;u++){s=e[u][0],i=e[u][1],n=e[u][2];for(var l=!0,r=0;r<s.length;r++)(!1&n||o>=n)&&Object.keys(a.O).every((function(e){return a.O[e](s[r])}))?s.splice(r--,1):(l=!1,n<o&&(o=n));if(l){e.splice(u--,1);var d=i();void 0!==d&&(t=d)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[s,i,n]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var i,n,o=s[0],l=s[1],r=s[2],d=0;if(o.some((function(t){return 0!==e[t]}))){for(i in l)a.o(l,i)&&(a.m[i]=l[i]);if(r)var u=r(a)}for(t&&t(s);d<o.length;d++)n=o[d],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(u)},s=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(6390)}));s=a.O(s)})();
//# sourceMappingURL=app.09aa0862.js.map